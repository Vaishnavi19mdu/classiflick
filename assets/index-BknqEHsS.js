(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function D0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Dd={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function BS(){if(O_)return gl;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return gl.Fragment=t,gl.jsx=n,gl.jsxs=n,gl}var D_;function HS(){return D_||(D_=1,Dd.exports=BS()),Dd.exports}var A=HS(),Md={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function qS(){if(M_)return vt;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function lt(M,Q,nt){this.props=M,this.context=Q,this.refs=Z,this.updater=nt||$}lt.prototype.isReactComponent={},lt.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},lt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ft(){}ft.prototype=lt.prototype;function mt(M,Q,nt){this.props=M,this.context=Q,this.refs=Z,this.updater=nt||$}var Ht=mt.prototype=new ft;Ht.constructor=mt,tt(Ht,lt.prototype),Ht.isPureReactComponent=!0;var te=Array.isArray;function Lt(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,Q,nt){var st=nt.ref;return{$$typeof:s,type:M,key:Q,ref:st!==void 0?st:null,props:nt}}function V(M,Q){return I(M.type,Q,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return Q[nt]})}var R=/\/+/g;function Wt(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Q.toString(36)}function se(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Lt,Lt):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Q,nt,st,yt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Mt=!1;if(M===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(M.$$typeof){case s:case t:Mt=!0;break;case S:return Mt=M._init,G(Mt(M._payload),Q,nt,st,yt)}}if(Mt)return yt=yt(M),Mt=st===""?"."+Wt(M,0):st,te(yt)?(nt="",Mt!=null&&(nt=Mt.replace(R,"$&/")+"/"),G(yt,Q,nt,"",function(ir){return ir})):yt!=null&&(D(yt)&&(yt=V(yt,nt+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+Mt)),Q.push(yt)),1;Mt=0;var Ie=st===""?".":st+":";if(te(M))for(var re=0;re<M.length;re++)st=M[re],St=Ie+Wt(st,re),Mt+=G(st,Q,nt,St,yt);else if(re=H(M),typeof re=="function")for(M=re.call(M),re=0;!(st=M.next()).done;)st=st.value,St=Ie+Wt(st,re++),Mt+=G(st,Q,nt,St,yt);else if(St==="object"){if(typeof M.then=="function")return G(se(M),Q,nt,st,yt);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(M,Q,nt){if(M==null)return M;var st=[],yt=0;return G(M,st,"","",function(St){return Q.call(nt,St,yt++)}),st}function ct(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var kt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:et,forEach:function(M,Q,nt){et(M,function(){Q.apply(this,arguments)},nt)},count:function(M){var Q=0;return et(M,function(){Q++}),Q},toArray:function(M){return et(M,function(Q){return Q})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=b,vt.Children=Gt,vt.Component=lt,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=mt,vt.StrictMode=r,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,Q,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=tt({},M.props),yt=M.key;if(Q!=null)for(St in Q.key!==void 0&&(yt=""+Q.key),Q)!w.call(Q,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Q.ref===void 0||(st[St]=Q[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var Mt=Array(St),Ie=0;Ie<St;Ie++)Mt[Ie]=arguments[Ie+2];st.children=Mt}return I(M.type,yt,st)},vt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},vt.createElement=function(M,Q,nt){var st,yt={},St=null;if(Q!=null)for(st in Q.key!==void 0&&(St=""+Q.key),Q)w.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Q[st]);var Mt=arguments.length-2;if(Mt===1)yt.children=nt;else if(1<Mt){for(var Ie=Array(Mt),re=0;re<Mt;re++)Ie[re]=arguments[re+2];yt.children=Ie}if(M&&M.defaultProps)for(st in Mt=M.defaultProps,Mt)yt[st]===void 0&&(yt[st]=Mt[st]);return I(M,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:g,render:M}},vt.isValidElement=D,vt.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ct}},vt.memo=function(M,Q){return{$$typeof:_,type:M,compare:Q===void 0?null:Q}},vt.startTransition=function(M){var Q=x.T,nt={};x.T=nt;try{var st=M(),yt=x.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Lt,kt)}catch(St){kt(St)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),x.T=Q}},vt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},vt.use=function(M){return x.H.use(M)},vt.useActionState=function(M,Q,nt){return x.H.useActionState(M,Q,nt)},vt.useCallback=function(M,Q){return x.H.useCallback(M,Q)},vt.useContext=function(M){return x.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,Q){return x.H.useDeferredValue(M,Q)},vt.useEffect=function(M,Q){return x.H.useEffect(M,Q)},vt.useEffectEvent=function(M){return x.H.useEffectEvent(M)},vt.useId=function(){return x.H.useId()},vt.useImperativeHandle=function(M,Q,nt){return x.H.useImperativeHandle(M,Q,nt)},vt.useInsertionEffect=function(M,Q){return x.H.useInsertionEffect(M,Q)},vt.useLayoutEffect=function(M,Q){return x.H.useLayoutEffect(M,Q)},vt.useMemo=function(M,Q){return x.H.useMemo(M,Q)},vt.useOptimistic=function(M,Q){return x.H.useOptimistic(M,Q)},vt.useReducer=function(M,Q,nt){return x.H.useReducer(M,Q,nt)},vt.useRef=function(M){return x.H.useRef(M)},vt.useState=function(M){return x.H.useState(M)},vt.useSyncExternalStore=function(M,Q,nt){return x.H.useSyncExternalStore(M,Q,nt)},vt.useTransition=function(){return x.H.useTransition()},vt.version="19.2.4",vt}var V_;function Tm(){return V_||(V_=1,Md.exports=qS()),Md.exports}var Bt=Tm();const GS=D0(Bt);var Vd={exports:{}},pl={},Ld={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function FS(){return L_||(L_=1,(function(s){function t(G,et){var ct=G.length;G.push(et);t:for(;0<ct;){var kt=ct-1>>>1,Gt=G[kt];if(0<l(Gt,et))G[kt]=et,G[ct]=Gt,ct=kt;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var et=G[0],ct=G.pop();if(ct!==et){G[0]=ct;t:for(var kt=0,Gt=G.length,M=Gt>>>1;kt<M;){var Q=2*(kt+1)-1,nt=G[Q],st=Q+1,yt=G[st];if(0>l(nt,ct))st<Gt&&0>l(yt,nt)?(G[kt]=yt,G[st]=ct,kt=st):(G[kt]=nt,G[Q]=ct,kt=Q);else if(st<Gt&&0>l(yt,ct))G[kt]=yt,G[st]=ct,kt=st;else break t}}return et}function l(G,et){var ct=G.sortIndex-et.sortIndex;return ct!==0?ct:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var y=[],_=[],S=1,b=null,N=3,H=!1,$=!1,tt=!1,Z=!1,lt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ht(G){for(var et=n(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=G)r(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=n(_)}}function te(G){if(tt=!1,Ht(G),!$)if(n(y)!==null)$=!0,Lt||(Lt=!0,k());else{var et=n(_);et!==null&&se(te,et.startTime-G)}}var Lt=!1,x=-1,w=5,I=-1;function V(){return Z?!0:!(s.unstable_now()-I<w)}function D(){if(Z=!1,Lt){var G=s.unstable_now();I=G;var et=!0;try{t:{$=!1,tt&&(tt=!1,ft(x),x=-1),H=!0;var ct=N;try{e:{for(Ht(G),b=n(y);b!==null&&!(b.expirationTime>G&&V());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,N=b.priorityLevel;var Gt=kt(b.expirationTime<=G);if(G=s.unstable_now(),typeof Gt=="function"){b.callback=Gt,Ht(G),et=!0;break e}b===n(y)&&r(y),Ht(G)}else r(y);b=n(y)}if(b!==null)et=!0;else{var M=n(_);M!==null&&se(te,M.startTime-G),et=!1}}break t}finally{b=null,N=ct,H=!1}et=void 0}}finally{et?k():Lt=!1}}}var k;if(typeof mt=="function")k=function(){mt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Wt=R.port2;R.port1.onmessage=D,k=function(){Wt.postMessage(null)}}else k=function(){lt(D,0)};function se(G,et){x=lt(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(G){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ct=N;N=et;try{return G()}finally{N=ct}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=N;N=G;try{return et()}finally{N=ct}},s.unstable_scheduleCallback=function(G,et,ct){var kt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?kt+ct:kt):ct=kt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ct+Gt,G={id:S++,callback:et,priorityLevel:G,startTime:ct,expirationTime:Gt,sortIndex:-1},ct>kt?(G.sortIndex=ct,t(_,G),n(y)===null&&G===n(_)&&(tt?(ft(x),x=-1):tt=!0,se(te,ct-kt))):(G.sortIndex=Gt,t(y,G),$||H||($=!0,Lt||(Lt=!0,k()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var et=N;return function(){var ct=N;N=et;try{return G.apply(this,arguments)}finally{N=ct}}}})(kd)),kd}var k_;function KS(){return k_||(k_=1,Ld.exports=FS()),Ld.exports}var Ud={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function YS(){if(U_)return Ye;U_=1;var s=Tm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:S}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,S)},Ye.flushSync=function(y){var _=f.T,S=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=_,r.p=S,r.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,b=g(S,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:H}):S==="script"&&r.d.X(y,{crossOrigin:b,integrity:N,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,b=g(S,_.crossOrigin);r.d.L(y,S,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ye.requestFormReset=function(y){r.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,S){return f.H.useFormState(y,_,S)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var P_;function QS(){if(P_)return Ud.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=YS(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function XS(){if(j_)return pl;j_=1;var s=KS(),t=Tm(),n=QS();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function _(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),e;if(d===o)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=d;break}if(E===o){p=!0,o=h,a=d;break}E=E.sibling}if(!p){for(E=d.child;E;){if(E===a){p=!0,a=d,o=h;break}if(E===o){p=!0,o=d,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function S(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=S(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case lt:return"Profiler";case Z:return"StrictMode";case te:return"Suspense";case Lt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case mt:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case Ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:Wt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Wt(e(i))}catch{}}return null}var se=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},kt=[],Gt=-1;function M(e){return{current:e}}function Q(e){0>Gt||(e.current=kt[Gt],kt[Gt]=null,Gt--)}function nt(e,i){Gt++,kt[Gt]=e.current,e.current=i}var st=M(null),yt=M(null),St=M(null),Mt=M(null);function Ie(e,i){switch(nt(St,i),nt(yt,e),nt(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=t_(i),e=e_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),nt(st,e)}function re(){Q(st),Q(yt),Q(St)}function ir(e){e.memoizedState!==null&&nt(Mt,e);var i=st.current,a=e_(i,e.type);i!==a&&(nt(yt,e),nt(st,a))}function Xr(e){yt.current===e&&(Q(st),Q(yt)),Mt.current===e&&(Q(Mt),hl._currentValue=ct)}var Jr,$r;function Wn(e){if(Jr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Jr=i&&i[1]||"",$r=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+$r}var co=!1;function sr(e,i){if(!e||co)return"";co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),p=d[0],E=d[1];if(p&&E){var C=p.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Wn(a):""}function ho(e,i){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==i&&i!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return sr(e.type,!1);case 11:return sr(e.type.render,!1);case 1:return sr(e.type,!0);case 31:return Wn("Activity");default:return""}}function fo(e){try{var i="",a=null;do i+=ho(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,is=s.unstable_cancelCallback,Mh=s.unstable_shouldYield,su=s.unstable_requestPaint,We=s.unstable_now,rr=s.unstable_getCurrentPriorityLevel,mo=s.unstable_ImmediatePriority,go=s.unstable_UserBlockingPriority,ss=s.unstable_NormalPriority,Vh=s.unstable_LowPriority,ru=s.unstable_IdlePriority,au=s.log,ou=s.unstable_setDisableYieldValue,Un=null,Pe=null;function Tn(e){if(typeof au=="function"&&ou(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var fe=Math.clz32?Math.clz32:uu,lu=Math.log,Zr=Math.LN2;function uu(e){return e>>>=0,e===0?32:31-(lu(e)/Zr|0)|0}var ti=256,ar=262144,_e=4194304;function ei(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=ei(o):(p&=E,p!==0?h=ei(p):a||(a=E&~e,a!==0&&(h=ei(a))))):(E=o&~d,E!==0?h=ei(E):p!==0?h=ei(p):a||(a=o&~e,a!==0&&(h=ei(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Pn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Lh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ii(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function or(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,i,a,o,h,d){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=p&~a;0<a;){var F=31-fe(a),Y=1<<F;E[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&lr(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~i))}function lr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-fe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function po(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function yo(e,i){var a=i&-i;return a=(a&42)!==0?1:ur(a),(a&(e.suspendedLanes|i))!==0?0:a}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function jn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var zn=Math.random().toString(36).slice(2),ve="__reactFiber$"+zn,Me="__reactProps$"+zn,si="__reactContainer$"+zn,Wr="__reactEvents$"+zn,Uh="__reactListeners$"+zn,fu="__reactHandles$"+zn,du="__reactResources$"+zn,ri="__reactMarker$"+zn;function ta(e){delete e[ve],delete e[Me],delete e[Wr],delete e[Uh],delete e[fu]}function ai(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[si]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=l_(e);e!==null;){if(a=e[ve])return a;e=l_(e)}return i}e=a,a=e.parentNode}return null}function An(e){if(e=e[ve]||e[si]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function oi(e){var i=e[du];return i||(i=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ri]=!0}var _o=new Set,vo={};function li(e,i){ui(e,i),ui(e+"Capture",i)}function ui(e,i){for(vo[e]=i,e=0;e<i.length;e++)_o.add(i[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function mu(e){return ye.call(Ao,e)?!0:ye.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function ea(e,i,a){if(mu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function So(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ft(e){if(!e._valueTracker){var i=rs(e)?"checked":"value";e._valueTracker=So(e,i,""+e[i])}}function cr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hr=/[\n"\\]/g;function nn(e){return e.replace(hr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function na(e,i,a,o,h,d,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ve(i)):e.value!==""+Ve(i)&&(e.value=""+Ve(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?bo(e,p,Ve(i)):a!=null?bo(e,p,Ve(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function gu(e,i,a,o,h,d,p,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ft(e);return}a=a!=null?""+Ve(a):"",i=i!=null?""+Ve(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ft(e)}function bo(e,i,a){i==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function as(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ve(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function pu(e,i,a){if(i!=null&&(i=""+Ve(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ve(a):""}function os(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(se(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ve(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||yu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ro(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&wo(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&wo(e,d,i[d])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Co=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,hi=null;function fr(e){var i=An(e);if(i&&(e=i.stateNode)){var a=e[Me]||null;t:switch(e=i.stateNode,i.type){case"input":if(na(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(r(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&cr(o)}break t;case"textarea":pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&as(e,!!a.multiple,i,!1)}}}var ra=!1;function cs(e,i,a){if(ra)return e(i,a);ra=!0;try{var o=e(i);return o}finally{if(ra=!1,(us!==null||hi!==null)&&(hc(),us&&(i=us,e=hi,hi=us=null,fr(i),e)))for(i=0;i<e.length;i++)fr(e[i])}}function Hn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Me]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(bn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{dr=!1}var fi=null,Io=null,mr=null;function xo(){if(mr)return mr;var e,i=Io,a=i.length,o,h="value"in fi?fi.value:fi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&i[a-o]===h[d-o];o++);return mr=h.slice(e,1<o?1-o:void 0)}function gr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function je(e){function i(a,o,h,d,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),i}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Oi),hs=b({},Oi,{view:0,detail:0}),No=je(hs),fs,aa,mi,oa=b({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(fs=e.screenX-mi.screenX,aa=e.screenY-mi.screenY):aa=fs=0,mi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Oo=je(oa),pr=b({},oa,{dataTransfer:0}),vu=je(pr),Eu=b({},hs,{relatedTarget:0}),yr=je(Eu),Do=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=je(Do),la=b({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=je(la),Su=b({},Oi,{data:0}),gi=je(Su),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function ds(){return Cu}var tn=b({},hs,{key:function(e){if(e.key){var i=bu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=je(tn),xu=b({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=je(xu),c=b({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=je(c),v=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),U=b({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(U),W=b({},Oi,{newState:0,oldState:0}),Tt=je(W),de=[9,13,27,32],jt=bn&&"CompositionEvent"in window,ae=null;bn&&"documentMode"in document&&(ae=document.documentMode);var wn=bn&&"TextEvent"in window&&!ae,pi=bn&&(!jt||ae&&8<ae&&11>=ae),Gn=" ",Fn=!1;function _r(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function hA(e,i){switch(e){case"compositionend":return ua(i);case"keypress":return i.which!==32?null:(Fn=!0,Gn);case"textInput":return e=i.data,e===Gn&&Fn?null:e;default:return null}}function fA(e,i){if(ca)return e==="compositionend"||!jt&&_r(e,i)?(e=xo(),mr=Io=fi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pi&&i.locale!=="ko"?null:i.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!dA[e.type]:i==="textarea"}function fg(e,i,a,o){us?hi?hi.push(o):hi=[o]:us=o,i=_c(i,"onChange"),0<i.length&&(a=new di("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Mo=null,Vo=null;function mA(e){Qy(e,0)}function Nu(e){var i=hn(e);if(cr(i))return e}function dg(e,i){if(e==="change")return i}var mg=!1;if(bn){var Ph;if(bn){var jh="oninput"in document;if(!jh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),jh=typeof gg.oninput=="function"}Ph=jh}else Ph=!1;mg=Ph&&(!document.documentMode||9<document.documentMode)}function pg(){Mo&&(Mo.detachEvent("onpropertychange",yg),Vo=Mo=null)}function yg(e){if(e.propertyName==="value"&&Nu(Vo)){var i=[];fg(i,Vo,e,Sn(e)),cs(mA,i)}}function gA(e,i,a){e==="focusin"?(pg(),Mo=i,Vo=a,Mo.attachEvent("onpropertychange",yg)):e==="focusout"&&pg()}function pA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Vo)}function yA(e,i){if(e==="click")return Nu(i)}function _A(e,i){if(e==="input"||e==="change")return Nu(i)}function vA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:vA;function Lo(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,i){var a=_g(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Eg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ci(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ci(e.document)}return i}function zh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var EA=bn&&"documentMode"in document&&11>=document.documentMode,ha=null,Bh=null,ko=null,Hh=!1;function Ag(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||ha==null||ha!==ci(o)||(o=ha,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Lo(ko,o)||(ko=o,o=_c(Bh,"onSelect"),0<o.length&&(i=new di("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ha)))}function vr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var fa={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},qh={},Sg={};bn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Er(e){if(qh[e])return qh[e];if(!fa[e])return e;var i=fa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sg)return qh[e]=i[a];return e}var bg=Er("animationend"),wg=Er("animationiteration"),Rg=Er("animationstart"),TA=Er("transitionrun"),AA=Er("transitionstart"),SA=Er("transitioncancel"),Cg=Er("transitionend"),Ig=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Kn(e,i){Ig.set(e,i),li(i,[e])}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],da=0,Fh=0;function Du(){for(var e=da,i=Fh=da=0;i<e;){var a=Rn[i];Rn[i++]=null;var o=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}d!==0&&xg(a,h,d)}}function Mu(e,i,a,o){Rn[da++]=e,Rn[da++]=i,Rn[da++]=a,Rn[da++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,i,a,o){return Mu(e,i,a,o),Vu(e)}function Tr(e,i){return Mu(e,null,null,i),Vu(e)}function xg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Vu(e){if(50<sl)throw sl=0,nd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ma={};function bA(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,a,o){return new bA(e,i,a,o)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,i){var a=e.alternate;return a===null?(a=mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ng(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Lu(e,i,a,o,h,d){var p=0;if(o=e,typeof e=="function")Yh(e)&&(p=1);else if(typeof e=="string")p=xS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=mn(31,a,i,h),e.elementType=I,e.lanes=d,e;case tt:return Ar(a.children,h,d,i);case Z:p=8,h|=24;break;case lt:return e=mn(12,a,i,h|2),e.elementType=lt,e.lanes=d,e;case te:return e=mn(13,a,i,h),e.elementType=te,e.lanes=d,e;case Lt:return e=mn(19,a,i,h),e.elementType=Lt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:p=10;break t;case ft:p=9;break t;case Ht:p=11;break t;case x:p=14;break t;case w:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=mn(p,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Ar(e,i,a,o){return e=mn(7,e,o,i),e.lanes=a,e}function Qh(e,i,a){return e=mn(6,e,null,i),e.lanes=a,e}function Og(e){var i=mn(18,null,null,0);return i.stateNode=e,i}function Xh(e,i,a){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Dg=new WeakMap;function Cn(e,i){if(typeof e=="object"&&e!==null){var a=Dg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:fo(i)},Dg.set(e,i),i)}return{value:e,source:i,stack:fo(i)}}var ga=[],pa=0,ku=null,Uo=0,In=[],xn=0,ms=null,yi=1,_i="";function Vi(e,i){ga[pa++]=Uo,ga[pa++]=ku,ku=e,Uo=i}function Mg(e,i,a){In[xn++]=yi,In[xn++]=_i,In[xn++]=ms,ms=e;var o=yi;e=_i;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var p=h-h%5;d=(o&(1<<p)-1).toString(32),o>>=p,h-=p,yi=1<<32-fe(i)+h|a<<h|o,_i=d+e}else yi=1<<d|a<<h|o,_i=e}function Jh(e){e.return!==null&&(Vi(e,1),Mg(e,1,0))}function $h(e){for(;e===ku;)ku=ga[--pa],ga[pa]=null,Uo=ga[--pa],ga[pa]=null;for(;e===ms;)ms=In[--xn],In[xn]=null,_i=In[--xn],In[xn]=null,yi=In[--xn],In[xn]=null}function Vg(e,i){In[xn++]=yi,In[xn++]=_i,In[xn++]=ms,yi=i.id,_i=i.overflow,ms=e}var ze=null,ee=null,Dt=!1,gs=null,Nn=!1,Zh=Error(r(519));function ps(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Cn(i,e)),Zh}function Lg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[Me]=o,a){case"dialog":Rt("cancel",i),Rt("close",i);break;case"iframe":case"object":case"embed":Rt("load",i);break;case"video":case"audio":for(a=0;a<al.length;a++)Rt(al[a],i);break;case"source":Rt("error",i);break;case"img":case"image":case"link":Rt("error",i),Rt("load",i);break;case"details":Rt("toggle",i);break;case"input":Rt("invalid",i),gu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",i);break;case"textarea":Rt("invalid",i),os(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Zy(i.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",i),Rt("toggle",i)),o.onScroll!=null&&Rt("scroll",i),o.onScrollEnd!=null&&Rt("scrollend",i),o.onClick!=null&&(i.onclick=Bn),i=!0):i=!1,i||ps(e,!0)}function kg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ze=ze.return}}function ya(e){if(e!==ze)return!1;if(!Dt)return kg(e),Dt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yd(e.type,e.memoizedProps)),a=!a),a&&ee&&ps(e),kg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=o_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=o_(e)}else i===27?(i=ee,Ns(e.type)?(e=Ad,Ad=null,ee=e):ee=i):ee=ze?Dn(e.stateNode.nextSibling):null;return!0}function Sr(){ee=ze=null,Dt=!1}function Wh(){var e=gs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),gs=null),e}function Po(e){gs===null?gs=[e]:gs.push(e)}var tf=M(null),br=null,Li=null;function ys(e,i,a){nt(tf,i._currentValue),i._currentValue=a}function ki(e){e._currentValue=tf.current,Q(tf)}function ef(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function nf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var p=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),ef(d.return,a,e),o||(p=null);break t}d=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),ef(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function _a(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;dn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&nf(i,e,a,o),i.flags|=262144}function Uu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){br=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Ug(br,e)}function Pu(e,i){return br===null&&wr(e),Ug(e,i)}function Ug(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(r(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return a}var wA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},RA=s.unstable_scheduleCallback,CA=s.unstable_NormalPriority,Ae={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new wA,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&RA(CA,function(){e.controller.abort()})}var zo=null,rf=0,va=0,Ea=null;function IA(e,i){if(zo===null){var a=zo=[];rf=0,va=ld(),Ea={status:"pending",value:void 0,then:function(o){a.push(o)}}}return rf++,i.then(Pg,Pg),i}function Pg(){if(--rf===0&&zo!==null){Ea!==null&&(Ea.status="fulfilled");var e=zo;zo=null,va=0,Ea=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function xA(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var jg=G.S;G.S=function(e,i){Ay=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&IA(e,i),jg!==null&&jg(e,i)};var Rr=M(null);function af(){var e=Rr.current;return e!==null?e:Zt.pooledCache}function ju(e,i){i===null?nt(Rr,Rr.current):nt(Rr,i.pool)}function zg(){var e=af();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ta=Error(r(460)),of=Error(r(474)),zu=Error(r(542)),Bu={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Bn,Bn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gg(e),e;default:if(typeof i.status=="string")i.then(Bn,Bn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gg(e),e}throw Ir=i,Ta}}function Cr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ir=a,Ta):a}}var Ir=null;function qg(){if(Ir===null)throw Error(r(459));var e=Ir;return Ir=null,e}function Gg(e){if(e===Ta||e===zu)throw Error(r(483))}var Aa=null,Bo=0;function Hu(e){var i=Bo;return Bo+=1,Aa===null&&(Aa=[]),Hg(Aa,e,i)}function Ho(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function qu(e,i){throw i.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Fg(e){function i(L,O){if(e){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function a(L,O){if(!e)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Mi(L,O),L.index=0,L.sibling=null,L}function d(L,O,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,P,K){return O===null||O.tag!==6?(O=Qh(P,L.mode,K),O.return=L,O):(O=h(O,P),O.return=L,O)}function C(L,O,P,K){var ut=P.type;return ut===tt?F(L,O,P.props.children,K,P.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Cr(ut)===O.type)?(O=h(O,P.props),Ho(O,P),O.return=L,O):(O=Lu(P.type,P.key,P.props,null,L.mode,K),Ho(O,P),O.return=L,O)}function j(L,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Xh(P,L.mode,K),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function F(L,O,P,K,ut){return O===null||O.tag!==7?(O=Ar(P,L.mode,K,ut),O.return=L,O):(O=h(O,P),O.return=L,O)}function Y(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return P=Lu(O.type,O.key,O.props,null,L.mode,P),Ho(P,O),P.return=L,P;case $:return O=Xh(O,L.mode,P),O.return=L,O;case w:return O=Cr(O),Y(L,O,P)}if(se(O)||k(O))return O=Ar(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return Y(L,Hu(O),P);if(O.$$typeof===mt)return Y(L,Pu(L,O),P);qu(L,O)}return null}function z(L,O,P,K){var ut=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(L,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ut?C(L,O,P,K):null;case $:return P.key===ut?j(L,O,P,K):null;case w:return P=Cr(P),z(L,O,P,K)}if(se(P)||k(P))return ut!==null?null:F(L,O,P,K,null);if(typeof P.then=="function")return z(L,O,Hu(P),K);if(P.$$typeof===mt)return z(L,O,Pu(L,P),K);qu(L,P)}return null}function q(L,O,P,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(P)||null,E(O,L,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return L=L.get(K.key===null?P:K.key)||null,C(O,L,K,ut);case $:return L=L.get(K.key===null?P:K.key)||null,j(O,L,K,ut);case w:return K=Cr(K),q(L,O,P,K,ut)}if(se(K)||k(K))return L=L.get(P)||null,F(O,L,K,ut,null);if(typeof K.then=="function")return q(L,O,P,Hu(K),ut);if(K.$$typeof===mt)return q(L,O,P,Pu(O,K),ut);qu(O,K)}return null}function rt(L,O,P,K){for(var ut=null,Ut=null,at=O,bt=O=0,It=null;at!==null&&bt<P.length;bt++){at.index>bt?(It=at,at=null):It=at.sibling;var Pt=z(L,at,P[bt],K);if(Pt===null){at===null&&(at=It);break}e&&at&&Pt.alternate===null&&i(L,at),O=d(Pt,O,bt),Ut===null?ut=Pt:Ut.sibling=Pt,Ut=Pt,at=It}if(bt===P.length)return a(L,at),Dt&&Vi(L,bt),ut;if(at===null){for(;bt<P.length;bt++)at=Y(L,P[bt],K),at!==null&&(O=d(at,O,bt),Ut===null?ut=at:Ut.sibling=at,Ut=at);return Dt&&Vi(L,bt),ut}for(at=o(at);bt<P.length;bt++)It=q(at,L,bt,P[bt],K),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?bt:It.key),O=d(It,O,bt),Ut===null?ut=It:Ut.sibling=It,Ut=It);return e&&at.forEach(function(Ls){return i(L,Ls)}),Dt&&Vi(L,bt),ut}function dt(L,O,P,K){if(P==null)throw Error(r(151));for(var ut=null,Ut=null,at=O,bt=O=0,It=null,Pt=P.next();at!==null&&!Pt.done;bt++,Pt=P.next()){at.index>bt?(It=at,at=null):It=at.sibling;var Ls=z(L,at,Pt.value,K);if(Ls===null){at===null&&(at=It);break}e&&at&&Ls.alternate===null&&i(L,at),O=d(Ls,O,bt),Ut===null?ut=Ls:Ut.sibling=Ls,Ut=Ls,at=It}if(Pt.done)return a(L,at),Dt&&Vi(L,bt),ut;if(at===null){for(;!Pt.done;bt++,Pt=P.next())Pt=Y(L,Pt.value,K),Pt!==null&&(O=d(Pt,O,bt),Ut===null?ut=Pt:Ut.sibling=Pt,Ut=Pt);return Dt&&Vi(L,bt),ut}for(at=o(at);!Pt.done;bt++,Pt=P.next())Pt=q(at,L,bt,Pt.value,K),Pt!==null&&(e&&Pt.alternate!==null&&at.delete(Pt.key===null?bt:Pt.key),O=d(Pt,O,bt),Ut===null?ut=Pt:Ut.sibling=Pt,Ut=Pt);return e&&at.forEach(function(zS){return i(L,zS)}),Dt&&Vi(L,bt),ut}function $t(L,O,P,K){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ut=P.key;O!==null;){if(O.key===ut){if(ut=P.type,ut===tt){if(O.tag===7){a(L,O.sibling),K=h(O,P.props.children),K.return=L,L=K;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Cr(ut)===O.type){a(L,O.sibling),K=h(O,P.props),Ho(K,P),K.return=L,L=K;break t}a(L,O);break}else i(L,O);O=O.sibling}P.type===tt?(K=Ar(P.props.children,L.mode,K,P.key),K.return=L,L=K):(K=Lu(P.type,P.key,P.props,null,L.mode,K),Ho(K,P),K.return=L,L=K)}return p(L);case $:t:{for(ut=P.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(L,O.sibling),K=h(O,P.children||[]),K.return=L,L=K;break t}else{a(L,O);break}else i(L,O);O=O.sibling}K=Xh(P,L.mode,K),K.return=L,L=K}return p(L);case w:return P=Cr(P),$t(L,O,P,K)}if(se(P))return rt(L,O,P,K);if(k(P)){if(ut=k(P),typeof ut!="function")throw Error(r(150));return P=ut.call(P),dt(L,O,P,K)}if(typeof P.then=="function")return $t(L,O,Hu(P),K);if(P.$$typeof===mt)return $t(L,O,Pu(L,P),K);qu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(L,O.sibling),K=h(O,P),K.return=L,L=K):(a(L,O),K=Qh(P,L.mode,K),K.return=L,L=K),p(L)):a(L,O)}return function(L,O,P,K){try{Bo=0;var ut=$t(L,O,P,K);return Aa=null,ut}catch(at){if(at===Ta||at===zu)throw at;var Ut=mn(29,at,null,L.mode);return Ut.lanes=K,Ut.return=L,Ut}finally{}}}var xr=Fg(!0),Kg=Fg(!1),_s=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(zt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Vu(e),xg(e,null,a),i}return Mu(e,o,i,a),Vu(e)}function qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,po(e,a)}}function cf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var hf=!1;function Go(){if(hf){var e=Ea;if(e!==null)throw e}}function Fo(e,i,a,o){hf=!1;var h=e.updateQueue;_s=!1;var d=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,p===null?d=j:p.next=j,p=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;p=0,F=j=C=null,E=d;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ct&z)===z:(o&z)===z){z!==0&&z===va&&(hf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,dt=E;z=i;var $t=a;switch(dt.tag){case 1:if(rt=dt.payload,typeof rt=="function"){Y=rt.call($t,Y,z);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=dt.payload,z=typeof rt=="function"?rt.call($t,Y,z):rt,z==null)break t;Y=b({},Y,z);break t;case 2:_s=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,C=Y):F=F.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),ws|=p,e.lanes=p,e.memoizedState=Y}}function Yg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Qg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Yg(a[e],i)}var Sa=M(null),Gu=M(0);function Xg(e,i){e=Fi,nt(Gu,e),nt(Sa,i),Fi=e|i.baseLanes}function ff(){nt(Gu,Fi),nt(Sa,Sa.current)}function df(){Fi=Gu.current,Q(Sa),Q(Gu)}var gn=M(null),On=null;function Ts(e){var i=e.alternate;nt(me,me.current&1),nt(gn,e),On===null&&(i===null||Sa.current!==null||i.memoizedState!==null)&&(On=e)}function mf(e){nt(me,me.current),nt(gn,e),On===null&&(On=e)}function Jg(e){e.tag===22?(nt(me,me.current),nt(gn,e),On===null&&(On=e)):As()}function As(){nt(me,me.current),nt(gn,gn.current)}function pn(e){Q(gn),On===e&&(On=null),Q(me)}var me=M(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||Td(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ui=0,At=null,Xt=null,Se=null,Ku=!1,ba=!1,Nr=!1,Yu=0,Ko=0,wa=null,NA=0;function ce(){throw Error(r(321))}function gf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function pf(e,i,a,o,h,d){return Ui=d,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Mp:Of,Nr=!1,d=a(o,h),Nr=!1,ba&&(d=Zg(i,a,o,h)),$g(e),d}function $g(e){G.H=Xo;var i=Xt!==null&&Xt.next!==null;if(Ui=0,Se=Xt=At=null,Ku=!1,Ko=0,wa=null,i)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&Uu(e)&&(be=!0))}function Zg(e,i,a,o){At=e;var h=0;do{if(ba&&(wa=null),Ko=0,ba=!1,25<=h)throw Error(r(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Vp,d=i(a,o)}while(ba);return d}function OA(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Yo(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),i}function yf(){var e=Yu!==0;return Yu=0,e}function _f(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function vf(e){if(Ku){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ku=!1}Ui=0,Se=Xt=At=null,ba=!1,Ko=Yu=0,wa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=Se===null?At.memoizedState:Se.next;if(i!==null)Se=i,Xt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var i=Ko;return Ko+=1,wa===null&&(wa=[]),e=Hg(wa,e,i),i=At,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Mp:Of),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===mt)return Be(e)}throw Error(r(438,String(e)))}function Ef(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Qu(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Pi(e,i){return typeof i=="function"?i(e):i}function Ju(e){var i=ge();return Tf(i,Xt,e)}function Tf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var p=h.next;h.next=d.next,d.next=p}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=p=null,C=null,j=i,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ct&Y)===Y:(Ui&Y)===Y){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===va&&(F=!0);else if((Ui&z)===z){j=j.next,z===va&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=Y,p=d):C=C.next=Y,At.lanes|=z,ws|=z;Y=j.action,Nr&&a(d,Y),d=j.hasEagerState?j.eagerState:a(d,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=z,p=d):C=C.next=z,At.lanes|=Y,ws|=Y;j=j.next}while(j!==null&&j!==i);if(C===null?p=d:C.next=E,!dn(d,e.memoizedState)&&(be=!0,F&&(a=Ea,a!==null)))throw a;e.memoizedState=d,e.baseState=p,e.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var i=ge(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do d=e(d,p.action),p=p.next;while(p!==h);dn(d,i.memoizedState)||(be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Wg(e,i,a){var o=At,h=ge(),d=Dt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var p=!dn((Xt||h).memoizedState,a);if(p&&(h.memoizedState=a,be=!0),h=h.queue,wf(np.bind(null,o,h,e),[e]),h.getSnapshot!==i||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},ep.bind(null,o,h,a,i),null),Zt===null)throw Error(r(349));d||(Ui&127)!==0||tp(o,i,a)}return a}function tp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=Qu(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ep(e,i,a,o){i.value=a,i.getSnapshot=o,ip(i)&&sp(e)}function np(e,i,a){return a(function(){ip(i)&&sp(e)})}function ip(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function sp(e){var i=Tr(e,2);i!==null&&un(i,e,2)}function Sf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Nr){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},i}function rp(e,i,a,o){return e.baseState=a,Tf(e,Xt,typeof o=="function"?o:Pi)}function DA(e,i,a,o,h){if(Wu(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,ap(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ap(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=G.T,p={};G.T=p;try{var E=a(h,o),C=G.S;C!==null&&C(p,E),op(e,i,E)}catch(j){bf(e,i,j)}finally{d!==null&&p.types!==null&&(d.types=p.types),G.T=d}}else try{d=a(h,o),op(e,i,d)}catch(j){bf(e,i,j)}}function op(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){lp(e,i,o)},function(o){return bf(e,i,o)}):lp(e,i,a)}function lp(e,i,a){i.status="fulfilled",i.value=a,up(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ap(e,a)))}function bf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,up(i),i=i.next;while(i!==o)}e.action=null}function up(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function cp(e,i){return i}function hp(e,i){if(Dt){var a=Zt.formState;if(a!==null){t:{var o=At;if(Dt){if(ee){e:{for(var h=ee,d=Nn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Dn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ee=Dn(h.nextSibling),o=h.data==="F!";break t}}ps(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:i},a.queue=o,a=Np.bind(null,At,o),o.dispatch=a,o=Sf(!1),d=Nf.bind(null,At,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=DA.bind(null,At,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function fp(e){var i=ge();return dp(i,Xt,e)}function dp(e,i,a){if(i=Tf(e,i,cp)[0],e=Ju(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Yo(i)}catch(p){throw p===Ta?zu:p}else o=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,Ra(9,{destroy:void 0},MA.bind(null,h,a),null)),[o,d,e]}function MA(e,i){e.action=i}function mp(e){var i=ge(),a=Xt;if(a!==null)return dp(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ra(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=At.updateQueue,i===null&&(i=Qu(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function gp(){return ge().memoizedState}function $u(e,i,a,o){var h=en();At.flags|=e,h.memoizedState=Ra(1|i,{destroy:void 0},a,o===void 0?null:o)}function Zu(e,i,a,o){var h=ge();o=o===void 0?null:o;var d=h.memoizedState.inst;Xt!==null&&o!==null&&gf(o,Xt.memoizedState.deps)?h.memoizedState=Ra(i,d,a,o):(At.flags|=e,h.memoizedState=Ra(1|i,d,a,o))}function pp(e,i){$u(8390656,8,e,i)}function wf(e,i){Zu(2048,8,e,i)}function VA(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=Qu(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function yp(e){var i=ge().memoizedState;return VA({ref:i,nextImpl:e}),function(){if((zt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function _p(e,i){return Zu(4,2,e,i)}function vp(e,i){return Zu(4,4,e,i)}function Ep(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Tp(e,i,a){a=a!=null?a.concat([e]):null,Zu(4,4,Ep.bind(null,i,e),a)}function Rf(){}function Ap(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&gf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Sp(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&gf(i,o[1]))return o[0];if(o=e(),Nr){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,i],o}function Cf(e,i,a){return a===void 0||(Ui&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=by(),At.lanes|=e,ws|=e,a)}function bp(e,i,a,o){return dn(a,i)?a:Sa.current!==null?(e=Cf(e,a,o),dn(e,i)||(be=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=a):(e=by(),At.lanes|=e,ws|=e,i)}function wp(e,i,a,o,h){var d=et.p;et.p=d!==0&&8>d?d:8;var p=G.T,E={};G.T=E,Nf(e,!1,i,a);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=xA(C,o);Qo(e,i,F,vn(e))}else Qo(e,i,o,vn(e))}catch(Y){Qo(e,i,{then:function(){},status:"rejected",reason:Y},vn())}finally{et.p=d,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function LA(){}function If(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=Rp(e).queue;wp(e,h,i,ct,a===null?LA:function(){return Cp(e),a(o)})}function Rp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Cp(e){var i=Rp(e);i.next===null&&(i=e.alternate.memoizedState),Qo(e,i.next.queue,{},vn())}function xf(){return Be(hl)}function Ip(){return ge().memoizedState}function xp(){return ge().memoizedState}function kA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();e=vs(a);var o=Es(i,e,a);o!==null&&(un(o,i,a),qo(o,i,a)),i={cache:sf()},e.payload=i;return}i=i.return}}function UA(e,i,a){var o=vn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(e)?Op(i,a):(a=Kh(e,i,a,o),a!==null&&(un(a,e,o),Dp(a,i,o)))}function Np(e,i,a){var o=vn();Qo(e,i,a,o)}function Qo(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Op(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var p=i.lastRenderedState,E=d(p,a);if(h.hasEagerState=!0,h.eagerState=E,dn(E,p))return Mu(e,i,h,0),Zt===null&&Du(),!1}catch{}finally{}if(a=Kh(e,i,h,o),a!==null)return un(a,e,o),Dp(a,i,o),!0}return!1}function Nf(e,i,a,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(i)throw Error(r(479))}else i=Kh(e,a,o,2),i!==null&&un(i,e,2)}function Wu(e){var i=e.alternate;return e===At||i!==null&&i===At}function Op(e,i){ba=Ku=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Dp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,po(e,a)}}var Xo={readContext:Be,use:Xu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Xo.useEffectEvent=ce;var Mp={readContext:Be,use:Xu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:Be,useEffect:pp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,$u(4194308,4,Ep.bind(null,i,e),a)},useLayoutEffect:function(e,i){return $u(4194308,4,e,i)},useInsertionEffect:function(e,i){$u(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(Nr){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(Nr){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=UA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Sf(e);var i=e.queue,a=Np.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(e,i){var a=en();return Cf(a,e,i)},useTransition:function(){var e=Sf(!1);return e=wp.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=At,h=en();if(Dt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Zt===null)throw Error(r(349));(Ct&127)!==0||tp(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,pp(np.bind(null,o,d,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},ep.bind(null,o,d,a,i),null),a},useId:function(){var e=en(),i=Zt.identifierPrefix;if(Dt){var a=_i,o=yi;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Yu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=NA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:xf,useFormState:hp,useActionState:hp,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Nf.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:Ef,useCacheRefresh:function(){return en().memoizedState=kA.bind(null,At)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((zt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:Be,use:Xu,useCallback:Ap,useContext:Be,useEffect:wf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Sp,useReducer:Ju,useRef:gp,useState:function(){return Ju(Pi)},useDebugValue:Rf,useDeferredValue:function(e,i){var a=ge();return bp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Ju(Pi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Yo(e),i]},useSyncExternalStore:Wg,useId:Ip,useHostTransitionStatus:xf,useFormState:fp,useActionState:fp,useOptimistic:function(e,i){var a=ge();return rp(a,Xt,e,i)},useMemoCache:Ef,useCacheRefresh:xp};Of.useEffectEvent=yp;var Vp={readContext:Be,use:Xu,useCallback:Ap,useContext:Be,useEffect:wf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Sp,useReducer:Af,useRef:gp,useState:function(){return Af(Pi)},useDebugValue:Rf,useDeferredValue:function(e,i){var a=ge();return Xt===null?Cf(a,e,i):bp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Af(Pi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Yo(e),i]},useSyncExternalStore:Wg,useId:Ip,useHostTransitionStatus:xf,useFormState:mp,useActionState:mp,useOptimistic:function(e,i){var a=ge();return Xt!==null?rp(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:xp};Vp.useEffectEvent=yp;function Df(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=vn(),h=vs(o);h.payload=i,a!=null&&(h.callback=a),i=Es(e,h,o),i!==null&&(un(i,e,o),qo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=vn(),h=vs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Es(e,h,o),i!==null&&(un(i,e,o),qo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=vn(),o=vs(a);o.tag=2,i!=null&&(o.callback=i),i=Es(e,o,a),i!==null&&(un(i,e,a),qo(i,e,a))}};function Lp(e,i,a,o,h,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,p):i.prototype&&i.prototype.isPureReactComponent?!Lo(a,o)||!Lo(h,d):!0}function kp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Mf.enqueueReplaceState(i,i.state,null)}function Or(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Up(e){Ou(e)}function Pp(e){console.error(e)}function jp(e){Ou(e)}function tc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function zp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(e,i,a){return a=vs(a),a.tag=3,a.payload={element:null},a.callback=function(){tc(e,i)},a}function Bp(e){return e=vs(e),e.tag=3,e}function Hp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){zp(i,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){zp(i,a,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function PA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&_a(i,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?fc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Bu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),rd(e,o,h)),!1;case 22:return a.flags|=65536,o===Bu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),rd(e,o,h)),!1}throw Error(r(435,a.tag))}return rd(e,o,h),fc(),!1}if(Dt)return i=gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Zh&&(e=Error(r(422),{cause:o}),Po(Cn(e,a)))):(o!==Zh&&(i=Error(r(423),{cause:o}),Po(Cn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,a),h=Vf(e.stateNode,o,h),cf(e,h),he!==4&&(he=2)),!1;var d=Error(r(520),{cause:o});if(d=Cn(d,a),il===null?il=[d]:il.push(d),he!==4&&(he=2),i===null)return!0;o=Cn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Vf(a.stateNode,o,e),cf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rs===null||!Rs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Bp(h),Hp(h,e,a,o),cf(a,h),!1}a=a.return}while(a!==null);return!1}var Lf=Error(r(461)),be=!1;function He(e,i,a,o){i.child=e===null?Kg(i,null,a,o):xr(i,e.child,a,o)}function qp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return wr(i),o=pf(e,i,a,p,d,h),E=yf(),e!==null&&!be?(_f(e,i,h),ji(e,i,h)):(Dt&&E&&Jh(i),i.flags|=1,He(e,i,o,h),i.child)}function Gp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Yh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Fp(e,i,d,o,h)):(e=Lu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!qf(e,h)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(p,o)&&e.ref===i.ref)return ji(e,i,h)}return i.flags|=1,e=Mi(d,o),e.ref=i.ref,e.return=i,i.child=e}function Fp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Lo(d,o)&&e.ref===i.ref)if(be=!1,i.pendingProps=o=d,qf(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,ji(e,i,h)}return kf(e,i,a,o,h)}function Kp(e,i,a,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Yp(e,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(i,d!==null?d.cachePool:null),d!==null?Xg(i,d):ff(),Jg(i);else return o=i.lanes=536870912,Yp(e,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(ju(i,d.cachePool),Xg(i,d),As(),i.memoizedState=null):(e!==null&&ju(i,null),ff(),As());return He(e,i,h,a),i.child}function Jo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Yp(e,i,a,o,h){var d=af();return d=d===null?null:{parent:Ae._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ju(i,null),ff(),Jg(i),e!==null&&_a(e,i,o,!0),i.childLanes=h,null}function ec(e,i){return i=ic({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Qp(e,i,a){return xr(i,e.child,null,a),e=ec(i,i.pendingProps),e.flags|=2,pn(i),i.memoizedState=null,e}function jA(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Dt){if(o.mode==="hidden")return e=ec(i,o),i.lanes=536870912,Jo(null,e);if(mf(i),(e=ee)?(e=a_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=Og(e),a.return=i,i.child=a,ze=i,ee=null)):e=null,e===null)throw ps(i);return i.lanes=536870912,null}return ec(i,o)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(mf(i),h)if(i.flags&256)i.flags&=-257,i=Qp(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(be||_a(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Zt,o!==null&&(p=yo(o,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,Tr(e,p),un(o,e,p),Lf;fc(),i=Qp(e,i,a)}else e=d.treeContext,ee=Dn(p.nextSibling),ze=i,Dt=!0,gs=null,Nn=!1,e!==null&&Vg(i,e),i=ec(i,o),i.flags|=4096;return i}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function nc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function kf(e,i,a,o,h){return wr(i),a=pf(e,i,a,o,void 0,h),o=yf(),e!==null&&!be?(_f(e,i,h),ji(e,i,h)):(Dt&&o&&Jh(i),i.flags|=1,He(e,i,a,h),i.child)}function Xp(e,i,a,o,h,d){return wr(i),i.updateQueue=null,a=Zg(i,o,a,h),$g(e),o=yf(),e!==null&&!be?(_f(e,i,d),ji(e,i,d)):(Dt&&o&&Jh(i),i.flags|=1,He(e,i,a,d),i.child)}function Jp(e,i,a,o,h){if(wr(i),i.stateNode===null){var d=ma,p=a.contextType;typeof p=="object"&&p!==null&&(d=Be(p)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Mf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},lf(i),p=a.contextType,d.context=typeof p=="object"&&p!==null?Be(p):ma,d.state=i.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Df(i,a,p,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&Mf.enqueueReplaceState(d,d.state,null),Fo(i,o,d,h),Go(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,C=Or(a,E);d.props=C;var j=d.context,F=a.contextType;p=ma,typeof F=="object"&&F!==null&&(p=Be(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==p)&&kp(i,d,o,p),_s=!1;var z=i.memoizedState;d.state=z,Fo(i,o,d,h),Go(),j=i.memoizedState,E||z!==j||_s?(typeof Y=="function"&&(Df(i,a,Y,o),j=i.memoizedState),(C=_s||Lp(i,a,C,o,z,j,p))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),d.props=o,d.state=j,d.context=p,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,uf(e,i),p=i.memoizedProps,F=Or(a,p),d.props=F,Y=i.pendingProps,z=d.context,j=a.contextType,C=ma,typeof j=="object"&&j!==null&&(C=Be(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==Y||z!==C)&&kp(i,d,o,C),_s=!1,z=i.memoizedState,d.state=z,Fo(i,o,d,h),Go();var q=i.memoizedState;p!==Y||z!==q||_s||e!==null&&e.dependencies!==null&&Uu(e.dependencies)?(typeof E=="function"&&(Df(i,a,E,o),q=i.memoizedState),(F=_s||Lp(i,a,F,o,z,q,C)||e!==null&&e.dependencies!==null&&Uu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=C,o=F):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,nc(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=xr(i,e.child,null,h),i.child=xr(i,null,a,h)):He(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ji(e,i,h),e}function $p(e,i,a,o){return Sr(),i.flags|=256,He(e,i,a,o),i.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:zg()}}function jf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=_n),e}function Zp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(Dt){if(h?Ts(i):As(),(e=ee)?(e=a_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=Og(e),a.return=i,i.child=a,ze=i,ee=null)):e=null,e===null)throw ps(i);return Td(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(As(),h=i.mode,E=ic({mode:"hidden",children:E},h),o=Ar(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Pf(a),o.childLanes=jf(e,p,a),i.memoizedState=Uf,Jo(null,o)):(Ts(i),zf(i,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)i.flags&256?(Ts(i),i.flags&=-257,i=Bf(e,i,a)):i.memoizedState!==null?(As(),i.child=e.child,i.flags|=128,i=null):(As(),E=o.fallback,h=i.mode,o=ic({mode:"visible",children:o.children},h),E=Ar(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,xr(i,e.child,null,a),o=i.child,o.memoizedState=Pf(a),o.childLanes=jf(e,p,a),i.memoizedState=Uf,i=Jo(null,o));else if(Ts(i),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(r(419)),o.stack="",o.digest=p,Po({value:o,source:null,stack:null}),i=Bf(e,i,a)}else if(be||_a(e,i,a,!1),p=(a&e.childLanes)!==0,be||p){if(p=Zt,p!==null&&(o=yo(p,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Tr(e,o),un(p,e,o),Lf;Ed(E)||fc(),i=Bf(e,i,a)}else Ed(E)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ee=Dn(E.nextSibling),ze=i,Dt=!0,gs=null,Nn=!1,e!==null&&Vg(i,e),i=zf(i,o.children),i.flags|=4096);return i}return h?(As(),E=o.fallback,h=i.mode,C=e.child,j=C.sibling,o=Mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=Mi(j,E):(E=Ar(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,Jo(null,o),o=i.child,E=e.child.memoizedState,E===null?E=Pf(a):(h=E.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=zg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=jf(e,p,a),i.memoizedState=Uf,Jo(e.child,o)):(Ts(i),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=a,i.memoizedState=null,a)}function zf(e,i){return i=ic({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ic(e,i){return e=mn(22,e,null,i),e.lanes=0,e}function Bf(e,i,a){return xr(i,e.child,null,a),e=zf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Wp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),ef(e.return,i,a)}function Hf(e,i,a,o,h,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=d)}function ty(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,i.flags|=128):p&=1,nt(me,p),He(e,i,o,a),o=Dt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,a,i);else if(e.tag===19)Wp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Hf(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Hf(i,!0,a,null,d,o);break;case"together":Hf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ws|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(_a(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Mi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function qf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Uu(e)))}function zA(e,i,a){switch(i.tag){case 3:Ie(i,i.stateNode.containerInfo),ys(i,Ae,e.memoizedState.cache),Sr();break;case 27:case 5:ir(i);break;case 4:Ie(i,i.stateNode.containerInfo);break;case 10:ys(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,mf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Zp(e,i,a):(Ts(i),e=ji(e,i,a),e!==null?e.sibling:null);Ts(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(_a(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return ty(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return i.lanes=0,Kp(e,i,a,i.pendingProps);case 24:ys(i,Ae,e.memoizedState.cache)}return ji(e,i,a)}function ey(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!qf(e,a)&&(i.flags&128)===0)return be=!1,zA(e,i,a);be=(e.flags&131072)!==0}else be=!1,Dt&&(i.flags&1048576)!==0&&Mg(i,Uo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Cr(i.elementType),i.type=e,typeof e=="function")Yh(e)?(o=Or(e,o),i.tag=1,i=Jp(null,i,e,o,a)):(i.tag=0,i=kf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ht){i.tag=11,i=qp(null,i,e,o,a);break t}else if(h===x){i.tag=14,i=Gp(null,i,e,o,a);break t}}throw i=Wt(e)||e,Error(r(306,i,""))}}return i;case 0:return kf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Or(o,i.pendingProps),Jp(e,i,o,h,a);case 3:t:{if(Ie(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,uf(e,i),Fo(i,o,null,a);var p=i.memoizedState;if(o=p.cache,ys(i,Ae,o),o!==d.cache&&nf(i,[Ae],a,!0),Go(),o=p.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=$p(e,i,o,a);break t}else if(o!==h){h=Cn(Error(r(424)),i),Po(h),i=$p(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Dn(e.firstChild),ze=i,Dt=!0,gs=null,Nn=!0,a=Kg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sr(),o===h){i=ji(e,i,a);break t}He(e,i,o,a)}i=i.child}return i;case 26:return nc(e,i),e===null?(a=f_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Dt||(a=i.type,e=i.pendingProps,o=vc(St.current).createElement(a),o[ve]=i,o[Me]=e,qe(o,a,e),Ee(o),i.stateNode=o):i.memoizedState=f_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ir(i),e===null&&Dt&&(o=i.stateNode=u_(i.type,i.pendingProps,St.current),ze=i,Nn=!0,h=ee,Ns(i.type)?(Ad=h,ee=Dn(o.firstChild)):ee=h),He(e,i,i.pendingProps.children,a),nc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Dt&&((h=o=ee)&&(o=pS(o,i.type,i.pendingProps,Nn),o!==null?(i.stateNode=o,ze=i,ee=Dn(o.firstChild),Nn=!1,h=!0):h=!1),h||ps(i)),ir(i),h=i.type,d=i.pendingProps,p=e!==null?e.memoizedProps:null,o=d.children,yd(h,d)?o=null:p!==null&&yd(h,p)&&(i.flags|=32),i.memoizedState!==null&&(h=pf(e,i,OA,null,null,a),hl._currentValue=h),nc(e,i),He(e,i,o,a),i.child;case 6:return e===null&&Dt&&((e=a=ee)&&(a=yS(a,i.pendingProps,Nn),a!==null?(i.stateNode=a,ze=i,ee=null,e=!0):e=!1),e||ps(i)),null;case 13:return Zp(e,i,a);case 4:return Ie(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=xr(i,null,o,a):He(e,i,o,a),i.child;case 11:return qp(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,ys(i,i.type,o.value),He(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,wr(i),h=Be(h),o=o(h),i.flags|=1,He(e,i,o,a),i.child;case 14:return Gp(e,i,i.type,i.pendingProps,a);case 15:return Fp(e,i,i.type,i.pendingProps,a);case 19:return ty(e,i,a);case 31:return jA(e,i,a);case 22:return Kp(e,i,a,i.pendingProps);case 24:return wr(i),o=Be(Ae),e===null?(h=af(),h===null&&(h=Zt,d=sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},lf(i),ys(i,Ae,h)):((e.lanes&a)!==0&&(uf(e,i),Fo(i,null,null,a),Go()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ys(i,Ae,o)):(o=d.cache,ys(i,Ae,o),o!==h.cache&&nf(i,[Ae],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function zi(e){e.flags|=4}function Gf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Ir=Bu,of}else e.flags&=-16777217}function ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(i))if(Iy())e.flags|=8192;else throw Ir=Bu,of}function sc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?cu():536870912,e.lanes|=i,Na|=i)}function $o(e,i){if(!Dt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function BA(e,i,a){var o=i.pendingProps;switch($h(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ki(Ae),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ya(i)?zi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wh())),ne(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(zi(i),d!==null?(ne(i),ny(i,d)):(ne(i),Gf(i,h,null,o,a))):d?d!==e.memoizedState?(zi(i),ne(i),ny(i,d)):(ne(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(i),ne(i),Gf(i,h,e,o,a)),null;case 27:if(Xr(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&zi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ne(i),null}e=st.current,ya(i)?Lg(i):(e=u_(h,o,a),i.stateNode=e,zi(i))}return ne(i),null;case 5:if(Xr(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&zi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ne(i),null}if(d=st.current,ya(i))Lg(i);else{var p=vc(St.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}d[ve]=i,d[Me]=o;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=d;t:switch(qe(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(i)}}return ne(i),Gf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&zi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=St.current,ya(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Zy(e.nodeValue,a)),e||ps(i,!0)}else e=vc(e).createTextNode(o),e[ve]=i,i.stateNode=e}return ne(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=ya(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),e=!1}else a=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(pn(i),i):(pn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(pn(i),i):(pn(i),null)}return pn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),sc(i,i.updateQueue),ne(i),null);case 4:return re(),e===null&&fd(i.stateNode.containerInfo),ne(i),null;case 10:return ki(i.type),ne(i),null;case 19:if(Q(me),o=i.memoizedState,o===null)return ne(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)$o(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Fu(e),d!==null){for(i.flags|=128,$o(o,!1),e=d.updateQueue,i.updateQueue=e,sc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ng(a,e),a=a.sibling;return nt(me,me.current&1|2),Dt&&Vi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>uc&&(i.flags|=128,h=!0,$o(o,!1),i.lanes=4194304)}else{if(!h)if(e=Fu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,sc(i,e),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Dt)return ne(i),null}else 2*We()-o.renderingStartTime>uc&&a!==536870912&&(i.flags|=128,h=!0,$o(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),Dt&&Vi(i,o.treeForkCount),e):(ne(i),null);case 22:case 23:return pn(i),df(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&sc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&Q(Rr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(Ae),ne(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function HA(e,i){switch($h(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ki(Ae),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Xr(i),null;case 31:if(i.memoizedState!==null){if(pn(i),i.alternate===null)throw Error(r(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(pn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Q(me),null;case 4:return re(),null;case 10:return ki(i.type),null;case 22:case 23:return pn(i),df(),e!==null&&Q(Rr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ki(Ae),null;case 25:return null;default:return null}}function iy(e,i){switch($h(i),i.tag){case 3:ki(Ae),re();break;case 26:case 27:case 5:Xr(i);break;case 4:re();break;case 31:i.memoizedState!==null&&pn(i);break;case 13:pn(i);break;case 19:Q(me);break;case 10:ki(i.type);break;case 22:case 23:pn(i),df(),e!==null&&Q(Rr);break;case 24:ki(Ae)}}function Zo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,p=a.inst;o=d(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Ss(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=i;var C=a,j=E;try{j()}catch(F){Yt(h,C,F)}}}o=o.next}while(o!==d)}}catch(F){Yt(i,i.return,F)}}function sy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Qg(i,a)}catch(o){Yt(e,e.return,o)}}}function ry(e,i,a){a.props=Or(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function Wo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,i,h)}}function vi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function ay(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Ff(e,i,a){try{var o=e.stateNode;cS(o,e.type,a,i),o[Me]=i}catch(h){Yt(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bn));else if(o!==4&&(o===27&&Ns(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Yf(e,i,a),e=e.sibling;e!==null;)Yf(e,i,a),e=e.sibling}function rc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Ns(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rc(e,i,a),e=e.sibling;e!==null;)rc(e,i,a),e=e.sibling}function ly(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qe(i,o,a),i[ve]=e,i[Me]=a}catch(d){Yt(e,e.return,d)}}var Bi=!1,we=!1,Qf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function qA(e,i){if(e=e.containerInfo,gd=Rc,e=Tg(e),zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var p=0,E=-1,C=-1,j=0,F=0,Y=e,z=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=p+h),Y!==d||o!==0&&Y.nodeType!==3||(C=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===a&&++j===h&&(E=p),z===d&&++F===o&&(C=p),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:e,selectionRange:a},Rc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var rt=Or(a.type,h);e=o.getSnapshotBeforeUpdate(rt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function cy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:qi(e,a),o&4&&Zo(5,a);break;case 1:if(qi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var h=Or(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}o&64&&sy(a),o&512&&Wo(a,a.return);break;case 3:if(qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Qg(e,i)}catch(p){Yt(a,a.return,p)}}break;case 27:i===null&&o&4&&ly(a);case 26:case 5:qi(e,a),i===null&&o&4&&ay(a),o&512&&Wo(a,a.return);break;case 12:qi(e,a);break;case 31:qi(e,a),o&4&&dy(e,a);break;case 13:qi(e,a),o&4&&my(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ZA.bind(null,a),_S(e,a))));break;case 22:if(o=a.memoizedState!==null||Bi,!o){i=i!==null&&i.memoizedState!==null||we,h=Bi;var d=we;Bi=o,(we=i)&&!d?Gi(e,a,(a.subtreeFlags&8772)!==0):qi(e,a),Bi=h,we=d}break;case 30:break;default:qi(e,a)}}function hy(e){var i=e.alternate;i!==null&&(e.alternate=null,hy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ta(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function Hi(e,i,a){for(a=a.child;a!==null;)fy(e,i,a),a=a.sibling}function fy(e,i,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:we||vi(a,i),Hi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||vi(a,i);var o=oe,h=rn;Ns(a.type)&&(oe=a.stateNode,rn=!1),Hi(e,i,a),ll(a.stateNode),oe=o,rn=h;break;case 5:we||vi(a,i);case 6:if(o=oe,h=rn,oe=null,Hi(e,i,a),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(rn?(e=oe,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pa(e)):s_(oe,a.stateNode));break;case 4:o=oe,h=rn,oe=a.stateNode.containerInfo,rn=!0,Hi(e,i,a),oe=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,a,i),we||Ss(4,a,i),Hi(e,i,a);break;case 1:we||(vi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ry(a,i,o)),Hi(e,i,a);break;case 21:Hi(e,i,a);break;case 22:we=(o=we)||a.memoizedState!==null,Hi(e,i,a),we=o;break;default:Hi(e,i,a)}}function dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(a){Yt(i,i.return,a)}}}function my(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(a){Yt(i,i.return,a)}}function GA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new uy),i;default:throw Error(r(435,e.tag))}}function ac(e,i){var a=GA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=WA.bind(null,e,o);o.then(h,h)}})}function an(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,p=i,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(r(160));fy(d,p,h),oe=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)gy(i,e),i=i.sibling}var Yn=null;function gy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(i,e),on(e),o&4&&(Ss(3,e,e.return),Zo(3,e),Ss(5,e,e.return));break;case 1:an(i,e),on(e),o&512&&(we||a===null||vi(a,a.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(an(i,e),on(e),o&512&&(we||a===null||vi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ri]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),qe(d,o,a),d[ve]=e,Ee(d),o=d;break t;case"link":var p=g_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(d=p[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}d=h.createElement(o),qe(d,o,a),h.head.appendChild(d);break;case"meta":if(p=g_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(d=p[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}d=h.createElement(o),qe(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[ve]=e,Ee(d),o=d}e.stateNode=o}else p_(h,e.type,e.stateNode);else e.stateNode=m_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?p_(h,e.type,e.stateNode):m_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(i,e),on(e),o&512&&(we||a===null||vi(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(i,e),on(e),o&512&&(we||a===null||vi(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(rt){Yt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(an(i,e),on(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(Ac=null,h=Yn,Yn=Ec(i.containerInfo),an(i,e),Yn=h,on(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Pa(i.containerInfo)}catch(rt){Yt(e,e.return,rt)}Qf&&(Qf=!1,py(e));break;case 4:o=Yn,Yn=Ec(e.stateNode.containerInfo),an(i,e),on(e),Yn=o;break;case 12:an(i,e),on(e);break;case 31:an(i,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 13:an(i,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Bi,F=we;if(Bi=j||h,we=F||C,an(i,e),we=F,Bi=j,on(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Bi||we||Dr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Yt(C,C.return,rt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(rt){Yt(C,C.return,rt)}}}else if(i.tag===18){if(a===null){C=i;try{var q=C.stateNode;h?r_(q,!0):r_(C.stateNode,!1)}catch(rt){Yt(C,C.return,rt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ac(e,a))));break;case 19:an(i,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 30:break;case 21:break;default:an(i,e),on(e)}}function on(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(oy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Kf(e);rc(e,d,h);break;case 5:var p=a.stateNode;a.flags&32&&(sn(p,""),a.flags&=-33);var E=Kf(e);rc(e,E,p);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Kf(e);Yf(e,j,C);break;default:throw Error(r(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cy(e,i.alternate,i),i=i.sibling}function Dr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ss(4,i,i.return),Dr(i);break;case 1:vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ry(i,i.return,a),Dr(i);break;case 27:ll(i.stateNode);case 26:case 5:vi(i,i.return),Dr(i);break;case 22:i.memoizedState===null&&Dr(i);break;case 30:Dr(i);break;default:Dr(i)}e=e.sibling}}function Gi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,p=d.flags;switch(d.tag){case 0:case 11:case 15:Gi(h,d,a),Zo(4,d);break;case 1:if(Gi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Yg(C[h],E)}catch(j){Yt(o,o.return,j)}}a&&p&64&&sy(d),Wo(d,d.return);break;case 27:ly(d);case 26:case 5:Gi(h,d,a),a&&o===null&&p&4&&ay(d),Wo(d,d.return);break;case 12:Gi(h,d,a);break;case 31:Gi(h,d,a),a&&p&4&&dy(h,d);break;case 13:Gi(h,d,a),a&&p&4&&my(h,d);break;case 22:d.memoizedState===null&&Gi(h,d,a),Wo(d,d.return);break;case 30:break;default:Gi(h,d,a)}i=i.sibling}}function Xf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&jo(a))}function Jf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&jo(e))}function Qn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yy(e,i,a,o),i=i.sibling}function yy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qn(e,i,a,o),h&2048&&Zo(9,i);break;case 1:Qn(e,i,a,o);break;case 3:Qn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){Qn(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,p=d.id,E=d.onPostCommit;typeof E=="function"&&E(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(i,i.return,C)}}else Qn(e,i,a,o);break;case 31:Qn(e,i,a,o);break;case 13:Qn(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,p=i.alternate,i.memoizedState!==null?d._visibility&2?Qn(e,i,a,o):tl(e,i):d._visibility&2?Qn(e,i,a,o):(d._visibility|=2,Ca(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,i);break;case 24:Qn(e,i,a,o),h&2048&&Jf(i.alternate,i);break;default:Qn(e,i,a,o)}}function Ca(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,p=i,E=a,C=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(d,p,E,C,h),Zo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ca(d,p,E,C,h):tl(d,p):(F._visibility|=2,Ca(d,p,E,C,h)),h&&j&2048&&Xf(p.alternate,p);break;case 24:Ca(d,p,E,C,h),h&&j&2048&&Jf(p.alternate,p);break;default:Ca(d,p,E,C,h)}i=i.sibling}}function tl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:tl(a,o),h&2048&&Xf(o.alternate,o);break;case 24:tl(a,o),h&2048&&Jf(o.alternate,o);break;default:tl(a,o)}i=i.sibling}}var el=8192;function Ia(e,i,a){if(e.subtreeFlags&el)for(e=e.child;e!==null;)_y(e,i,a),e=e.sibling}function _y(e,i,a){switch(e.tag){case 26:Ia(e,i,a),e.flags&el&&e.memoizedState!==null&&NS(a,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,i,a);break;case 3:case 4:var o=Yn;Yn=Ec(e.stateNode.containerInfo),Ia(e,i,a),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Ia(e,i,a),el=o):Ia(e,i,a));break;default:Ia(e,i,a)}}function vy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function nl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,oc(e)):nl(e);break;default:nl(e)}}function oc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ss(8,i,i.return),oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,oc(i));break;default:oc(i)}e=e.sibling}}function Ty(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Ss(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,d=o.return;if(hy(o),o===a){Le=null;break t}if(h!==null){h.return=d,Le=h;break t}Le=d}}}var FA={getCacheForType:function(e){var i=Be(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Be(Ae).controller.signal}},KA=typeof WeakMap=="function"?WeakMap:Map,zt=0,Zt=null,wt=null,Ct=0,Kt=0,yn=null,bs=!1,xa=!1,$f=!1,Fi=0,he=0,ws=0,Mr=0,Zf=0,_n=0,Na=0,il=null,ln=null,Wf=!1,lc=0,Ay=0,uc=1/0,cc=null,Rs=null,Ne=0,Cs=null,Oa=null,Ki=0,td=0,ed=null,Sy=null,sl=0,nd=null;function vn(){return(zt&2)!==0&&Ct!==0?Ct&-Ct:G.T!==null?ld():hu()}function by(){if(_n===0)if((Ct&536870912)===0||Dt){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,i,a){(e===Zt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Is(e,Ct,_n,!1)),or(e,a),((zt&2)===0||e!==Zt)&&(e===Zt&&((zt&2)===0&&(Mr|=a),he===4&&Is(e,Ct,_n,!1)),Ei(e))}function wy(e,i,a){if((zt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Pn(e,i),h=o?XA(e,i):sd(e,i,!0),d=o;do{if(h===0){xa&&!o&&Is(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!YA(a)){h=sd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var E=e;h=il;var C=E.current.memoizedState.isDehydrated;if(C&&(Da(E,p).flags|=256),p=sd(E,p,!1),p!==2){if($f&&!C){E.errorRecoveryDisabledLanes|=d,Mr|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=p}if(d=!1,h!==2)continue}}if(h===1){Da(e,0),Is(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Is(o,i,_n,!bs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=lc+300-We(),10<h)){if(Is(o,i,_n,!bs),ni(o,0,!0)!==0)break t;Ki=i,o.timeoutHandle=n_(Ry.bind(null,o,a,ln,cc,Wf,i,_n,Mr,Na,bs,d,"Throttled",-0,0),h);break t}Ry(o,a,ln,cc,Wf,i,_n,Mr,Na,bs,d,null,-0,0)}}break}while(!0);Ei(e)}function Ry(e,i,a,o,h,d,p,E,C,j,F,Y,z,q){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},_y(i,d,Y);var rt=(d&62914560)===d?lc-We():(d&4194048)===d?Ay-We():0;if(rt=OS(Y,rt),rt!==null){Ki=d,e.cancelPendingCommit=rt(Vy.bind(null,e,i,d,a,o,h,p,E,C,F,Y,null,z,q)),Is(e,d,p,!j);return}}Vy(e,i,d,a,o,h,p,E,C)}function YA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(e,i,a,o){i&=~Zf,i&=~Mr,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),p=1<<d;o[d]=-1,h&=~p}a!==0&&lr(e,a,i)}function hc(){return(zt&6)===0?(rl(0),!1):!0}function id(){if(wt!==null){if(Kt===0)var e=wt.return;else e=wt,Li=br=null,vf(e),Aa=null,Bo=0,e=wt;for(;e!==null;)iy(e.alternate,e),e=e.return;wt=null}}function Da(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,dS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ki=0,id(),Zt=e,wt=a=Mi(e.current,null),Ct=i,Kt=0,yn=null,bs=!1,xa=Pn(e,i),$f=!1,Na=_n=Zf=Mr=ws=he=0,ln=il=null,Wf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-fe(o),d=1<<h;i|=e[h],o&=~d}return Fi=i,Du(),a}function Cy(e,i){At=null,G.H=Xo,i===Ta||i===zu?(i=qg(),Kt=3):i===of?(i=qg(),Kt=4):Kt=i===Lf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,wt===null&&(he=1,tc(e,Cn(i,e.current)))}function Iy(){var e=gn.current;return e===null?!0:(Ct&4194048)===Ct?On===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===On:!1}function xy(){var e=G.H;return G.H=Xo,e===null?Xo:e}function Ny(){var e=G.A;return G.A=FA,e}function fc(){he=4,bs||(Ct&4194048)!==Ct&&gn.current!==null||(xa=!0),(ws&134217727)===0&&(Mr&134217727)===0||Zt===null||Is(Zt,Ct,_n,!1)}function sd(e,i,a){var o=zt;zt|=2;var h=xy(),d=Ny();(Zt!==e||Ct!==i)&&(cc=null,Da(e,i)),i=!1;var p=he;t:do try{if(Kt!==0&&wt!==null){var E=wt,C=yn;switch(Kt){case 8:id(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(i=!0);var j=Kt;if(Kt=0,yn=null,Ma(e,E,C,j),a&&xa){p=0;break t}break;default:j=Kt,Kt=0,yn=null,Ma(e,E,C,j)}}QA(),p=he;break}catch(F){Cy(e,F)}while(!0);return i&&e.shellSuspendCounter++,Li=br=null,zt=o,G.H=h,G.A=d,wt===null&&(Zt=null,Ct=0,Du()),p}function QA(){for(;wt!==null;)Oy(wt)}function XA(e,i){var a=zt;zt|=2;var o=xy(),h=Ny();Zt!==e||Ct!==i?(cc=null,uc=We()+500,Da(e,i)):xa=Pn(e,i);t:do try{if(Kt!==0&&wt!==null){i=wt;var d=yn;e:switch(Kt){case 1:Kt=0,yn=null,Ma(e,i,d,1);break;case 2:case 9:if(Bg(d)){Kt=0,yn=null,Dy(i);break}i=function(){Kt!==2&&Kt!==9||Zt!==e||(Kt=7),Ei(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Bg(d)?(Kt=0,yn=null,Dy(i)):(Kt=0,yn=null,Ma(e,i,d,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(p?y_(p):E.stateNode.complete){Kt=0,yn=null;var C=E.sibling;if(C!==null)wt=C;else{var j=E.return;j!==null?(wt=j,dc(j)):wt=null}break e}}Kt=0,yn=null,Ma(e,i,d,5);break;case 6:Kt=0,yn=null,Ma(e,i,d,6);break;case 8:id(),he=6;break t;default:throw Error(r(462))}}JA();break}catch(F){Cy(e,F)}while(!0);return Li=br=null,G.H=o,G.A=h,zt=a,wt!==null?0:(Zt=null,Ct=0,Du(),he)}function JA(){for(;wt!==null&&!Mh();)Oy(wt)}function Oy(e){var i=ey(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,i===null?dc(e):wt=i}function Dy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Xp(a,i,i.pendingProps,i.type,void 0,Ct);break;case 11:i=Xp(a,i,i.pendingProps,i.type.render,i.ref,Ct);break;case 5:vf(i);default:iy(a,i),i=wt=Ng(i,Fi),i=ey(a,i,Fi)}e.memoizedProps=e.pendingProps,i===null?dc(e):wt=i}function Ma(e,i,a,o){Li=br=null,vf(i),Aa=null,Bo=0;var h=i.return;try{if(PA(e,h,i,a,Ct)){he=1,tc(e,Cn(a,e.current)),wt=null;return}}catch(d){if(h!==null)throw wt=h,d;he=1,tc(e,Cn(a,e.current)),wt=null;return}i.flags&32768?(Dt||o===1?e=!0:xa||(Ct&536870912)!==0?e=!1:(bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(i,e)):dc(i)}function dc(e){var i=e;do{if((i.flags&32768)!==0){My(i,bs);return}e=i.return;var a=BA(i.alternate,i,Fi);if(a!==null){wt=a;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);he===0&&(he=5)}function My(e,i){do{var a=HA(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);he=6,wt=null}function Vy(e,i,a,o,h,d,p,E,C){e.cancelPendingCommit=null;do mc();while(Ne!==0);if((zt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Fh,kh(e,a,d,p,E,C),e===Zt&&(wt=Zt=null,Ct=0),Oa=i,Cs=e,Ki=a,td=d,ed=h,Sy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tS(ss,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=et.p,et.p=2,p=zt,zt|=4;try{qA(e,i,a)}finally{zt=p,et.p=h,G.T=o}}Ne=1,Ly(),ky(),Uy()}}function Ly(){if(Ne===1){Ne=0;var e=Cs,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=et.p;et.p=2;var h=zt;zt|=4;try{gy(i,e);var d=pd,p=Tg(e.containerInfo),E=d.focusedElem,C=d.selectionRange;if(p!==E&&E&&E.ownerDocument&&Eg(E.ownerDocument.documentElement,E)){if(C!==null&&zh(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),rt=E.textContent.length,dt=Math.min(C.start,rt),$t=C.end===void 0?dt:Math.min(C.end,rt);!q.extend&&dt>$t&&(p=$t,$t=dt,dt=p);var L=vg(E,dt),O=vg(E,$t);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(L.node,L.offset),q.removeAllRanges(),dt>$t?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Rc=!!gd,pd=gd=null}finally{zt=h,et.p=o,G.T=a}}e.current=i,Ne=2}}function ky(){if(Ne===2){Ne=0;var e=Cs,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=et.p;et.p=2;var h=zt;zt|=4;try{cy(e,i.alternate,i)}finally{zt=h,et.p=o,G.T=a}}Ne=3}}function Uy(){if(Ne===4||Ne===3){Ne=0,su();var e=Cs,i=Oa,a=Ki,o=Sy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ne=5:(Ne=0,Oa=Cs=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),xi(a),i=i.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=et.p,et.p=2,G.T=null;try{for(var d=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];d(E.value,{componentStack:E.stack})}}finally{G.T=i,et.p=h}}(Ki&3)!==0&&mc(),Ei(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===nd?sl++:(sl=0,nd=e):sl=0,rl(0)}}function Py(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,jo(i)))}function mc(){return Ly(),ky(),Uy(),jy()}function jy(){if(Ne!==5)return!1;var e=Cs,i=td;td=0;var a=xi(Ki),o=G.T,h=et.p;try{et.p=32>a?32:a,G.T=null,a=ed,ed=null;var d=Cs,p=Ki;if(Ne=0,Oa=Cs=null,Ki=0,(zt&6)!==0)throw Error(r(331));var E=zt;if(zt|=4,Ey(d.current),yy(d,d.current,p,a),zt=E,rl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{et.p=h,G.T=o,Py(e,i)}}function zy(e,i,a){i=Cn(a,i),i=Vf(e.stateNode,i,2),e=Es(e,i,2),e!==null&&(or(e,2),Ei(e))}function Yt(e,i,a){if(e.tag===3)zy(e,e,a);else for(;i!==null;){if(i.tag===3){zy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=Cn(a,e),a=Bp(2),o=Es(i,a,2),o!==null&&(Hp(a,o,i,e),or(o,2),Ei(o));break}}i=i.return}}function rd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new KA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||($f=!0,h.add(a),e=$A.bind(null,e,i,a),i.then(e,e))}function $A(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Ct&a)===a&&(he===4||he===3&&(Ct&62914560)===Ct&&300>We()-lc?(zt&2)===0&&Da(e,0):Zf|=a,Na===Ct&&(Na=0)),Ei(e)}function By(e,i){i===0&&(i=cu()),e=Tr(e,i),e!==null&&(or(e,i),Ei(e))}function ZA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),By(e,a)}function WA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),By(e,a)}function tS(e,i){return xe(e,i)}var gc=null,Va=null,ad=!1,pc=!1,od=!1,xs=0;function Ei(e){e!==Va&&e.next===null&&(Va===null?gc=Va=e:Va=Va.next=e),pc=!0,ad||(ad=!0,nS())}function rl(e,i){if(!od&&pc){od=!0;do for(var a=!1,o=gc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var p=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(p&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Fy(o,d))}else d=Ct,d=ni(o,o===Zt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Pn(o,d)||(a=!0,Fy(o,d));o=o.next}while(a);od=!1}}function eS(){Hy()}function Hy(){pc=ad=!1;var e=0;xs!==0&&fS()&&(e=xs);for(var i=We(),a=null,o=gc;o!==null;){var h=o.next,d=qy(o,i);d===0?(o.next=null,a===null?gc=h:a.next=h,h===null&&(Va=a)):(a=o,(e!==0||(d&3)!==0)&&(pc=!0)),o=h}Ne!==0&&Ne!==5||rl(e),xs!==0&&(xs=0)}function qy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-fe(d),E=1<<p,C=h[p];C===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Lh(E,i)):C<=i&&(e.expiredLanes|=E),d&=~E}if(i=Zt,a=Ct,a=ni(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&is(o),xi(a)){case 2:case 8:a=go;break;case 32:a=ss;break;case 268435456:a=ru;break;default:a=ss}return o=Gy.bind(null,e),a=xe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,i){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mc()&&e.callbackNode!==a)return null;var o=Ct;return o=ni(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,i),qy(e,We()),e.callbackNode!=null&&e.callbackNode===a?Gy.bind(null,e):null)}function Fy(e,i){if(mc())return null;wy(e,i,!0)}function nS(){mS(function(){(zt&6)!==0?xe(mo,eS):Hy()})}function ld(){if(xs===0){var e=va;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),xs=e}return xs}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Yy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function iS(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ky((h[Me]||null).action),p=o.submitter;p&&(i=(i=p[Me]||null)?Ky(i.formAction):p.getAttribute("formAction"),i!==null&&(d=i,p=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var C=p?Yy(h,p):new FormData(h);If(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=p?Yy(h,p):new FormData(h),If(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],sS=cd.toLowerCase(),rS=cd[0].toUpperCase()+cd.slice(1);Kn(sS,"on"+rS)}Kn(bg,"onAnimationEnd"),Kn(wg,"onAnimationIteration"),Kn(Rg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(TA,"onTransitionRun"),Kn(AA,"onTransitionStart"),Kn(SA,"onTransitionCancel"),Kn(Cg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Qy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(F){Ou(F)}h.currentTarget=null,d=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,j=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(F){Ou(F)}h.currentTarget=null,d=C}}}}function Rt(e,i){var a=i[Wr];a===void 0&&(a=i[Wr]=new Set);var o=e+"__bubble";a.has(o)||(Xy(i,e,2,!1),a.add(o))}function hd(e,i,a){var o=0;i&&(o|=4),Xy(a,e,o,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[yc]){e[yc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(aS.has(a)||hd(a,!1,e),hd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[yc]||(i[yc]=!0,hd("selectionchange",!1,i))}}function Xy(e,i,a,o){switch(b_(i)){case 2:var h=VS;break;case 8:h=LS;break;default:h=Cd}a=h.bind(null,i,a,e),h=void 0,!dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function dd(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=d=p;continue t}E=E.parentNode}}o=o.return}cs(function(){var j=d,F=Sn(a),Y=[];t:{var z=Ig.get(e);if(z!==void 0){var q=di,rt=e;switch(e){case"keypress":if(gr(a)===0)break t;case"keydown":case"keyup":q=Iu;break;case"focusin":rt="focus",q=yr;break;case"focusout":rt="blur",q=yr;break;case"beforeblur":case"afterblur":q=yr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bg:case wg:case Rg:q=Tu;break;case Cg:q=T;break;case"scroll":case"scrollend":q=No;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Di;break;case"toggle":case"beforetoggle":q=Tt}var dt=(i&4)!==0,$t=!dt&&(e==="scroll"||e==="scrollend"),L=dt?z!==null?z+"Capture":null:z;dt=[];for(var O=j,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||L===null||(K=Hn(O,L),K!=null&&dt.push(ol(O,K,P))),$t)break;O=O.return}0<dt.length&&(z=new q(z,rt,null,a,F),Y.push({event:z,listeners:dt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Co&&(rt=a.relatedTarget||a.fromElement)&&(ai(rt)||rt[si]))break t;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(rt=a.relatedTarget||a.toElement,q=j,rt=rt?ai(rt):null,rt!==null&&($t=u(rt),dt=rt.tag,rt!==$t||dt!==5&&dt!==27&&dt!==6)&&(rt=null)):(q=null,rt=j),q!==rt)){if(dt=Oo,K="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Di,K="onPointerLeave",L="onPointerEnter",O="pointer"),$t=q==null?z:hn(q),P=rt==null?z:hn(rt),z=new dt(K,O+"leave",q,a,F),z.target=$t,z.relatedTarget=P,K=null,ai(F)===j&&(dt=new dt(L,O+"enter",rt,a,F),dt.target=P,dt.relatedTarget=$t,K=dt),$t=K,q&&rt)e:{for(dt=oS,L=q,O=rt,P=0,K=L;K;K=dt(K))P++;K=0;for(var ut=O;ut;ut=dt(ut))K++;for(;0<P-K;)L=dt(L),P--;for(;0<K-P;)O=dt(O),K--;for(;P--;){if(L===O||O!==null&&L===O.alternate){dt=L;break e}L=dt(L),O=dt(O)}dt=null}else dt=null;q!==null&&Jy(Y,z,q,dt,!1),rt!==null&&$t!==null&&Jy(Y,$t,rt,dt,!0)}}t:{if(z=j?hn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ut=dg;else if(hg(z))if(mg)Ut=_A;else{Ut=pA;var at=gA}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ia(j.elementType)&&(Ut=dg):Ut=yA;if(Ut&&(Ut=Ut(e,j))){fg(Y,Ut,a,F);break t}at&&at(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&bo(z,"number",z.value)}switch(at=j?hn(j):window,e){case"focusin":(hg(at)||at.contentEditable==="true")&&(ha=at,Bh=j,ko=null);break;case"focusout":ko=Bh=ha=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Ag(Y,a,F);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":Ag(Y,a,F)}var bt;if(jt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else ca?_r(e,a)&&(It="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(It="onCompositionStart");It&&(pi&&a.locale!=="ko"&&(ca||It!=="onCompositionStart"?It==="onCompositionEnd"&&ca&&(bt=xo()):(fi=F,Io="value"in fi?fi.value:fi.textContent,ca=!0)),at=_c(j,It),0<at.length&&(It=new gi(It,e,null,a,F),Y.push({event:It,listeners:at}),bt?It.data=bt:(bt=ua(a),bt!==null&&(It.data=bt)))),(bt=wn?hA(e,a):fA(e,a))&&(It=_c(j,"onBeforeInput"),0<It.length&&(at=new gi("onBeforeInput","beforeinput",null,a,F),Y.push({event:at,listeners:It}),at.data=bt)),iS(Y,e,j,a,F)}Qy(Y,i)})}function ol(e,i,a){return{instance:e,listener:i,currentTarget:a}}function _c(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(e,a),h!=null&&o.unshift(ol(e,h,d)),h=Hn(e,i),h!=null&&o.push(ol(e,h,d))),e.tag===3)return o;e=e.return}return[]}function oS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,i,a,o,h){for(var d=i._reactName,p=[];a!==null&&a!==o;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Hn(a,d),j!=null&&p.unshift(ol(a,j,C))):h||(j=Hn(a,d),j!=null&&p.push(ol(a,j,C)))),a=a.return}p.length!==0&&e.push({event:i,listeners:p})}var lS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(lS,`
`).replace(uS,"")}function Zy(e,i){return i=$y(i),$y(e)===i}function Jt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,a,o);break;case"style":Ro(e,o,d);break;case"data":if(i!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),ea(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_u.get(a)||a,ea(e,a,o))}}function md(e,i,a,o,h,d){switch(a){case"style":Ro(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Me]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ea(e,a,o)}}}function qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Jt(e,i,d,p,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),o&&Jt(e,i,"src",a.src,a,null);return;case"input":Rt("invalid",e);var E=d=p=h=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:Jt(e,i,o,F,a,null)}}gu(e,d,E,C,j,p,h,!1);return;case"select":Rt("invalid",e),o=p=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Jt(e,i,h,E,a,null)}i=d,a=p,e.multiple=!!o,i!=null?as(e,!!o,i,!1):a!=null&&as(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),d=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,i,p,E,a,null)}os(e,o,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,i,C,o,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Rt(al[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Jt(e,i,j,o,a,null)}return;default:if(ia(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&md(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,i,E,o,a,null))}function cS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,p=null,E=null,C=null,j=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||Jt(e,i,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Y&&Jt(e,i,z,q,o,Y)}}na(e,p,E,C,j,F,d,h);return;case"select":q=p=E=z=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(d)||Jt(e,i,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":p=d;default:d!==C&&Jt(e,i,h,d,o,C)}i=E,a=p,o=q,z!=null?as(e,!!a,z,!1):!!o!=!!a&&(i!=null?as(e,!!a,i,!0):as(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,i,E,null,o,h)}for(p in o)if(h=o[p],d=a[p],o.hasOwnProperty(p)&&(h!=null||d!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Jt(e,i,p,h,o,d)}pu(e,z,q);return;case"option":for(var rt in a)if(z=a[rt],a.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Jt(e,i,rt,null,o,z)}for(C in o)if(z=o[C],q=a[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,i,C,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Jt(e,i,dt,null,o,z);for(j in o)if(z=o[j],q=a[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:Jt(e,i,j,z,o,q)}return;default:if(ia(i)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&md(e,i,$t,void 0,o,z);for(F in o)z=o[F],q=a[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||md(e,i,F,z,o,q);return}}for(var L in a)z=a[L],a.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&Jt(e,i,L,null,o,z);for(Y in o)z=o[Y],q=a[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||Jt(e,i,Y,z,o,q)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,p=h.initiatorType,E=h.duration;if(d&&E&&Wy(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],j=C.startTime;if(j>E)break;var F=C.transferSize,Y=C.initiatorType;F&&Wy(Y)&&(C=C.responseEnd,p+=F*(C<E?1:(E-j)/(C-j)))}if(--o,i+=8*(d+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,pd=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function yd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _d=null;function fS(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(gS)}:n_;function gS(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function s_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Pa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ll(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ll(a);for(var d=a.firstChild;d;){var p=d.nextSibling,E=d.nodeName;d[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&ll(e.ownerDocument.body);a=h}while(a);Pa(i)}function r_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function vd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function pS(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function yS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Dn(e.nextSibling),e===null))return null;return e}function a_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Dn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _S(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Dn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Ad=null;function o_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Dn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function u_(e,i,a){switch(i=vc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ll(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ta(e)}var Mn=new Map,c_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=et.d;et.d={f:vS,r:ES,D:TS,C:AS,L:SS,m:bS,X:RS,S:wS,M:CS};function vS(){var e=Yi.f(),i=hc();return e||i}function ES(e){var i=An(e);i!==null&&i.tag===5&&i.type==="form"?Cp(i):Yi.r(e)}var La=typeof document>"u"?null:document;function h_(e,i,a){var o=La;if(o&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),qe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function TS(e){Yi.D(e),h_("dns-prefetch",e,null)}function AS(e,i){Yi.C(e,i),h_("preconnect",e,i)}function SS(e,i,a){Yi.L(e,i,a);var o=La;if(o&&e&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var d=h;switch(i){case"style":d=ka(e);break;case"script":d=Ua(e)}Mn.has(d)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Mn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(ul(d))||i==="script"&&o.querySelector(cl(d))||(i=o.createElement("link"),qe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function bS(e,i){Yi.m(e,i);var a=La;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ua(e)}if(!Mn.has(d)&&(e=b({rel:"modulepreload",href:e},i),Mn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(d)))return}o=a.createElement("link"),qe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function wS(e,i,a){Yi.S(e,i,a);var o=La;if(o&&e){var h=oi(o).hoistableStyles,d=ka(e);i=i||"default";var p=h.get(d);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ul(d)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Mn.get(d))&&Sd(e,a);var C=p=o.createElement("link");Ee(C),qe(C,"link",e),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(p,i,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(d,p)}}}function RS(e,i){Yi.X(e,i);var a=La;if(a&&e){var o=oi(a).hoistableScripts,h=Ua(e),d=o.get(h);d||(d=a.querySelector(cl(h)),d||(e=b({src:e,async:!0},i),(i=Mn.get(h))&&bd(e,i),d=a.createElement("script"),Ee(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function CS(e,i){Yi.M(e,i);var a=La;if(a&&e){var o=oi(a).hoistableScripts,h=Ua(e),d=o.get(h);d||(d=a.querySelector(cl(h)),d||(e=b({src:e,async:!0,type:"module"},i),(i=Mn.get(h))&&bd(e,i),d=a.createElement("script"),Ee(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function f_(e,i,a,o){var h=(h=St.current)?Ec(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=oi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var d=oi(h).hoistableStyles,p=d.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=h.querySelector(ul(e)))&&!d._p&&(p.instance=d,p.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),d||IS(h,e,a,p.state))),i&&o===null)throw Error(r(528,""));return p}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ua(a),a=oi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ka(e){return'href="'+nn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function IS(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),qe(i,"link",a),Ee(i),e.head.appendChild(i))}function Ua(e){return'[src="'+nn(e)+'"]'}function cl(e){return"script[async]"+e}function m_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(o)return i.instance=o,Ee(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),qe(o,"style",h),Tc(o,a.precedence,e),i.instance=o;case"stylesheet":h=ka(a.href);var d=e.querySelector(ul(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;o=d_(a),(h=Mn.get(h))&&Sd(o,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var p=d;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),qe(d,"link",o),i.state.loading|=4,Tc(d,a.precedence,e),i.instance=d;case"script":return d=Ua(a.src),(h=e.querySelector(cl(d)))?(i.instance=h,Ee(h),h):(o=a,(h=Mn.get(d))&&(o=b({},a),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),qe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Tc(o,a.precedence,e));return i.instance}function Tc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Sd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ac=null;function g_(e,i,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ri]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(i)||"";p=e+p;var E=o.get(p);E?E.push(d):o.set(p,[d])}}return o}function p_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function xS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function NS(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ka(o.href),d=i.querySelector(ul(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Sc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,o=d_(o),(h=Mn.get(h))&&Sd(o,h),d=d.createElement("link"),Ee(d);var p=d;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),qe(d,"link",o),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Sc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var wd=0;function OS(e,i){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&wd===0&&(wd=62500*hS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>wd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function wc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,i.forEach(DS,e),bc=null,Sc.call(e))}function DS(e,i){if(!(i.state.loading&4)){var a=bc.get(e);if(a)var o=a.get(null);else{a=new Map,bc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var p=h[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=i.instance,p=h.getAttribute("data-precedence"),d=a.get(p)||o,d===o&&a.set(null,h),a.set(p,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var hl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function MS(e,i,a,o,h,d,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function __(e,i,a,o,h,d,p,E,C,j,F,Y){return e=new MS(e,i,a,p,C,j,F,Y,E),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),e.current=d,d.stateNode=e,i=sf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},lf(d),e}function v_(e){return e?(e=ma,e):ma}function E_(e,i,a,o,h,d){h=v_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Es(e,o,i),a!==null&&(un(a,e,i),qo(a,e,i))}function T_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Rd(e,i){T_(e,i),(e=e.alternate)&&T_(e,i)}function A_(e){if(e.tag===13||e.tag===31){var i=Tr(e,67108864);i!==null&&un(i,e,67108864),Rd(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var i=vn();i=ur(i);var a=Tr(e,i);a!==null&&un(a,e,i),Rd(e,i)}}var Rc=!0;function VS(e,i,a,o){var h=G.T;G.T=null;var d=et.p;try{et.p=2,Cd(e,i,a,o)}finally{et.p=d,G.T=h}}function LS(e,i,a,o){var h=G.T;G.T=null;var d=et.p;try{et.p=8,Cd(e,i,a,o)}finally{et.p=d,G.T=h}}function Cd(e,i,a,o){if(Rc){var h=Id(o);if(h===null)dd(e,i,o,Cc,a),w_(e,o);else if(US(h,e,i,a,o))o.stopPropagation();else if(w_(e,o),i&4&&-1<kS.indexOf(e)){for(;h!==null;){var d=An(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=ei(d.pendingLanes);if(p!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-fe(p);E.entanglements[1]|=C,p&=~C}Ei(d),(zt&6)===0&&(uc=We()+500,rl(0))}}break;case 31:case 13:E=Tr(d,2),E!==null&&un(E,d,2),hc(),Rd(d,2)}if(d=Id(o),d===null&&dd(e,i,o,Cc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else dd(e,i,o,null,a)}}function Id(e){return e=Sn(e),xd(e)}var Cc=null;function xd(e){if(Cc=null,e=ai(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Cc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case mo:return 2;case go:return 8;case ss:case Vh:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Nd=!1,Os=null,Ds=null,Ms=null,fl=new Map,dl=new Map,Vs=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,i){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function ml(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=An(i),i!==null&&A_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function US(e,i,a,o,h){switch(i){case"focusin":return Os=ml(Os,e,i,a,o,h),!0;case"dragenter":return Ds=ml(Ds,e,i,a,o,h),!0;case"mouseover":return Ms=ml(Ms,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return fl.set(d,ml(fl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,dl.set(d,ml(dl.get(d)||null,e,i,a,o,h)),!0}return!1}function R_(e){var i=ai(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,jn(e.priority,function(){S_(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,jn(e.priority,function(){S_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Co=o,a.target.dispatchEvent(o),Co=null}else return i=An(a),i!==null&&A_(i),e.blockedOn=a,!1;i.shift()}return!0}function C_(e,i,a){Ic(e)&&a.delete(i)}function PS(){Nd=!1,Os!==null&&Ic(Os)&&(Os=null),Ds!==null&&Ic(Ds)&&(Ds=null),Ms!==null&&Ic(Ms)&&(Ms=null),fl.forEach(C_),dl.forEach(C_)}function xc(e,i){e.blockedOn===i&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,PS)))}var Nc=null;function I_(e){Nc!==e&&(Nc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var d=An(a);d!==null&&(e.splice(i,3),i-=3,If(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Pa(e){function i(C){return xc(C,e)}Os!==null&&xc(Os,e),Ds!==null&&xc(Ds,e),Ms!==null&&xc(Ms,e),fl.forEach(i),dl.forEach(i);for(var a=0;a<Vs.length;a++){var o=Vs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(a=Vs[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&Vs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],p=h[Me]||null;if(typeof d=="function")p||I_(a);else if(p){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,p=d[Me]||null)E=p.formAction;else if(xd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),I_(a)}}}function x_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Oc.prototype.render=Od.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=vn();E_(a,o,e,i,null,null)},Oc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;E_(e.current,2,null,e,null,null),hc(),i[si]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var i=hu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Vs.length&&i!==0&&i<Vs[a].priority;a++);Vs.splice(a,0,e),a===0&&R_(e)}};var N_=t.version;if(N_!=="19.2.4")throw Error(r(527,N_,"19.2.4"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(i),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var jS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Un=Dc.inject(jS),Pe=Dc}catch{}}return pl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=Up,d=Pp,p=jp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=__(e,1,!1,null,null,a,o,null,h,d,p,x_),e[si]=i.current,fd(e),new Od(i)},pl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",d=Up,p=Pp,E=jp,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=__(e,1,!0,i,a??null,o,h,C,d,p,E,x_),i.context=v_(null),a=i.current,o=vn(),o=ur(o),h=vs(o),h.callback=null,Es(a,h,o),a=o,i.current.lanes=a,or(i,a),Ei(i),e[si]=i.current,fd(e),new Oc(i)},pl.version="19.2.4",pl}var z_;function JS(){if(z_)return Vd.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=XS(),Vd.exports}var $S=JS();const ZS=D0($S),WS=[{name:"Auto Detect",flag:""},{name:"English",flag:""},{name:"Hindi",flag:""},{name:"Tamil",flag:""},{name:"Telugu",flag:""},{name:"Malayalam",flag:""}],t1=({onAnalyzeClick:s,onDemoClick:t})=>A.jsxs("section",{className:"relative pt-32 pb-20 md:pt-48 md:pb-32 overflow-hidden",children:[A.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[A.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 text-xs font-bold uppercase tracking-widest mb-8 animate-fade-in",children:[A.jsxs("span",{className:"relative flex h-2 w-2",children:[A.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),A.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"Automatic Language-Agnostic Detection"]}),A.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-extrabold tracking-tight mb-8 max-w-5xl mx-auto leading-[1.1]",children:[A.jsx("span",{className:"text-gradient",children:"Secure Every Voice"})," ",A.jsx("br",{}),A.jsx("span",{className:"text-gray-500 text-3xl md:text-5xl lg:text-6xl",children:"With Intelligent Auto-Detection."})]}),A.jsx("p",{className:"text-lg md:text-xl text-gray-400 max-w-2xl mx-auto mb-8 leading-relaxed",children:"Classiflick provides automatic voice verification that works across any language without manual setup. Optimized for Tamil, English, Hindi, Malayalam, and Telugu."}),A.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-12",children:WS.map(n=>A.jsxs("span",{className:`px-4 py-1.5 glass rounded-full text-sm font-medium border border-white/5 transition-colors ${n.name==="Auto Detect"?"bg-indigo-500/10 border-indigo-500/30 text-indigo-300":"text-gray-300 hover:border-indigo-500/30"}`,children:[A.jsx("span",{className:"mr-2",children:n.flag}),n.name]},n.name))}),A.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[A.jsx("button",{onClick:s,className:"w-full sm:w-auto px-8 py-4 bg-white text-black font-bold rounded-full hover:bg-gray-200 transition-all text-lg shadow-xl shadow-white/5 active:scale-95",children:"Analyze Voice Now"}),A.jsxs("button",{onClick:t,className:"w-full sm:w-auto px-8 py-4 glass text-white font-bold rounded-full hover:bg-white/10 transition-all text-lg flex items-center justify-center gap-2 active:scale-95",children:["View Live Demo",A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:A.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})]})]}),A.jsx("div",{className:"mt-24 max-w-4xl mx-auto glass p-2 rounded-2xl",children:A.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-[#0e1319]",children:[A.jsx("img",{src:"https://images.unsplash.com/photo-1589254065878-42c9da997008?q=80&w=2070&auto=format&fit=crop",alt:"Voice Analysis Dashboard",className:"w-full h-auto opacity-80"}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0e1319] via-transparent to-transparent"}),A.jsxs("div",{className:"absolute top-8 left-8 p-4 glass rounded-xl w-48 text-left",children:[A.jsx("div",{className:"text-[10px] text-indigo-400 font-bold uppercase mb-1",children:"Status"}),A.jsx("div",{className:"text-lg font-bold",children:"Scanning..."}),A.jsx("div",{className:"w-full bg-white/10 h-1.5 rounded-full mt-2 overflow-hidden",children:A.jsx("div",{className:"w-2/3 h-full bg-indigo-500 animate-[loading_2s_infinite]"})})]}),A.jsxs("div",{className:"absolute bottom-8 right-8 p-4 glass rounded-xl w-48 text-left",children:[A.jsx("div",{className:"text-[10px] text-emerald-400 font-bold uppercase mb-1",children:"Human Confidence"}),A.jsx("div",{className:"text-3xl font-bold",children:"98.4%"})]})]})})]}),A.jsx("style",{children:`
        @keyframes loading {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
      `})]}),e1=[{title:"Deepfake Detection",description:"Our neural engine identifies synthetic artifacts and frequency inconsistencies invisible to the human ear.",icon:A.jsx("svg",{className:"w-6 h-6 text-indigo-400",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:A.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})},{title:"Auto-Language Mode",description:"Automatic language-agnostic voice detection. Manual selection available for granular testing in Tamil, English, Hindi, Malayalam, and Telugu.",icon:A.jsxs("svg",{className:"w-6 h-6 text-cyan-400",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("circle",{cx:"12",cy:"12",r:"10"}),A.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),A.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})},{title:"Real-time Verification",description:"Get instant results in under 200ms, making it suitable for live customer support and high-frequency calls.",icon:A.jsx("svg",{className:"w-6 h-6 text-violet-400",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:A.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})})},{title:"Explainable Scoring",description:"Every classification comes with a detailed report explaining the reasoning and confidence levels.",icon:A.jsxs("svg",{className:"w-6 h-6 text-pink-400",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),A.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}],n1=()=>A.jsx("section",{id:"features",className:"py-24 md:py-32",children:A.jsxs("div",{className:"container mx-auto px-6",children:[A.jsxs("div",{className:"max-w-3xl mb-16",children:[A.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gradient",children:["Advanced Intelligence for ",A.jsx("br",{})," Voice Infrastructure."]}),A.jsx("p",{className:"text-gray-400 text-lg",children:"Built by security experts and AI researchers, Classiflick provides the most robust voice verification stack for modern enterprises."})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e1.map((s,t)=>A.jsxs("div",{className:"glass glass-hover p-8 rounded-2xl group",children:[A.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:s.icon}),A.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:s.title}),A.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:s.description})]},t))})]})}),B_=[{number:"01",title:"Upload Sample",description:"Provide a 5-second audio clip in any standard format (WAV, MP3, FLAC)."},{number:"02",title:"AI Processing",description:"Our neural networks analyze 10,000+ vocal features and spectral patterns."},{number:"03",title:"Get Results",description:"Receive a detailed classification report and confidence score instantly."}],i1=()=>A.jsx("section",{id:"how-it-works",className:"py-24 md:py-32 bg-[#0d1218]/50 border-y border-white/5",children:A.jsxs("div",{className:"container mx-auto px-6",children:[A.jsxs("div",{className:"text-center mb-20",children:[A.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gradient",children:"How it works"}),A.jsx("p",{className:"text-gray-400 text-lg max-w-xl mx-auto",children:"Verifying voice integrity is as simple as three steps."})]}),A.jsxs("div",{className:"relative grid grid-cols-1 lg:grid-cols-3 gap-12 lg:gap-8",children:[A.jsx("div",{className:"hidden lg:block absolute top-10 left-32 right-32 h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent -z-10"}),B_.map((s,t)=>A.jsxs("div",{className:"flex flex-col items-center text-center",children:[A.jsxs("div",{className:"w-20 h-20 rounded-full bg-indigo-600/20 border-2 border-indigo-600/30 flex items-center justify-center mb-8 relative",children:[A.jsx("span",{className:"text-2xl font-bold text-indigo-400",children:s.number}),t<B_.length-1&&A.jsx("div",{className:"lg:hidden absolute bottom-[-48px] left-1/2 -translate-x-1/2 w-[1px] h-12 bg-white/10"})]}),A.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:s.title}),A.jsx("p",{className:"text-gray-400 max-w-xs mx-auto",children:s.description})]},t))]})]})}),s1=()=>A.jsx("section",{className:"py-24 md:py-32",children:A.jsx("div",{className:"container mx-auto px-6",children:A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20 items-center",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-8 text-gradient",children:["The Gold Standard in ",A.jsx("br",{})," Vocal Security."]}),A.jsx("p",{className:"text-gray-400 text-lg mb-12",children:"Our platform powers security for some of the world's most demanding financial and communication infrastructures."}),A.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"99.9%"}),A.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-widest font-bold",children:"Accuracy rate"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"100+"}),A.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-widest font-bold",children:"Languages"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"<200ms"}),A.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-widest font-bold",children:"Latencies"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"10B+"}),A.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-widest font-bold",children:"Verified calls"})]})]})]}),A.jsxs("div",{className:"glass p-12 rounded-3xl relative overflow-hidden group",children:[A.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 blur-3xl rounded-full -z-10"}),A.jsxs("div",{className:"mb-8",children:[A.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((s,t)=>A.jsx("svg",{className:"w-5 h-5 text-yellow-500 fill-current",viewBox:"0 0 20 20",children:A.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),A.jsx("p",{className:"text-xl italic text-gray-300 mb-8 leading-relaxed",children:'"Classiflick has completely transformed our customer authentication workflow. Deepfake fraud attempts dropped to zero within 48 hours of deployment."'}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("img",{src:"https://picsum.photos/seed/person/64/64",alt:"CEO Avatar",className:"w-12 h-12 rounded-full ring-2 ring-indigo-500/20"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold text-white",children:"Sarah Chen"}),A.jsx("div",{className:"text-sm text-gray-500",children:"CTO, SecureComm Global"})]})]})]}),A.jsxs("div",{className:"pt-8 border-t border-white/5 flex flex-wrap gap-8 grayscale opacity-50",children:[A.jsx("span",{className:"font-bold text-xl tracking-tighter",children:"FINTECH+"}),A.jsx("span",{className:"font-bold text-xl tracking-tighter",children:"VOICEGUARD"}),A.jsx("span",{className:"font-bold text-xl tracking-tighter",children:"NEXUS"})]})]})]})})}),r1=({onStartTrial:s})=>A.jsx("section",{className:"py-24 md:py-32",children:A.jsx("div",{className:"container mx-auto px-6",children:A.jsxs("div",{className:"relative glass p-12 md:p-24 rounded-[40px] text-center overflow-hidden",children:[A.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-600/20 blur-[150px] rounded-full -z-10"}),A.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-8 max-w-3xl mx-auto tracking-tight",children:["Ready to ",A.jsx("span",{className:"text-gradient",children:"authenticate"})," the future?"]}),A.jsx("p",{className:"text-lg md:text-xl text-gray-400 max-w-2xl mx-auto mb-12",children:"Join 500+ enterprises protecting their users from voice-cloning attacks and identity fraud."}),A.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[A.jsx("button",{onClick:s,className:"w-full sm:w-auto px-10 py-5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-full transition-all text-xl shadow-2xl shadow-indigo-600/30 active:scale-95",children:"Start Your Free Trial"}),A.jsx("button",{className:"w-full sm:w-auto px-10 py-5 glass text-white font-bold rounded-full hover:bg-white/10 transition-all text-xl active:scale-95",children:"Talk to Sales"})]}),A.jsx("div",{className:"mt-12 text-gray-500 text-sm font-medium",children:"No credit card required  Enterprise-grade security  ISO 27001 Certified"})]})})}),a1=()=>A.jsx("footer",{className:"py-12 border-t border-white/5",children:A.jsxs("div",{className:"container mx-auto px-6",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8 mb-12",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded flex items-center justify-center",children:A.jsx("span",{className:"font-bold text-white text-[10px]",children:"C"})}),A.jsx("span",{className:"text-lg font-bold text-white",children:"Classiflick"})]}),A.jsxs("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4 text-sm text-gray-400",children:[A.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),A.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),A.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Security"}),A.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"}),A.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Support"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("a",{href:"#",className:"p-2 text-gray-400 hover:text-white transition-colors",children:A.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),A.jsx("a",{href:"#",className:"p-2 text-gray-400 hover:text-white transition-colors",children:A.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.761 0 5-2.239 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),A.jsxs("div",{className:"text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," Classiflick Inc. All rights reserved. Built for a secure future."]})]})}),o1=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},l1=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],g=s[n++],y=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,g=f?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,S=u>>2,b=(u&3)<<4|g>>4;let N=(g&15)<<2|_>>6,H=_&63;y||(H=64,f||(N=64)),r.push(n[S],n[b],n[N],n[H])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(M0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):l1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||_==null||b==null)throw new u1;const N=u<<2|g>>4;if(r.push(N),_!==64){const H=g<<4&240|_>>2;if(r.push(H),b!==64){const $=_<<6&192|b;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class u1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(s){const t=M0(s);return V0.encodeByteArray(t,!0)},Jc=function(s){return c1(s).replace(/\./g,"")},L0=function(s){try{return V0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=()=>h1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof H_>"u")return;const s=H_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},m1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&L0(s[1]);return t&&JSON.parse(t)},yh=()=>{try{return o1()||f1()||d1()||m1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},k0=s=>{var t,n;return(n=(t=yh())==null?void 0:t.emulatorHosts)==null?void 0:n[s]},g1=s=>{const t=k0(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},U0=()=>{var s;return(s=yh())==null?void 0:s.config},P0=s=>{var t;return(t=yh())==null?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jc(JSON.stringify(n)),Jc(JSON.stringify(f)),""].join(".")}const wl={};function _1(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function v1(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let q_=!1;function z0(s,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||wl[s]===t||wl[s]||q_)return;wl[s]=t;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=_1().prod.length>0;function f(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{q_=!0,f()},N}function S(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=v1(r),H=n("text"),$=document.getElementById(H)||document.createElement("span"),tt=n("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),lt=n("preprendIcon"),ft=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const mt=N.element;g(mt),S(Z,tt);const Ht=_();y(ft,lt),mt.append(ft,$,Z,Ht),document.body.appendChild(mt)}u?($.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function T1(){var t;const s=(t=yh())==null?void 0:t.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function b1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w1(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function R1(){return!T1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="FirebaseError";class ns extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=x1,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?N1(u,r):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new ns(l,g,r)}}function N1(s,t){return s.replace(O1,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const O1=/\{\$([^}]+)}/g;function D1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ur(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=s[l],f=t[l];if(G_(u)&&G_(f)){if(!Ur(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function G_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function El(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function M1(s,t){const n=new V1(s,t);return n.subscribe.bind(n)}class V1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(s){return s&&s._delegate?s._delegate:s}class Pr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new p1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(P1(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(s){return s===Vr?void 0:s}function P1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new k1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const z1={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},B1=xt.INFO,H1={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},q1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=H1[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=B1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const G1=(s,t)=>t.some(n=>s instanceof n);let F_,K_;function F1(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,Jd=new WeakMap,H0=new WeakMap,jd=new WeakMap,Sm=new WeakMap;function Y1(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(qs(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&B0.set(n,s)}).catch(()=>{}),Sm.set(t,s),t}function Q1(s){if(Jd.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Jd.set(s,t)}let $d={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Jd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||H0.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function X1(s){$d=s($d)}function J1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(zd(this),t,...n);return H0.set(r,t.sort?t.sort():[t]),qs(r)}:K1().includes(s)?function(...t){return s.apply(zd(this),t),qs(B0.get(this))}:function(...t){return qs(s.apply(zd(this),t))}}function $1(s){return typeof s=="function"?J1(s):(s instanceof IDBTransaction&&Q1(s),G1(s,F1())?new Proxy(s,$d):s)}function qs(s){if(s instanceof IDBRequest)return Y1(s);if(jd.has(s))return jd.get(s);const t=$1(s);return t!==s&&(jd.set(s,t),Sm.set(t,s)),t}const zd=s=>Sm.get(s);function Z1(s,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,t),g=qs(f);return r&&f.addEventListener("upgradeneeded",y=>{r(qs(f.result),y.oldVersion,y.newVersion,qs(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const W1=["get","getKey","getAll","getAllKeys","count"],tb=["put","add","delete","clear"],Bd=new Map;function Y_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=tb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||W1.includes(n)))return;const u=async function(f,...g){const y=this.transaction(f,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&y.done]))[0]};return Bd.set(t,u),u}X1(s=>({...s,get:(t,n,r)=>Y_(t,n)||s.get(t,n,r),has:(t,n)=>!!Y_(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nb(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Zd="@firebase/app",Q_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Am("@firebase/app"),ib="@firebase/app-compat",sb="@firebase/analytics-compat",rb="@firebase/analytics",ab="@firebase/app-check-compat",ob="@firebase/app-check",lb="@firebase/auth",ub="@firebase/auth-compat",cb="@firebase/database",hb="@firebase/data-connect",fb="@firebase/database-compat",db="@firebase/functions",mb="@firebase/functions-compat",gb="@firebase/installations",pb="@firebase/installations-compat",yb="@firebase/messaging",_b="@firebase/messaging-compat",vb="@firebase/performance",Eb="@firebase/performance-compat",Tb="@firebase/remote-config",Ab="@firebase/remote-config-compat",Sb="@firebase/storage",bb="@firebase/storage-compat",wb="@firebase/firestore",Rb="@firebase/ai",Cb="@firebase/firestore-compat",Ib="firebase",xb="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",Nb={[Zd]:"fire-core",[ib]:"fire-core-compat",[rb]:"fire-analytics",[sb]:"fire-analytics-compat",[ob]:"fire-app-check",[ab]:"fire-app-check-compat",[lb]:"fire-auth",[ub]:"fire-auth-compat",[cb]:"fire-rtdb",[hb]:"fire-data-connect",[fb]:"fire-rtdb-compat",[db]:"fire-fn",[mb]:"fire-fn-compat",[gb]:"fire-iid",[pb]:"fire-iid-compat",[yb]:"fire-fcm",[_b]:"fire-fcm-compat",[vb]:"fire-perf",[Eb]:"fire-perf-compat",[Tb]:"fire-rc",[Ab]:"fire-rc-compat",[Sb]:"fire-gcs",[bb]:"fire-gcs-compat",[wb]:"fire-fst",[Cb]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[Ib]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,Ob=new Map,tm=new Map;function X_(s,t){try{s.container.addComponent(t)}catch(n){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ja(s){const t=s.name;if(tm.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,s);for(const n of $c.values())X_(n,s);for(const n of Ob.values())X_(n,s);return!0}function bm(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Vn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Kl("app","Firebase",Db);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=xb;function q0(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:Wd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Gs.create("bad-app-name",{appName:String(l)});if(n||(n=U0()),!n)throw Gs.create("no-options");const u=$c.get(l);if(u){if(Ur(n,u.options)&&Ur(r,u.config))return u;throw Gs.create("duplicate-app",{appName:l})}const f=new j1(l);for(const y of tm.values())f.addComponent(y);const g=new Mb(n,r,f);return $c.set(l,g),g}function G0(s=Wd){const t=$c.get(s);if(!t&&s===Wd&&U0())return q0();if(!t)throw Gs.create("no-app",{appName:s});return t}function Fs(s,t,n){let r=Nb[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${t}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(f.join(" "));return}Ja(new Pr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebase-heartbeat-database",Lb=1,Ml="firebase-heartbeat-store";let Hd=null;function F0(){return Hd||(Hd=Z1(Vb,Lb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(s=>{throw Gs.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function kb(s){try{const n=(await F0()).transaction(Ml),r=await n.objectStore(Ml).get(K0(s));return await n.done,r}catch(t){if(t instanceof ns)Zi.warn(t.message);else{const n=Gs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Zi.warn(n.message)}}}async function J_(s,t){try{const r=(await F0()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(t,K0(s)),await r.done}catch(n){if(n instanceof ns)Zi.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(r.message)}}}function K0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=1024,Pb=30;class jb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>Pb){const f=Hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$_(),{heartbeatsToSend:r,unsentEntries:l}=zb(this._heartbeatsCache.heartbeats),u=Jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zi.warn(n),""}}}function $_(){return new Date().toISOString().substring(0,10)}function zb(s,t=Ub){const n=[];let r=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Z_(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Z_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Z_(s){return Jc(JSON.stringify({version:2,heartbeats:s})).length}function Hb(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(s){Ja(new Pr("platform-logger",t=>new eb(t),"PRIVATE")),Ja(new Pr("heartbeat",t=>new jb(t),"PRIVATE")),Fs(Zd,Q_,s),Fs(Zd,Q_,"esm2020"),Fs("fire-js","")}qb("");function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gb=Y0,Q0=new Kl("auth","Firebase",Y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Am("@firebase/auth");function Fb(s,...t){Zc.logLevel<=xt.WARN&&Zc.warn(`Auth (${so}): ${s}`,...t)}function jc(s,...t){Zc.logLevel<=xt.ERROR&&Zc.error(`Auth (${so}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(s,...t){throw wm(s,...t)}function Ai(s,...t){return wm(s,...t)}function X0(s,t,n){const r={...Gb(),[t]:n};return new Kl("auth","Firebase",r).create(t,{appName:s.name})}function Ji(s){return X0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Q0.create(s,...t)}function gt(s,t,...n){if(!s)throw wm(t,...n)}function Qi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw jc(t),new Error(t)}function Wi(s,t){s||Qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function Kb(){return W_()==="http:"||W_()==="https:"}function W_(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kb()||S1()||"connection"in navigator)?navigator.onLine:!0}function Qb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wi(n>t,"Short delay should be less than long delay!"),this.isMobile=E1()||b1()}get(){return Yb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$b=new Ql(3e4,6e4);function er(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function nr(s,t,n,r,l={}){return $0(s,l,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const g=Yl({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...u};return A1()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&io(s.emulatorConfig.host)&&(_.credentials="include"),J0.fetch()(await Z0(s,s.config.apiHost,n,g),_)})}async function $0(s,t,n){s._canInitEmulator=!1;const r={...Xb,...t};try{const l=new Wb(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Mc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw Mc(s,"user-disabled",f);const S=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw X0(s,S,_);Zn(s,S)}}catch(l){if(l instanceof ns)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function Xl(s,t,n,r,l={}){const u=await nr(s,t,n,r,l);return"mfaPendingCredential"in u&&Zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Z0(s,t,n,r){const l=`${t}${n}?${r}`,u=s,f=u.config.emulator?Rm(s.config,l):`${s.config.apiScheme}://${l}`;return Jb.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Zb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),$b.get())})}}function Mc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ai(s,t,r);return l.customData._tokenResponse=n,l}function tv(s){return s!==void 0&&s.enterprise!==void 0}class tw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Zb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ew(s,t){return nr(s,"GET","/v2/recaptchaConfig",er(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(s,t){return nr(s,"POST","/v1/accounts:delete",t)}async function Wc(s,t){return nr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iw(s,t=!1){const n=En(s),r=await n.getIdToken(t),l=Cm(r);gt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:Rl(qd(l.auth_time)),issuedAtTime:Rl(qd(l.iat)),expirationTime:Rl(qd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qd(s){return Number(s)*1e3}function Cm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=L0(n);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function ev(s){const t=Cm(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ns&&sw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function sw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(s){var b;const t=s.auth,n=await s.getIdToken(),r=await Vl(s,Wc(t,{idToken:n}));gt(r==null?void 0:r.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=(b=l.providerUserInfo)!=null&&b.length?W0(l.providerUserInfo):[],f=ow(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!(f!=null&&f.length),_=g?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function aw(s){const t=En(s);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ow(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function W0(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(s,t){const n=await $0(s,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await Z0(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&io(s.emulatorConfig.host)&&(y.credentials="include"),J0.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uw(s,t){return nr(s,"POST","/v2/accounts:revokeToken",er(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=ev(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await lw(t,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new Fa;return r&&(gt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),l&&(gt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new rw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iw(this,t)}reload(){return aw(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Vl(this,nw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:H,providerData:$,stsTokenManager:tt}=n;gt(b&&tt,t,"internal-error");const Z=Fa.fromJSON(this.name,tt);gt(typeof b=="string",t,"internal-error"),ks(r,t.name),ks(l,t.name),gt(typeof N=="boolean",t,"internal-error"),gt(typeof H=="boolean",t,"internal-error"),ks(u,t.name),ks(f,t.name),ks(g,t.name),ks(y,t.name),ks(_,t.name),ks(S,t.name);const lt=new Xn({uid:b,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:H,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Z,createdAt:_,lastLoginAt:S});return $&&Array.isArray($)&&(lt.providerData=$.map(ft=>({...ft}))),y&&(lt._redirectEventId=y),lt}static async _fromIdTokenResponse(t,n,r=!1){const l=new Fa;l.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await th(u),u}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];gt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?W0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Fa;g.updateFromIdToken(r);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let t=nv.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,nv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tE.type="NONE";const iv=tE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(s,t,n){return`firebase:${s}:${t}:${n}`}class Ka{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,u),this.fullPersistenceKey=zc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wc(this.auth,{idToken:t}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ka(Xi(iv),t,r);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||Xi(iv);const f=zc(r,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const S=await _._get(f);if(S){let b;if(typeof S=="string"){const N=await Wc(t,{idToken:S}).catch(()=>{});if(!N)break;b=await Xn._fromGetAccountInfoResponse(t,N,S)}else b=Xn._fromJSON(t,S);_!==u&&(g=b),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ka(u,t,r):(u=y[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Ka(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aE(t))return"Blackberry";if(oE(t))return"Webos";if(nE(t))return"Safari";if((t.includes("chrome/")||iE(t))&&!t.includes("edge/"))return"Chrome";if(rE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eE(s=Ze()){return/firefox\//i.test(s)}function nE(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iE(s=Ze()){return/crios\//i.test(s)}function sE(s=Ze()){return/iemobile/i.test(s)}function rE(s=Ze()){return/android/i.test(s)}function aE(s=Ze()){return/blackberry/i.test(s)}function oE(s=Ze()){return/webos/i.test(s)}function Im(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cw(s=Ze()){var t;return Im(s)&&!!((t=window.navigator)!=null&&t.standalone)}function hw(){return w1()&&document.documentMode===10}function lE(s=Ze()){return Im(s)||rE(s)||oE(s)||aE(s)||/windows phone/i.test(s)||sE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(s,t=[]){let n;switch(s){case"Browser":n=sv(Ze());break;case"Worker":n=`${sv(Ze())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,g)=>{try{const y=t(u);f(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(s,t={}){return nr(s,"GET","/v2/passwordPolicy",er(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=6;class gw{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new fw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var r,l,u;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wc(this,{idToken:t}),r=await Xn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Vn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=r==null?void 0:r._redirectEventId,y=await this.tryRedirectSignIn(t);(!f||f===g)&&(y!=null&&y.user)&&(r=y.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Qb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Ji(this));const n=t?En(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dw(this),n=new gw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uw(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xi(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,l);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&Fb(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Gr(s){return En(s)}class rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=M1(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yw(s){_h=s}function cE(s){return _h.loadJS(s)}function _w(){return _h.recaptchaEnterpriseScript}function vw(){return _h.gapiScript}function Ew(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Tw{constructor(){this.enterprise=new Aw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Aw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Sw="recaptcha-enterprise",hE="NO_RECAPTCHA";class bw{constructor(t){this.type=Sw,this.auth=Gr(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{ew(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new tw(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(y=>{g(y)})})}function l(u,f,g){const y=window.grecaptcha;tv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(hE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(g=>{if(!n&&tv(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=_w();y.length!==0&&(y+=g),cE(y).then(()=>{l(g,u,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function av(s,t,n,r=!1,l=!1){const u=new bw(s);let f;if(l)f=hE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function im(s,t,n,r,l){var u;if((u=s._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await av(s,t,n,n==="getOobCode");return r(s,f)}else return r(s,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await av(s,t,n,n==="getOobCode");return r(s,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(s,t){const n=bm(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ur(u,t??{}))return l;Zn(l,"already-initialized")}return n.initialize({options:t})}function Rw(s,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Cw(s,t,n){const r=Gr(s);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=fE(t),{host:f,port:g}=Iw(t),y=g===null?"":`:${g}`,_={url:`${u}//${f}${y}/`},S=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(Ur(_,r.config.emulator)&&Ur(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,io(f)?(j0(`${u}//${f}${y}`),z0("Auth",!0)):xw()}function fE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Iw(s){const t=fE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:ov(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:ov(f)}}}function ov(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function xw(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,n){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function Nw(s,t){return nr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(s,t){return Xl(s,"POST","/v1/accounts:signInWithPassword",er(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(s,t){return Xl(s,"POST","/v1/accounts:signInWithEmailLink",er(s,t))}async function Mw(s,t){return Xl(s,"POST","/v1/accounts:signInWithEmailLink",er(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends xm{constructor(t,n,r,l=null){super("password",r),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Ll(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ll(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,n,"signInWithPassword",Ow);case"emailLink":return Dw(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,r,"signUpPassword",Nw);case"emailLink":return Mw(t,{idToken:n,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(s,t){return Xl(s,"POST","/v1/accounts:signInWithIdp",er(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="http://localhost";class jr extends xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const f=new jr(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ya(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ya(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ya(t,n)}buildRequest(){const t={requestUri:Vw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Yl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kw(s){const t=vl(El(s)).link,n=t?vl(El(t)).deep_link_id:null,r=vl(El(s)).deep_link_id;return(r?vl(El(r)).link:null)||r||n||t||s}class Nm{constructor(t){const n=vl(El(t)),r=n.apiKey??null,l=n.oobCode??null,u=Lw(n.mode??null);gt(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=kw(t);try{return new Nm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,n){return Ll._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Nm.parseLink(n);return gt(r,"argument-error"),Ll._fromEmailAndCode(t,r.code,r.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends dE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Jl{constructor(){super("facebook.com")}static credential(t){return jr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return jr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return js.credential(n,r)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Jl{constructor(){super("github.com")}static credential(t){return jr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Jl{constructor(){super("twitter.com")}static credential(t,n){return jr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(s,t){return Xl(s,"POST","/v1/accounts:signUp",er(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const u=await Xn._fromIdTokenResponse(t,r,l),f=lv(r);return new zr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=lv(r);return new zr({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function lv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends ns{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new eh(t,n,r,l)}}function mE(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(s,u,t,r):u})}async function Pw(s,t,n=!1){const r=await Vl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return zr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(s,t,n=!1){const{auth:r}=s;if(Vn(r.app))return Promise.reject(Ji(r));const l="reauthenticate";try{const u=await Vl(s,mE(r,l,t,s),n);gt(u.idToken,r,"internal-error");const f=Cm(u.idToken);gt(f,r,"internal-error");const{sub:g}=f;return gt(s.uid===g,r,"user-mismatch"),zr._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gE(s,t,n=!1){if(Vn(s.app))return Promise.reject(Ji(s));const r="signIn",l=await mE(s,r,t),u=await zr._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function zw(s,t){return gE(Gr(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(s){const t=Gr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Bw(s,t,n){if(Vn(s.app))return Promise.reject(Ji(s));const r=Gr(s),f=await im(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uw).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&pE(s),y}),g=await zr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function Hw(s,t,n){return Vn(s.app)?Promise.reject(Ji(s)):zw(En(s),ro.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pE(s),r})}function qw(s,t,n,r){return En(s).onIdTokenChanged(t,n,r)}function Gw(s,t,n){return En(s).beforeAuthStateChanged(t,n)}function Fw(s,t,n,r){return En(s).onAuthStateChanged(t,n,r)}function Kw(s){return En(s).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=1e3,Qw=10;class _E extends yE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);hw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Qw):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_E.type="LOCAL";const Xw=_E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends yE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}vE.type="SESSION";const EE=vE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new vh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,u)),y=await Jw(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,y)=>{const _=Om("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(S),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(S),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function Zw(s){Si().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function Ww(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function eR(){return TE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firebaseLocalStorageDb",nR=1,ih="firebaseLocalStorage",SE="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(s,t){return s.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function iR(){const s=indexedDB.deleteDatabase(AE);return new $l(s).toPromise()}function sm(){const s=indexedDB.open(AE,nR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ih,{keyPath:SE})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ih)?t(r):(r.close(),await iR(),t(await sm()))})})}async function uv(s,t,n){const r=Eh(s,!0).put({[SE]:t,value:n});return new $l(r).toPromise()}async function sR(s,t){const n=Eh(s,!1).get(t),r=await new $l(n).toPromise();return r===void 0?null:r.value}function cv(s,t){const n=Eh(s,!0).delete(t);return new $l(n).toPromise()}const rR=800,aR=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>aR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(eR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ww(),!this.activeServiceWorker)return;this.sender=new $w(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await uv(t,nh,"1"),await cv(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>sR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Eh(l,!1).getAll();return new $l(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const oR=bE;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(s,t){return t?Xi(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends xm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ya(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function uR(s){return gE(s.auth,new Dm(s),s.bypassAuthState)}function cR(s){const{auth:t,user:n}=s;return gt(n,t,"internal-error"),jw(n,new Dm(s),s.bypassAuthState)}async function hR(s){const{auth:t,user:n}=s;return gt(n,t,"internal-error"),Pw(n,new Dm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,n,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uR;case"linkViaPopup":case"linkViaRedirect":return hR;case"reauthViaPopup":case"reauthViaRedirect":return cR;default:Zn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Ql(2e3,1e4);class Ga extends wE{constructor(t,n,r,l,u){super(t,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fR.get())};t()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="pendingRedirect",Bc=new Map;class mR extends wE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const r=await gR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gR(s,t){const n=_R(t),r=yR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function pR(s,t){Bc.set(s._key(),t)}function yR(s){return Xi(s._redirectPersistence)}function _R(s){return zc(dR,s.config.apiKey,s.name)}async function vR(s,t,n=!1){if(Vn(s.app))return Promise.reject(Ji(s));const r=Gr(s),l=lR(r,t),f=await new mR(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=600*1e3;class TR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!RE(t)){const l=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ER&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(t))}saveEventToCache(t){this.cachedEventUids.add(hv(t)),this.lastProcessedEventTime=Date.now()}}function hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function RE({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function AR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(s,t={}){return nr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wR=/^https?/;async function RR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await SR(s);for(const n of t)try{if(CR(n))return}catch{}Zn(s,"unauthorized-domain")}function CR(s){const t=em(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!wR.test(n))return!1;if(bR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Ql(3e4,6e4);function fv(){const s=Si().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function xR(s){return new Promise((t,n)=>{var l,u,f;function r(){fv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fv(),n(Ai(s,"network-request-failed"))},timeout:IR.get()})}if((u=(l=Si().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Si().gapi)!=null&&f.load)r();else{const g=Ew("iframefcb");return Si()[g]=()=>{gapi.load?r():n(Ai(s,"network-request-failed"))},cE(`${vw()}?onload=${g}`).catch(y=>n(y))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function NR(s){return Hc=Hc||xR(s),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Ql(5e3,15e3),DR="__/auth/iframe",MR="emulator/auth/iframe",VR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kR(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Rm(t,MR):`https://${s.config.authDomain}/${DR}`,r={apiKey:t.apiKey,appName:s.name,v:so},l=LR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Yl(r).slice(1)}`}async function UR(s){const t=await NR(s),n=Si().gapi;return gt(n,s,"internal-error"),t.open({where:document.body,url:kR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ai(s,"network-request-failed"),g=Si().setTimeout(()=>{u(f)},OR.get());function y(){Si().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jR=500,zR=600,BR="_blank",HR="http://localhost";class dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qR(s,t,n,r=jR,l=zR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...PR,width:r.toString(),height:l.toString(),top:u,left:f},_=Ze().toLowerCase();n&&(g=iE(_)?BR:n),eE(_)&&(t=t||HR,y.scrollbars="yes");const S=Object.entries(y).reduce((N,[H,$])=>`${N}${H}=${$},`,"");if(cw(_)&&g!=="_self")return GR(t||"",g),new dv(null);const b=window.open(t||"",g,S);gt(b,s,"popup-blocked");try{b.focus()}catch{}return new dv(b)}function GR(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="__/auth/handler",KR="emulator/auth/handler",YR=encodeURIComponent("fac");async function mv(s,t,n,r,l,u){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:so,eventId:l};if(t instanceof dE){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",D1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))f[S]=b}if(t instanceof Jl){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(f.scopes=S.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await s._getAppCheckToken(),_=y?`#${YR}=${encodeURIComponent(y)}`:"";return`${QR(s)}?${Yl(g).slice(1)}${_}`}function QR({config:s}){return s.emulator?Rm(s,KR):`https://${s.authDomain}/${FR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class XR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=vR,this._overrideRedirectResult=pR}async _openPopup(t,n,r,l){var f;Wi((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await mv(t,n,r,em(),l);return qR(t,u,Om())}async _openRedirect(t,n,r,l){await this._originValidation(t);const u=await mv(t,n,r,em(),l);return Zw(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Wi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await UR(t),r=new TR(t);return n.register("authEvent",l=>(gt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gd,{type:Gd},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[Gd];u!==void 0&&n(!!u),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lE()||nE()||Im()}}const JR=XR;var gv="@firebase/auth",pv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WR(s){Ja(new Pr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uE(s)},_=new pw(r,l,u,y);return Rw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ja(new Pr("auth-internal",t=>{const n=Gr(t.getProvider("auth").getImmediate());return(r=>new $R(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(gv,pv,ZR(s)),Fs(gv,pv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=300,eC=P0("authIdTokenMaxAge")||tC;let yv=null;const nC=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eC)return;const l=n==null?void 0:n.token;yv!==l&&(yv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function iC(s=G0()){const t=bm(s,"auth");if(t.isInitialized())return t.getImmediate();const n=ww(s,{popupRedirectResolver:JR,persistence:[oR,Xw,EE]}),r=P0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=nC(u.toString());Gw(n,f,()=>f(n.currentUser)),qw(n,g=>f(g))}}const l=k0("auth");return l&&Cw(n,`http://${l}`),n}function sC(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}yw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=Ai("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",sC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WR("Browser");var rC="firebase",aC="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(rC,aC,"app");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,CE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,D,k){for(var R=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)R[Wt-2]=arguments[Wt];return w.prototype[D].apply(V,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],D=x.g[2];let k=x.g[3],R;R=w+(k^I&(D^k))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(D^w&(I^D))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(I^k&(w^I))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(w^D&(k^w))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(k^I&(D^k))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(D^w&(I^D))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(I^k&(w^I))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(w^D&(k^w))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(k^I&(D^k))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(D^w&(I^D))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(I^k&(w^I))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(w^D&(k^w))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(k^I&(D^k))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(D^w&(I^D))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(I^k&(w^I))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(w^D&(k^w))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(I^D))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(w^I))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(k^w))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(D^k))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(I^D))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(w^I))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(k^w))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(D^k))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(I^D))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(w^I))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(k^w))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(D^k))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(I^D))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(w^I))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(k^w))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(D^k))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^k)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^D)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^I)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^w)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^k)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^D)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^I)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^w)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^k)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^D)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^I)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^w)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^k)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^D)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^I)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^w)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~k))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~D))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~I))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~w))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~k))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~D))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~I))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~w))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~k))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~D))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~I))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~w))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~k))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~D))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~I))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=I;)l(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(V[D++]=x.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<w;)if(V[D++]=x[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[w++]=this.g[I]>>>V&255;return x};function u(x,w){var I=g;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function f(x,w){this.h=w;const I=[];let V=!0;for(let D=x.length-1;D>=0;D--){const k=x[D]|0;V&&k==w||(I[D]=k,V=!1)}this.g=I}var g={};function y(x){return-128<=x&&x<128?u(x,function(w){return new f([w|0],w<0?-1:0)}):new f([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return Z(_(-x));const w=[];let I=1;for(let V=0;x>=I;V++)w[V]=x/I|0,I*=4294967296;return new f(w,0)}function S(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return Z(S(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=b;for(let k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var b=y(0),N=y(1),H=y(16777216);s=f.prototype,s.m=function(){if(tt(this))return-Z(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if($(this))return"0";if(tt(this))return"-"+Z(this).toString(x);const w=_(Math.pow(x,6));var I=this;let V="";for(;;){const D=Ht(I,w).g;I=lt(I,D.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,$(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function $(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function tt(x){return x.h==-1}s.l=function(x){return x=lt(this,x),tt(x)?-1:$(x)?0:1};function Z(x){const w=x.g.length,I=[];for(let V=0;V<w;V++)I[V]=~x.g[V];return new f(I,~x.h).add(N)}s.abs=function(){return tt(this)?Z(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(x.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,I[D]=R<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function lt(x,w){return x.add(Z(w))}s.j=function(x){if($(this)||$(x))return b;if(tt(this))return tt(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(tt(x))return Z(this.j(Z(x)));if(this.l(H)<0&&x.l(H)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,Wt=x.i(D)>>>16,se=x.i(D)&65535;I[2*V+2*D]+=R*se,ft(I,2*V+2*D),I[2*V+2*D+1]+=k*se,ft(I,2*V+2*D+1),I[2*V+2*D+1]+=R*Wt,ft(I,2*V+2*D+1),I[2*V+2*D+2]+=k*Wt,ft(I,2*V+2*D+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new f(I,0)};function ft(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function mt(x,w){this.g=x,this.h=w}function Ht(x,w){if($(w))throw Error("division by zero");if($(x))return new mt(b,b);if(tt(x))return w=Ht(Z(x),w),new mt(Z(w.g),Z(w.h));if(tt(w))return w=Ht(x,Z(w)),new mt(Z(w.g),w.h);if(x.g.length>30){if(tt(x)||tt(w))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=w;V.l(x)<=0;)I=te(I),V=te(V);var D=Lt(I,1),k=Lt(V,1);for(V=Lt(V,2),I=Lt(I,2);!$(V);){var R=k.add(V);R.l(x)<=0&&(D=D.add(I),k=R),V=Lt(V,1),I=Lt(I,1)}return w=lt(x,D.j(w)),new mt(D,w)}for(D=b;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),R=k.j(w);tt(R)||R.l(x)>0;)I-=V,k=_(I),R=k.j(w);$(k)&&(k=N),D=D.add(k),x=lt(x,R)}return new mt(D,x)}s.B=function(x){return Ht(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&x.i(V);return new f(I,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|x.i(V);return new f(I,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^x.i(V);return new f(I,this.h^x.h)};function te(x){const w=x.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(I,x.h)}function Lt(x,w){const I=w>>5;w%=32;const V=x.g.length-I,D=[];for(let k=0;k<V;k++)D[k]=w>0?x.i(k+I)>>>w|x.i(k+I+1)<<32-w:x.i(k+I);return new f(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=S,Ks=f}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IE,Tl,xE,qc,rm,NE,OE,DE;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var U=c[T];if(!(U in v))break t;v=v[U]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=y,_.apply(null,arguments)}function S(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function b(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,U,B){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[U].apply(T,W)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const m=c.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function $(c,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const B=U.length||0;c.length=v+B;for(let W=0;W<B;W++)c[v+W]=U[W]}else c.push(U)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){f.setTimeout(()=>{throw c},0)}function lt(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,v){const T=mt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new tt(()=>new Ht,c=>c.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Lt=!1,x=new ft,w=()=>{const c=Promise.resolve(void 0);te=()=>{c.then(I)}};function I(){for(var c;c=lt();){try{c.h.call(c.g)}catch(v){Z(v)}var m=mt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Lt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Wt(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(Wt,D),Wt.prototype.init=function(c,m){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(c,m,v,T,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kt(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function Gt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)c[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,T,U){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const W=St(c,m,T,U);return W>-1?(m=c[W],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,U),m.fa=v,c.push(m)),m};function yt(c,m){const v=m.type;if(v in c.g){var T=c.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ct(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,m,v,T){for(let U=0;U<c.length;++U){const B=c[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(c,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(c,m[B],v,T,U);return null}return v=fo(v),c&&c[se]?c.J(m,v,g(T)?!!T.capture:!1,U):ir(c,m,v,!1,T,U)}function ir(c,m,v,T,U,B){if(!m)throw Error("Invalid event type");const W=g(U)?!!U.capture:!!U;let Tt=sr(c);if(Tt||(c[Mt]=Tt=new st(c)),v=Tt.add(m,v,T,W,B),v.proxy)return v;if(T=Xr(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)k||(U=W),U===void 0&&(U=!1),c.addEventListener(m.toString(),T,U);else if(c.attachEvent)c.attachEvent(Wn(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xr(){function c(v){return m.call(c.src,c.listener,v)}const m=co;return c}function Jr(c,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Jr(c,m[B],v,T,U);else T=g(T)?!!T.capture:!!T,v=fo(v),c&&c[se]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=St(m,v,T,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=sr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=St(m,v,T,U)),(v=c>-1?m[c]:null)&&$r(v))}function $r(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[se])yt(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=sr(m))?(yt(v,c),v.h==0&&(v.src=null,m[Mt]=null)):ct(c)}}}function Wn(c){return c in Ie?Ie[c]:Ie[c]="on"+c}function co(c,m){if(c.da)c=!0;else{m=new Wt(m,this);const v=c.listener,T=c.ha||c.src;c.fa&&$r(c),c=v.call(T,m)}return c}function sr(c){return c=c[Mt],c instanceof st?c:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(c){return typeof c=="function"?c:(c[ho]||(c[ho]=function(m){return c.handleEvent(m)}),c[ho])}function ye(){V.call(this),this.i=new st(this),this.M=this,this.G=null}b(ye,V),ye.prototype[se]=!0,ye.prototype.removeEventListener=function(c,m,v,T){Jr(this,c,m,v,T)};function xe(c,m){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var U=m;m=new D(T,c),nt(m,U)}U=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],U=is(B,T,!0,m)&&U;if(B=m.g=c,U=is(B,T,!0,m)&&U,U=is(B,T,!1,m)&&U,v)for(W=0;W<v.length;W++)B=m.g=v[W],U=is(B,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete c.g[m],c.h--}}this.G=null},ye.prototype.J=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},ye.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function is(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Tt=W.listener,de=W.ha||W.src;W.fa&&yt(c.i,W),U=Tt.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function Mh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function su(c){c.g=Mh(()=>{c.g=null,c.i&&(c.i=!1,su(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:su(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(c){V.call(this),this.h=c,this.g={}}b(rr,V);var mo=[];function go(c){kt(c.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},c),c.g={}}rr.prototype.N=function(){rr.Z.N.call(this),go(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=f.JSON.stringify,Vh=f.JSON.parse,ru=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function au(){}function ou(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}b(Pe,D);function Tn(){D.call(this,"c")}b(Tn,D);var fe={},lu=null;function Zr(){return lu=lu||new ye}fe.Ia="serverreachability";function uu(c){D.call(this,fe.Ia,c)}b(uu,D);function ti(c){const m=Zr();xe(m,new uu(m))}fe.STAT_EVENT="statevent";function ar(c,m){D.call(this,fe.STAT_EVENT,c),this.stat=m}b(ar,D);function _e(c){const m=Zr();xe(m,new ar(m,c))}fe.Ja="timingevent";function ei(c,m){D.call(this,fe.Ja,c),this.size=m}b(ei,D);function ni(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Lh(c,m,v,T,U,B){c.info(function(){if(c.g)if(B){var W="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var de=Tt[jt].split("=");if(de.length>1){const ae=de[0];de=de[1];const wn=ae.split("_");W=wn.length>=2&&wn[1]=="type"?W+(ae+"="+de+"&"):W+(ae+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function cu(c,m,v,T,U,B,W){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+W})}function ii(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(c,v)+(T?" "+T:"")})}function or(c,m){c.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function kh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ss(B)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function ur(){}b(ur,au),ur.prototype.g=function(){return new XMLHttpRequest},yo=new ur;function xi(c){return encodeURIComponent(String(c))}function hu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function jn(c,m,v,T){this.j=c,this.i=m,this.l=v,this.S=T||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function si(c,m,v){c.M=1,c.A=cr(Te(m)),c.u=v,c.R=!0,Wr(c,null)}function Wr(c,m){c.F=Date.now(),ri(c),c.B=Te(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),ia(v.i,"t",T),c.C=0,v=c.j.L,c.h=new zn,c.g=Ru(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,T=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(mo[0]=U.toString()),U=mo);for(let B=0;B<U.length;B++){const W=re(v,U[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ti(),Lh(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const m=this.O;m&&qn(c)==3?m.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)t:{const Tt=qn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||de==7||(de==8||jt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(c=B)ii(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,c);else{this.o=!1,this.m=3,_e(12),hn(this),An(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=du(this,v),ae==Me){Tt==4&&(this.m=4,_e(14),c=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ii(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ii(this.i,this.l,ae,null),oi(this,ae);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)ii(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(W),W.P=!0,_e(11))}}else ii(this.i,this.l,v,null),oi(this,v);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?Au(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),hn(this),An(this)}}}catch{}finally{}};function Uh(c){if(!fu(c))return c.g.la();const m=je(c.g);if(m==="")return"";let v="";const T=m.length,U=qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),An(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<T;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function fu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function du(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?Me:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?Me:(m=m.slice(T,T+v),c.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(c){c.T=Date.now()+c.H,ta(c,c.H)}function ta(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ni(_(c.aa,c),m)}function ai(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(or(this.i,this.B),this.M!=2&&(ti(),_e(17)),hn(this),this.m=2,An(this)):ta(this,this.T-c)};function An(c){c.j.I==0||c.K||Au(c.j,c)}function hn(c){ai(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,go(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function oi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ui(v.h,c))){if(!c.L&&ui(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)la(v),fs(v);else break t;yr(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&la(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const wn=jt[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const pi=jt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Gn=jt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=c.g;if(Fn){const _r=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var B=T.h;B.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(T.G){const ua=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Ft(T.J,T.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=c;if(T.na=wu(T,T.L?T.ba:null,T.W),W.L){To(T.h,W);var Tt=W,de=T.O;de&&(Tt.H=de),Tt.D&&(ai(Tt),ri(Tt)),T.g=W}else Eu(T);v.i.length>0&&mi(v)}else jt[0]!="stop"&&jt[0]!="close"||gi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?gi(v,7):No(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ti(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function _o(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function li(c){return c.h?1:c.g?c.g.size:0}function ui(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Eo(c,m){c.g?c.g.add(m):c.h=m}function To(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ao(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return H(c.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let U,B=null;T>=0?(U=c[v].substring(0,T),B=c[v].substring(T+1)):U=c[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof fn?(this.l=c.l,Ve(this,c.j),this.o=c.o,this.g=c.g,rs(this,c.u),this.h=c.h,So(this,_u(c.i)),this.m=c.m):c&&(m=String(c).match(mu))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rs(this,m[4]),this.h=ci(m[5]||"",!0),So(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}fn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(hr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(hr(m,na,!0),"@"),c.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(hr(v,v.charAt(0)=="/"?bo:gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",hr(v,pu)),c.join("")},fn.prototype.resolve=function(c){const m=Te(this);let v=!!c.j;v?Ve(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var T=c.h;if(v)rs(m,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const Tt=U[W++];Tt=="."?T&&W==U.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==U.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=c.i.toString()!=="",v?So(m,_u(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Te(c){return new fn(c)}function Ve(c,m,v){c.j=v?ci(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function rs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function So(c,m,v){m instanceof os?(c.i=m,sa(c.i,c.l)):(v||(m=hr(m,as)),c.i=new os(m,c.l))}function Ft(c,m,v){c.i.set(m,v)}function cr(c){return Ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ci(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var na=/[#\/\?@]/g,gu=/[#\?:]/g,bo=/[#\?]/g,as=/[#\?@]/g,pu=/#/g;function os(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ea(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(c,m){sn(this),this.i=null,c=ls(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function yu(c,m){sn(c),m=ls(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function wo(c,m){return sn(c),m=ls(c,m),c.g.has(m)}s.forEach=function(c,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){c.call(m,U,T,this)},this)},this)};function Ro(c,m){sn(c);let v=[];if(typeof m=="string")wo(c,m)&&(v=v.concat(c.g.get(ls(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return sn(this),this.i=null,c=ls(this,c),wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Ro(this,c),c.length>0?String(c[0]):m):m};function ia(c,m,v){yu(c,m),v.length>0&&(c.i=null,c.g.set(ls(c,m),H(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=xi(v);v=Ro(this,v);for(let B=0;B<v.length;B++){let W=U;v[B]!==""&&(W+="="+xi(v[B])),c.push(W)}}return this.i=c.join("&")};function _u(c){const m=new os;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ls(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function sa(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(yu(this,T),ia(this,U,v))},c)),c.j=m}function Bn(c,m){const v=new Pn;if(f.Image){const T=new Image;T.onload=S(Sn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Sn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Sn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Sn,v,"TestLoadImage: timeout",!1,m,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Co(c,m){const v=new Pn,T=new AbortController,U=setTimeout(()=>{T.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(v,"TestPingServer: error",!1,m)})}function Sn(c,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function us(){this.g=new ru}function hi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(hi,au),hi.prototype.g=function(){return new fr(this.i,this.h)};function fr(c,m){ye.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(fr,ye),s=fr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Hn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?cs(this):Hn(this),this.readyState==3&&ra(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,cs(this))},s.Na=function(c){this.g&&(this.response=c,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let m="";return kt(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function dr(c,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=bn(v),typeof c=="string"?v!=null&&xi(v):Ft(c,m,v))}function Qt(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Qt,ye);var fi=/^https?$/i,Io=["POST","PUT"];s=Qt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){mr(this,B);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){mr(this,B)}};function mr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,xo(c),Ni(c)}function xo(c){c.A||(c.A=!0,xe(c,"complete"),xe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xe(this,"complete"),xe(this,"abort"),Ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Qt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},s.Xa=function(){gr(this)};function gr(c){if(c.h&&typeof u<"u"){if(c.v&&qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xe(c,"readystatechange"),qn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(c.D).match(mu)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),T=!fi.test(W?W.toLowerCase():"")}v=T}if(v)xe(c,"complete"),xe(c,"success");else{c.o=6;try{var U=qn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",xo(c)}}finally{Ni(c)}}}}function Ni(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||xe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Vh(m)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(c){const m={};c=(c.g&&qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(R(c[T]))continue;var v=hu(c[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function hs(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,c),this.Za=di("retryDelaySeedMs",1e4,c),this.Ta=di("forwardChannelMaxRetries",2,c),this.va=di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(c&&c.concurrentRequestLimit),this.Ba=new us,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,T){_e(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=wu(this,null,this.W),mi(this)};function No(c){if(aa(c),c.I==3){var m=c.V++,v=Te(c.J);if(Ft(v,"SID",c.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),pr(c,v),m=new jn(c,c.j,m),m.M=2,m.A=cr(Te(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}bu(c)}function fs(c){c.g&&(Do(c),c.g.cancel(),c.g=null)}function aa(c){fs(c),c.v&&(f.clearTimeout(c.v),c.v=null),la(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function mi(c){if(!vo(c.h)&&!c.m){c.m=!0;var m=c.Ea;te||w(),Lt||(te(),Lt=!0),x.add(m,c),c.D=0}}function oa(c,m){return li(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ni(_(c.Ea,c,m),Su(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new jn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=vu(this,U,m),v=Te(this.J),Ft(v,"RID",c),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),pr(this,v),B&&(this.R?m="headers="+xi(bn(B))+"&"+m:this.u&&dr(v,this.u,B)),Eo(this.h,U),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(c?Oo(this,c):this.i.length==0||vo(this.h)||Oo(this))};function Oo(c,m){var v;m?v=m.l:v=c.V++;const T=Te(c.J);Ft(T,"SID",c.M),Ft(T,"RID",v),Ft(T,"AID",c.K),pr(c,T),c.u&&c.o&&dr(T,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Eo(c.h,v),si(v,T,m)}function pr(c,m){c.H&&kt(c.H,function(v,T){Ft(m,T,v)}),c.l&&kt({},function(v,T){Ft(m,T,v)})}function vu(c,m,v){v=Math.min(c.i.length,v);const T=c.l?_(c.l.Ka,c.l,c):null;t:{var U=c.i;let Tt=-1;for(;;){const de=["count="+v];Tt==-1?v>0?(Tt=U[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let jt=!0;for(let ae=0;ae<v;ae++){var B=U[ae].g;const wn=U[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,U[ae].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var W=wn instanceof Map?wn:Object.entries(wn);for(const[pi,Gn]of W){let Fn=Gn;g(Gn)&&(Fn=ss(Gn)),de.push(B+pi+"="+encodeURIComponent(Fn))}}catch(pi){throw de.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(wn)}}if(jt){W=de.join("&");break t}}W=void 0}return c=c.i.splice(0,v),m.G=c,W}function Eu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;te||w(),Lt||(te(),Lt=!0),x.add(m,c),c.A=0}}function yr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ni(_(c.Da,c),Su(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ni(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),fs(this),Tu(this))};function Do(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Tu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Te(c.na);Ft(m,"RID","rpc"),Ft(m,"SID",c.M),Ft(m,"AID",c.K),Ft(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ft(m,"TO",c.ia),Ft(m,"TYPE","xmlhttp"),pr(c,m),c.u&&c.o&&dr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=cr(Te(m)),v.u=null,v.R=!0,Wr(v,c)}s.Va=function(){this.C!=null&&(this.C=null,fs(this),yr(this),_e(19))};function la(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Au(c,m){var v=null;if(c.g==m){la(c),Do(c),c.g=null;var T=2}else if(ui(c.h,m))v=m.G,To(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;T=Zr(),xe(T,new ei(T,v)),mi(c)}else Eu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&oa(c,m)||T==2&&yr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Su(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function gi(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),T=c.Ua;const U=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ve(T,"https"),cr(T),U?Bn(T.toString(),v):Co(T.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(m),bu(c),aa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const m=Ao(c.h);(m.length!=0||c.i.length!=0)&&($(c.ja,m),$(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function wu(c,m,v){var T=v instanceof fn?Te(v):new fn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var U=f.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new fn(null);T&&Ve(B,T),m&&(B.g=m),U&&rs(B,U),v&&(B.h=v),T=B}return v=c.G,m=c.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",c.ka),pr(c,T),T}function Ru(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Qt(new hi({ab:v})):new Qt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ds(){}ds.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){ye.call(this),this.g=new hs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Di(this)}b(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){No(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ss(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,tn.Z.N.call(this)};function Iu(c){Pe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(Iu,Pe);function xu(){Tn.call(this),this.status=1}b(xu,Tn);function Di(c){this.g=c}b(Di,Cu),Di.prototype.ra=function(){xe(this.g,"a")},Di.prototype.qa=function(c){xe(this.g,new Iu(c))},Di.prototype.pa=function(c){xe(this.g,new xu)},Di.prototype.oa=function(){xe(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,DE=function(){return new ds},OE=function(){return Zr()},NE=fe,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,qc=lr,po.COMPLETE="complete",xE=po,ou.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Tl=ou,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,IE=Qt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.8.0";function oC(s){ao=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Am("@firebase/firestore");function za(){return Br.logLevel}function it(s,...t){if(Br.logLevel<=xt.DEBUG){const n=t.map(Mm);Br.debug(`Firestore (${ao}): ${s}`,...n)}}function ts(s,...t){if(Br.logLevel<=xt.ERROR){const n=t.map(Mm);Br.error(`Firestore (${ao}): ${s}`,...n)}}function $a(s,...t){if(Br.logLevel<=xt.WARN){const n=t.map(Mm);Br.warn(`Firestore (${ao}): ${s}`,...n)}}function Mm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,ME(s,r,n)}function ME(s,t,n){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function qt(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||ME(t,l,r)}function Et(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ns{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Xe.UNAUTHENTICATED)))}shutdown(){}}class uC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cC{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ys,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ys)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new VE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class hC{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fC{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new hC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const r=u=>{u.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=mC(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function Nt(s,t){return s<t?-1:s>t?1:0}function am(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return Fd(l)===Fd(u)?Nt(l,u):Fd(l)?1:-1}return Nt(s.length,t.length)}const gC=55296,pC=57343;function Fd(s){const t=s.charCodeAt(0);return t>=gC&&t<=pC}function Za(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__name__";class Ti{constructor(t,n,r){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&pt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=Ti.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Nt(t.length,n.length)}static compareSegments(t,n){const r=Ti.isNumericId(t),l=Ti.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(n)):am(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class le extends Ti{construct(t,n,r){return new le(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new le(n)}static emptyPath(){return new le([])}}const yC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ti{construct(t,n,r){return new Fe(t,n,r)}static isValidIdentifier(t){return yC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new Fe([Ev])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(r+=g,l++):(u(),l++)}if(u(),f)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(n)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(le.fromString(t))}static fromName(t){return new ht(le.fromString(t).popFirst(5))}static empty(){return new ht(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(s,t,n){if(!n)throw new ot(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function vC(s,t,n,r){if(t===!0&&r===!0)throw new ot(J.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Tv(s){if(!ht.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function LE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function kl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(s);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(s,t){const n={typeString:s};return t&&(n.value=t),n}function Zl(s,t){if(!LE(s))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ot(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,Sv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Sv);return new ie(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Av)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function EC(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new ie(n+1,0):new ie(n,r));return new Xs(l,ht.empty(),t)}function TC(s){return new Xs(s.readTime,s.key,Ul)}class Xs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(_t.min(),ht.empty(),Ul)}static max(){return new Xs(_t.max(),ht.empty(),Ul)}}function AC(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(s.documentKey,t.documentKey),n!==0?n:Nt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==SC)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):X.reject(n)}static resolve(t){return new X(((n,r)=>{n(t)}))}static reject(t){return new X(((n,r)=>{r(t)}))}static waitFor(t){return new X(((n,r)=>{let l=0,u=0,f=!1;t.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(y=>r(y)))})),f=!0,u===l&&n()}))}static or(t){let n=X.resolve(!1);for(const r of t)n=n.next((l=>l?X.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new X(((r,l)=>{const u=t.length,f=new Array(u);let g=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next((S=>{f[_]=S,++g,g===u&&r(f)}),(S=>l(S)))}}))}static doWhile(t,n){return new X(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function wC(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=-1;function Ah(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function RC(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="";function CC(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=bv(t)),t=IC(s.get(n),t);return bv(t)}function IC(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case kE:n+="";break;default:n+=u}}return n}function bv(s){return s+kE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Fr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function UE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new Ge(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(t){return new Rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class Rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new De(Fe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PE("Invalid base64 string: "+u):u}})(t);return new Ke(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new Ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const xC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const n=xC.exec(s);if(qt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function $s(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="server_timestamp",zE="__type__",BE="__previous_value__",HE="__local_write_time__";function Um(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[zE])==null?void 0:r.stringValue)===jE}function Sh(s){const t=s.mapValue.fields[BE];return Um(t)?Sh(t):t}function Pl(s){const t=Js(s.mapValue.fields[HE].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n,r,l,u,f,g,y,_,S,b){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=b}}const rh="(default)";class jl{constructor(t,n){this.projectId=t,this.database=n||rh}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof jl&&t.projectId===this.projectId&&t.database===this.database}}function OC(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(s.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__type__",DC="__max__",kc={mapValue:{}},GE="__vector__",ah="value";function Zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:VC(s)?9007199254740991:MC(s)?10:11:pt(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const n=Zs(s);if(n!==Zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Pl(s).isEqual(Pl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Js(l.timestampValue),g=Js(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return $s(l.bytesValue).isEqual($s(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return pe(l.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return pe(l.integerValue)===pe(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=pe(l.doubleValue),g=pe(u.doubleValue);return f===g?sh(f)===sh(g):isNaN(f)&&isNaN(g)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(wv(f)!==wv(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!Ci(f[y],g[y])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function zl(s,t){return(s.values||[]).find((n=>Ci(n,t)))!==void 0}function Wa(s,t){if(s===t)return 0;const n=Zs(s),r=Zs(t);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=pe(u.integerValue||u.doubleValue),y=pe(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Cv(s.timestampValue,t.timestampValue);case 4:return Cv(Pl(s),Pl(t));case 5:return am(s.stringValue,t.stringValue);case 6:return(function(u,f){const g=$s(u),y=$s(f);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),y=f.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=Nt(g[_],y[_]);if(S!==0)return S}return Nt(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=Nt(pe(u.latitude),pe(f.latitude));return g!==0?g:Nt(pe(u.longitude),pe(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Iv(s.arrayValue,t.arrayValue);case 10:return(function(u,f){var N,H,$,tt;const g=u.fields||{},y=f.fields||{},_=(N=g[ah])==null?void 0:N.arrayValue,S=(H=y[ah])==null?void 0:H.arrayValue,b=Nt((($=_==null?void 0:_.values)==null?void 0:$.length)||0,((tt=S==null?void 0:S.values)==null?void 0:tt.length)||0);return b!==0?b:Iv(_,S)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===kc.mapValue&&f===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(f===kc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),_=f.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let b=0;b<y.length&&b<S.length;++b){const N=am(y[b],S[b]);if(N!==0)return N;const H=Wa(g[y[b]],_[S[b]]);if(H!==0)return H}return Nt(y.length,S.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:n})}}function Cv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const n=Js(s),r=Js(t),l=Nt(n.seconds,r.seconds);return l!==0?l:Nt(n.nanos,r.nanos)}function Iv(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=Wa(n[l],r[l]);if(u)return u}return Nt(n.length,r.length)}function to(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return $s(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ht.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=om(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${om(n.fields[f])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function Gc(s){switch(Zs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sh(s);return t?16+Gc(t):16;case 5:return 2*s.stringValue.length;case 6:return $s(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Gc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Fr(r.fields,((u,f)=>{l+=u.length+Gc(f)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function lm(s){return!!s&&"integerValue"in s}function Pm(s){return!!s&&"arrayValue"in s}function xv(s){return!!s&&"nullValue"in s}function Nv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fc(s){return!!s&&"mapValue"in s}function MC(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[qE])==null?void 0:r.stringValue)===GE}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Fr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Cl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cl(s.arrayValue.values[n]);return t}return{...s}}function VC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===DC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Fc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(n)}setAll(t){let n=Fe.emptyPath(),r={},l=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=g.popLast()}f?r[g.lastSegment()]=Cl(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){Fr(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new Ln(Cl(this.value))}}function FE(s){const t=[];return Fr(s.fields,((n,r)=>{const l=new Fe([n]);if(Fc(r)){const u=FE(r.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,r,l,u,f,g){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),Ln.empty(),0)}static newFoundDocument(t,n,r,l){return new Je(t,1,n,_t.min(),r,l,0)}static newNoDocument(t,n){return new Je(t,2,n,_t.min(),_t.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,_t.min(),_t.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n){this.position=t,this.inclusive=n}}function Ov(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],f=s.position[l];if(u.field.isKeyField()?r=ht.comparator(ht.fromName(f.referenceValue),n.key):r=Wa(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ci(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n="asc"){this.field=t,this.dir=n}}function LC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{}class Oe extends KE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new UC(t,n,r):n==="array-contains"?new zC(t,r):n==="in"?new BC(t,r):n==="not-in"?new HC(t,r):n==="array-contains-any"?new qC(t,r):new Oe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new PC(t,r):new jC(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wa(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends KE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ii(t,n)}matches(t){return YE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YE(s){return s.op==="and"}function QE(s){return kC(s)&&YE(s)}function kC(s){for(const t of s.filters)if(t instanceof Ii)return!1;return!0}function um(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+to(s.value);if(QE(s))return s.filters.map((t=>um(t))).join(",");{const t=s.filters.map((n=>um(n))).join(",");return`${s.op}(${t})`}}function XE(s,t){return s instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&Ci(r.value,l.value)})(s,t):s instanceof Ii?(function(r,l){return l instanceof Ii&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,g)=>u&&XE(f,l.filters[g])),!0):!1})(s,t):void pt(19439)}function JE(s){return s instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`})(s):s instanceof Ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(JE).join(" ,")+"}"})(s):"Filter"}class UC extends Oe{constructor(t,n,r){super(t,n,r),this.key=ht.fromName(r.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class PC extends Oe{constructor(t,n){super(t,"in",n),this.keys=$E("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class jC extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=$E("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function $E(s,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((r=>ht.fromName(r.referenceValue)))}class zC extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Pm(n)&&zl(n.arrayValue,this.value)}}class BC extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class HC extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class qC extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>zl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,n=null,r=[],l=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function Mv(s,t=null,n=[],r=[],l=null,u=null,f=null){return new GC(s,t,n,r,l,u,f)}function jm(s){const t=Et(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>um(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ah(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>to(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>to(r))).join(",")),t.Te=n}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!LC(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!XE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Dv(s.startAt,t.startAt)&&Dv(s.endAt,t.endAt)}function cm(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n=null,r=[],l=[],u=null,f="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function FC(s,t,n,r,l,u,f,g){return new bh(s,t,n,r,l,u,f,g)}function Bm(s){return new bh(s)}function Vv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function KC(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function YC(s){return s.collectionGroup!==null}function Il(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new De(Fe.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lh(u,r))})),n.has(Fe.keyField().canonicalString())||t.Ie.push(new lh(Fe.keyField(),r))}return t.Ie}function bi(s){const t=Et(s);return t.Ee||(t.Ee=QC(t,Il(s))),t.Ee}function QC(s,t){if(s.limitType==="F")return Mv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new lh(l.field,u)}));const n=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return Mv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function hm(s,t,n){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function wh(s,t){return zm(bi(s),bi(t))&&s.limitType===t.limitType}function ZE(s){return`${jm(bi(s))}|lt:${s.limitType}`}function Ba(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>JE(l))).join(", ")}]`),Ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>to(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>to(l))).join(",")),`Target(${r})`})(bi(s))}; limitType=${s.limitType})`}function Rh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ht.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Il(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(f,g,y){const _=Ov(f,g,y);return f.inclusive?_<=0:_<0})(r.startAt,Il(r),l)||r.endAt&&!(function(f,g,y){const _=Ov(f,g,y);return f.inclusive?_>=0:_>0})(r.endAt,Il(r),l))})(s,t)}function XC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function WE(s){return(t,n)=>{let r=!1;for(const l of Il(s)){const u=JC(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function JC(s,t,n){const r=s.field.isKeyField()?ht.comparator(t.key,n.key):(function(u,f,g){const y=f.data.field(u),_=g.data.field(u);return y!==null&&_!==null?Wa(y,_):pt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new ue(ht.comparator);function es(){return $C}const tT=new ue(ht.comparator);function Al(...s){let t=tT;for(const n of s)t=t.insert(n.key,n);return t}function eT(s){let t=tT;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Lr(){return xl()}function nT(){return xl()}function xl(){return new Kr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const ZC=new ue(ht.comparator),WC=new De(ht.comparator);function Ot(...s){let t=WC;for(const n of s)t=t.add(n);return t}const t2=new De(Nt);function e2(){return t2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function iT(s){return{integerValue:""+s}}function n2(s,t){return RC(t)?iT(t):Hm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function i2(s,t,n){return s instanceof uh?(function(l,u){const f={fields:{[zE]:{stringValue:jE},[HE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Um(u)&&(u=Sh(u)),u&&(f.fields[BE]=u),{mapValue:f}})(n,t):s instanceof Bl?rT(s,t):s instanceof Hl?aT(s,t):(function(l,u){const f=sT(l,u),g=Lv(f)+Lv(l.Ae);return lm(f)&&lm(l.Ae)?iT(g):Hm(l.serializer,g)})(s,t)}function s2(s,t,n){return s instanceof Bl?rT(s,t):s instanceof Hl?aT(s,t):n}function sT(s,t){return s instanceof ch?(function(r){return lm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class uh extends Ch{}class Bl extends Ch{constructor(t){super(),this.elements=t}}function rT(s,t){const n=oT(t);for(const r of s.elements)n.some((l=>Ci(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Hl extends Ch{constructor(t){super(),this.elements=t}}function aT(s,t){let n=oT(t);for(const r of s.elements)n=n.filter((l=>!Ci(l,r)));return{arrayValue:{values:n}}}class ch extends Ch{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Lv(s){return pe(s.integerValue||s.doubleValue)}function oT(s){return Pm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function r2(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Bl&&l instanceof Bl||r instanceof Hl&&l instanceof Hl?Za(r.elements,l.elements,Ci):r instanceof ch&&l instanceof ch?Ci(r.Ae,l.Ae):r instanceof uh&&l instanceof uh})(s.transform,t.transform)}class a2{constructor(t,n){this.version=t,this.transformResults=n}}class $i{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ih{}function lT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new cT(s.key,$i.none()):new Wl(s.key,s.data,$i.none());{const n=s.data,r=Ln.empty();let l=new De(Fe.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Yr(s.key,r,new Jn(l.toArray()),$i.none())}}function o2(s,t,n){s instanceof Wl?(function(l,u,f){const g=l.value.clone(),y=Uv(l.fieldTransforms,u,f.transformResults);g.setAll(y),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):s instanceof Yr?(function(l,u,f){if(!Kc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=Uv(l.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(uT(l)),y.setAll(g),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Nl(s,t,n,r){return s instanceof Wl?(function(u,f,g,y){if(!Kc(u.precondition,f))return g;const _=u.value.clone(),S=Pv(u.fieldTransforms,y,f);return _.setAll(S),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(s,t,n,r):s instanceof Yr?(function(u,f,g,y){if(!Kc(u.precondition,f))return g;const _=Pv(u.fieldTransforms,y,f),S=f.data;return S.setAll(uT(u)),S.setAll(_),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,t,n,r):(function(u,f,g){return Kc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,t,n)}function l2(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=sT(r.transform,l||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,u))}return n||null}function kv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,((u,f)=>r2(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Wl extends Ih{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Yr extends Ih{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uT(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function Uv(s,t,n){const r=new Map;qt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,g=t.data.field(u.field);r.set(u.field,s2(f,g,n[l]))}return r}function Pv(s,t,n){const r=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);r.set(l.field,i2(u,f,t))}return r}class cT extends Ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u2 extends Ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&o2(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Nl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Nl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=nT();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const y=lT(f,g);y!==null&&r.set(l.key,y),f.isValidDocument()||f.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((n,r)=>kv(n,r)))&&Za(this.baseMutations,t.baseMutations,((n,r)=>kv(n,r)))}}class qm{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return ZC})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new qm(t,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Vt;function d2(s){switch(s){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function hT(s){if(s===void 0)return ts("GRPC error has no .code"),J.UNKNOWN;switch(s){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:s})}}(Vt=Re||(Re={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Ks([4294967295,4294967295],0);function jv(s){const t=m2().encode(s),n=new CE;return n.update(t),new Uint8Array(n.digest())}function zv(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ks([n,r],0),new Ks([l,u],0)]}class Gm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ks.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Ks.fromNumber(r)));return l.compare(g2)===1&&(l=new Ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=jv(t),[r,l]=zv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Gm(u,l,n);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=jv(t),[r,l]=zv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.be(f)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xh(_t.min(),l,new ue(Nt),es(),Ot())}}class tu{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new tu(r,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n,r,l){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=l}}class fT{constructor(t,n){this.targetId=t,this.Ce=n}}class dT{constructor(t,n,r=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class Bv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),r=Ot();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:pt(38017,{changeType:u})}})),new tu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=Hv()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class p2{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.He=Uc(),this.Je=Uc(),this.Ze=new ue(Nt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(cm(u))if(r===0){const f=new ht(u.path);this.et(n,f,Je.newNoDocument(f,_t.min()))}else qt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(t),y=g?this.ct(g,t,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=$s(r).toUint8Array()}catch(y){if(y instanceof PE)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Gm(f,l,u)}catch(y){return $a(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&cm(g.target)){const y=new ht(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Je.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Ot();this.Je.forEach(((u,f)=>{let g=!0;f.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new xh(t,n,this.Ze,this.je,r);return this.je=es(),this.He=Uc(),this.Je=Uc(),this.Ze=new ue(Nt),l}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new Bv,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new De(Nt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new De(Nt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Bv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Uc(){return new ue(ht.comparator)}function Hv(){return new ue(ht.comparator)}const y2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v2={and:"AND",or:"OR"};class E2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fm(s,t){return s.useProto3Json||Ah(t)?t:{value:t}}function hh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function T2(s,t){return hh(s,t.toTimestamp())}function wi(s){return qt(!!s,49232),_t.fromTimestamp((function(n){const r=Js(n);return new ie(r.seconds,r.nanos)})(s))}function Fm(s,t){return dm(s,t).canonicalString()}function dm(s,t){const n=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function gT(s){const t=le.fromString(s);return qt(ET(t),10190,{key:t.toString()}),t}function mm(s,t){return Fm(s.databaseId,t.path)}function Kd(s,t){const n=gT(t);if(n.get(1)!==s.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ht(yT(n))}function pT(s,t){return Fm(s.databaseId,t)}function A2(s){const t=gT(s);return t.length===4?le.emptyPath():yT(t)}function gm(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function yT(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function qv(s,t,n){return{name:mm(s,t),fields:n.value.mapValue.fields}}function S2(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(_,S){return _.useProto3Json?(qt(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(qt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(_){const S=_.code===void 0?J.UNKNOWN:hT(_.code);return new ot(S,_.message||"")})(f);n=new dT(r,l,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Kd(s,r.document.name),u=wi(r.document.updateTime),f=r.document.createTime?wi(r.document.createTime):_t.min(),g=new Ln({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,u,f,g),_=r.targetIds||[],S=r.removedTargetIds||[];n=new Yc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Kd(s,r.document),u=r.readTime?wi(r.readTime):_t.min(),f=Je.newNoDocument(l,u),g=r.removedTargetIds||[];n=new Yc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Kd(s,r.document),u=r.removedTargetIds||[];n=new Yc([],u,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new f2(l,u),g=r.targetId;n=new fT(g,f)}}return n}function b2(s,t){let n;if(t instanceof Wl)n={update:qv(s,t.key,t.value)};else if(t instanceof cT)n={delete:mm(s,t.key)};else if(t instanceof Yr)n={update:qv(s,t.key,t.data),updateMask:M2(t.fieldMask)};else{if(!(t instanceof u2))return pt(16599,{dt:t.type});n={verify:mm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Bl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Hl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ch)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:T2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pt(27497)})(s,t.precondition)),n}function w2(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((n=>(function(l,u){let f=l.updateTime?wi(l.updateTime):wi(u);return f.isEqual(_t.min())&&(f=wi(u)),new a2(f,l.transformResults||[])})(n,t)))):[]}function R2(s,t){return{documents:[pT(s,t.path)]}}function C2(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pT(s,l);const u=(function(_){if(_.length!==0)return vT(Ii.create(_,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((S=>(function(N){return{field:Ha(N.field),direction:N2(N.dir)}})(S)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=fm(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function I2(s){let t=A2(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){qt(r===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let u=[];n.where&&(u=(function(b){const N=_T(b);return N instanceof Ii&&QE(N)?N.getFilters():[N]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((N=>(function($){return new lh(qa($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(b){let N;return N=typeof b=="object"?b.value:b,Ah(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(b){const N=!!b.before,H=b.values||[];return new oh(H,N)})(n.startAt));let _=null;return n.endAt&&(_=(function(b){const N=!b.before,H=b.values||[];return new oh(H,N)})(n.endAt)),FC(t,l,f,u,g,"F",y,_)}function x2(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _T(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(n.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(n.unaryFilter.field);return Oe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Oe.create(qa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ii.create(n.compositeFilter.filters.map((r=>_T(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(s):pt(30097,{filter:s})}function N2(s){return y2[s]}function O2(s){return _2[s]}function D2(s){return v2[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function qa(s){return Fe.fromServerFormat(s.fieldPath)}function vT(s){return s instanceof Oe?(function(n){if(n.op==="=="){if(Nv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(xv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(xv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:O2(n.op),value:n.value}}})(s):s instanceof Ii?(function(n){const r=n.getFilters().map((l=>vT(l)));return r.length===1?r[0]:{compositeFilter:{op:D2(n.op),filters:r}}})(s):pt(54877,{filter:s})}function M2(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function ET(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function TT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n,r,l,u=_t.min(),f=_t.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.yt=t}}function L2(s){const t=I2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Sn=new U2}addToCollectionParentIndex(t,n){return this.Sn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(Xs.min())}updateCollectionGroup(t,n,r){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class U2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new De(le.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new De(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(AT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new eo(0)}static ar(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LruGarbageCollector",P2=1048576;function Kv([s,t],[n,r]){const l=Nt(s,n);return l===0?Nt(t,r):l}class j2{constructor(t){this.Pr=t,this.buffer=new De(Kv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Kv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(Fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?it(Fv,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Ar(3e5)}))}}class B2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return X.resolve(Th.ce);const r=new j2(n);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Gv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,l,u,f,g,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,g=Date.now(),this.removeTargets(t,r,n)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),za()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function H2(s,t){return new B2(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.changes=new Kr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Nl(r.mutation,l,Jn.empty(),ie.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ot()){const l=Lr();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let f=Al();return u.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Lr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ot())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,r,l){let u=es();const f=xl(),g=(function(){return xl()})();return n.forEach(((y,_)=>{const S=r.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Yr)?u=u.insert(_.key,_):S!==void 0?(f.set(_.key,S.mutation.getFieldMask()),Nl(S.mutation,_,S.mutation.getFieldMask(),ie.now())):f.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((_,S)=>f.set(_,S))),n.forEach(((_,S)=>g.set(_,new G2(S,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,n){const r=xl();let l=new ue(((f,g)=>f-g)),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let S=r.get(y)||Jn.empty();S=g.applyToLocalView(_,S),r.set(y,S);const b=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,b)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,b=nT();S.forEach((N=>{if(!u.has(N)){const H=lT(n.get(N),r.get(N));H!==null&&b.set(N,H),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(t,_,b))}return X.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return KC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):YC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):X.resolve(Lr());let g=Ul,y=u;return f.next((_=>X.forEach(_,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((N=>{y=y.insert(S,N)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,y,_,Ot()))).next((S=>({batchId:g,changes:eT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next((r=>{let l=Al();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let f=Al();return this.indexManager.getCollectionParents(t,u).next((g=>X.forEach(g,(y=>{const _=(function(b,N){return new bh(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((S=>{S.forEach(((b,N)=>{f=f.insert(b,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((f=>{u.forEach(((y,_)=>{const S=_.getKey();f.get(S)===null&&(f=f.insert(S,Je.newInvalidDocument(S)))}));let g=Al();return f.forEach(((y,_)=>{const S=u.get(y);S!==void 0&&Nl(S.mutation,_,Jn.empty(),ie.now()),Rh(n,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return X.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:L2(l.bundledQuery),readTime:wi(l.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.overlays=new ue(ht.comparator),this.Lr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Lr();return X.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.bt(t,n,u)})),X.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(t,n,r){const l=Lr(),u=n.length+1,f=new ht(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new ue(((_,S)=>_-S));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let S=u.get(_.largestBatchId);S===null&&(S=Lr(),u=u.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Lr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return X.resolve(g)}bt(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new h2(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ot(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.kr=new De(ke.Kr),this.qr=new De(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new ke(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new ke(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new ht(new le([])),r=new ke(n,t),l=new ke(n,t+1),u=[];return this.qr.forEachInRange([r,l],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ht(new le([])),r=new ke(n,t),l=new ke(n,t+1);let u=Ot();return this.qr.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ht.comparator(t.key,n.key)||Nt(t.Hr,n.Hr)}static Ur(t,n){return Nt(t.Hr,n.Hr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new De(ke.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new c2(u,n,r,l);this.mutationQueue.push(f);for(const g of l)this.Jr=this.Jr.add(new ke(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(f)}lookupMutationBatch(t,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?km:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ke(n,0),l=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(f=>{const g=this.Zr(f.Hr);u.push(g)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new De(Nt);return n.forEach((l=>{const u=new ke(l,0),f=new ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(g=>{r=r.add(g.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;ht.isDocumentKey(u)||(u=u.child(""));const f=new ke(new ht(u),0);let g=new De(Nt);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Hr)),!0)}),f),X.resolve(this.Yr(g))}Yr(t){const n=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){qt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(n.mutations,(l=>{const u=new ke(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new ke(n,0),l=this.Jr.firstAfterOrEqual(r);return X.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.ti=t,this.docs=(function(){return new ue(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=es();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=es();const f=n.path,g=new ht(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||AC(TC(S),r)<=0||(l.has(S.key)||Rh(n,S))&&(u=u.insert(S.key,S.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(t,n,r,l){pt(9500)}ni(t,n){return X.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new $2(this)}getSize(t){return X.resolve(this.size)}}class $2 extends q2{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),X.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.persistence=t,this.ri=new Kr((n=>jm(n)),zm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new Km,this.targetCount=0,this.oi=eo._r()}forEachTarget(t,n){return this.ri.forEach(((r,l)=>n(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),X.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new eo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.lr(n),X.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(u).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return X.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),X.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),X.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return X.resolve(r)}containsKey(t,n){return X.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new Q2,this.referenceDelegate=t(this),this.li=new Z2(this),this.indexManager=new k2,this.remoteDocumentCache=(function(l){return new J2(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new V2(n),this.Pi=new K2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Y2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new X2(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){it("MemoryPersistence","Starting transaction:",t);const l=new W2(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class W2 extends bC{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Km,this.Ai=null}static Vi(t){return new Ym(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),X.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const l=ht.fromPath(r);return this.mi(t,l).next((u=>{u||n.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class fh{constructor(t,n){this.persistence=t,this.fi=new Kr((r=>CC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=H2(this,n)}static Vi(t,n){return new fh(t,n)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return X.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((u=>u?X.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(f=>this.wr(t,f,n).next((g=>{g||(r++,u.removeEntry(f,_t.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Gc(t.data.value)),n}wr(t,n,r){return X.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=l}static Es(t,n){let r=Ot(),l=Ot();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Qm(t,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return R1()?8:wC(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new tI;return this.ys(t,n,f).next((g=>{if(u.result=g,this.As)return this.ws(t,n,f,g.size)}))})).next((()=>u.result))}ws(t,n,r,l){return r.documentReadCount<this.Vs?(za()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(za()<=xt.DEBUG&&it("QueryEngine","Query:",Ba(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(za()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(n))):X.resolve())}gs(t,n){if(Vv(n))return X.resolve(null);let r=bi(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=hm(n,null,"F"),r=bi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Ot(...u);return this.fs.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.bs(n,g);return this.Ss(n,_,f,y.readTime)?this.gs(t,hm(n,null,"F")):this.Ds(t,_,n,y)}))))})))))}ps(t,n,r,l){return Vv(n)||l.isEqual(_t.min())?X.resolve(null):this.fs.getDocuments(t,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,l)?X.resolve(null):(za()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(n)),this.Ds(t,f,n,EC(l,Ul)).next((g=>g)))}))}bs(t,n){let r=new De(WE(t));return n.forEach(((l,u)=>{Rh(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,r){return za()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.fs.getDocumentsMatchingQuery(t,n,Xs.min(),r)}Ds(t,n,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="LocalStore",nI=3e8;class iI{constructor(t,n,r,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new ue(Nt),this.Fs=new Kr((u=>jm(u)),zm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new F2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function sI(s,t,n,r){return new iI(s,t,n,r)}async function bT(s,t){const n=Et(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let y=Ot();for(const _ of l){f.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of u){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return n.localDocuments.getDocuments(r,y).next((_=>({Ns:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function rI(s,t){const n=Et(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,S){const b=_.batch,N=b.keys();let H=X.resolve();return N.forEach(($=>{H=H.next((()=>S.getEntry(y,$))).next((tt=>{const Z=_.docVersions.get($);qt(Z!==null,48541),tt.version.compareTo(Z)<0&&(b.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),S.addEntry(tt)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function wT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function aI(s,t){const n=Et(s),r=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];t.targetChanges.forEach(((S,b)=>{const N=l.get(b);if(!N)return;g.push(n.li.removeMatchingKeys(u,S.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,S.addedDocuments,b))));let H=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,r)),l=l.insert(b,H),(function(tt,Z,lt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=nI?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(N,H,S)&&g.push(n.li.updateTargetData(u,H))}));let y=es(),_=Ot();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,S))})),g.push(oI(u,f,t.documentUpdates).next((S=>{y=S.Bs,_=S.Ls}))),!r.isEqual(_t.min())){const S=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(S)}return X.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(n.vs=l,u)))}function oI(s,t,n){let r=Ot(),l=Ot();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=es();return n.forEach(((g,y)=>{const _=u.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),f=f.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),f=f.insert(g,y)):it(Xm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{Bs:f,Ls:l}}))}function lI(s,t){const n=Et(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=km),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function uI(s,t){const n=Et(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,t).next((u=>u?(l=u,X.resolve(l)):n.li.allocateTargetId(r).next((f=>(l=new Hs(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function pm(s,t,n){const r=Et(s),l=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!lo(f))throw f;it(Xm,`Failed to update sequence numbers for target ${t}: ${f}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function Yv(s,t,n){const r=Et(s);let l=_t.min(),u=Ot();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,_,S){const b=Et(y),N=b.Fs.get(S);return N!==void 0?X.resolve(b.vs.get(N)):b.li.getTargetData(_,S)})(r,f,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,t,n?l:_t.min(),n?u:Ot()))).next((g=>(cI(r,XC(t),g),{documents:g,ks:u})))))}function cI(s,t,n){let r=s.Ms.get(t)||_t.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(t,r)}class Qv{constructor(){this.activeTargetIds=e2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hI{constructor(){this.vo=new Qv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Qv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="ConnectivityMonitor";class Jv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(Xv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(Xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function ym(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,n,r,l,u){const f=ym(),g=this.Qo(t,n.toUriEncodedString());it(Yd,`Sending RPC '${t}' ${f}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,u);const{host:_}=new URL(g),S=io(_);return this.zo(t,g,y,r,S).then((b=>(it(Yd,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw $a(Yd,`RPC '${t}' ${f} failed with error: `,b,"url: ",g,"request:",r),b}))}jo(t,n,r,l,u,f){return this.Wo(t,n,r,l,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const r=dI[t];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection",yl=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Qa extends mI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Qa.c_){const t=OE();yl(t,NE.STAT_EVENT,(n=>{n.stat===rm.PROXY?it(Qe,"STAT_EVENT: detected buffering proxy"):n.stat===rm.NOPROXY&&it(Qe,"STAT_EVENT: detected no buffering proxy")})),Qa.c_=!0}}zo(t,n,r,l,u){const f=ym();return new Promise(((g,y)=>{const _=new IE;_.setWithCredentials(!0),_.listenOnce(xE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const b=_.getResponseJson();it(Qe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),g(b);break;case qc.TIMEOUT:it(Qe,`RPC '${t}' ${f} timed out`),y(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const N=_.getStatus();if(it(Qe,`RPC '${t}' ${f} failed with status:`,N,"response text:",_.getResponseText()),N>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H==null?void 0:H.error;if($&&$.status&&$.message){const tt=(function(lt){const ft=lt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ft)>=0?ft:J.UNKNOWN})($.status);y(new ot(tt,$.message))}else y(new ot(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ot(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Qe,`RPC '${t}' ${f} completed.`)}}));const S=JSON.stringify(l);it(Qe,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",S,r,15)}))}T_(t,n,r){const l=ym(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const _=u.join("");it(Qe,`Creating RPC '${t}' stream ${l}: ${_}`,g);const S=f.createWebChannel(_,g);this.I_(S);let b=!1,N=!1;const H=new gI({Ho:$=>{N?it(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(b||(it(Qe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),it(Qe,`RPC '${t}' stream ${l} sending:`,$),S.send($))},Jo:()=>S.close()});return yl(S,Tl.EventType.OPEN,(()=>{N||(it(Qe,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),yl(S,Tl.EventType.CLOSE,(()=>{N||(N=!0,it(Qe,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(S))})),yl(S,Tl.EventType.ERROR,($=>{N||(N=!0,$a(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),H.o_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),yl(S,Tl.EventType.MESSAGE,($=>{var tt;if(!N){const Z=$.data[0];qt(!!Z,16349);const lt=Z,ft=(lt==null?void 0:lt.error)||((tt=lt[0])==null?void 0:tt.error);if(ft){it(Qe,`RPC '${t}' stream ${l} received error:`,ft);const mt=ft.status;let Ht=(function(x){const w=Re[x];if(w!==void 0)return hT(w)})(mt),te=ft.message;Ht===void 0&&(Ht=J.INTERNAL,te="Unknown error status: "+mt+" with message "+ft.message),N=!0,H.o_(new ot(Ht,te)),S.close()}else it(Qe,`RPC '${t}' stream ${l} received:`,Z),H.__(Z)}})),Qa.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(s){return new Qa(s)}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(s){return new E2(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa.c_=!1;class RT{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="PersistentStream";class CT{constructor(t,n,r,l,u,f,g,y){this.Ci=t,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new ot(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it($v,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(it($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yI extends CT{constructor(t,n,r,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=S2(this.serializer,t),r=(function(u){if(!("targetChange"in u))return _t.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?_t.min():f.readTime?wi(f.readTime):_t.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=gm(this.serializer),n.addTarget=(function(u,f){let g;const y=f.target;if(g=cm(y)?{documents:R2(u,y)}:{query:C2(u,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=mT(u,f.resumeToken);const _=fm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(_t.min())>0){g.readTime=hh(u,f.snapshotVersion.toTimestamp());const _=fm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=x2(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=gm(this.serializer),n.removeTarget=t,this.K_(n)}}class _I extends CT{constructor(t,n,r,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=w2(t.writeResults,t.commitTime),r=wi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=gm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>b2(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{}class EI extends vI{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,dm(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(J.UNKNOWN,u.toString())}))}jo(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(t,dm(n,r),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function TI(s,t,n,r){return new EI(s,t,n,r)}class AI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):it("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="RemoteStore";class SI{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{Qr(this)&&(it(Hr,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await eu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Va=new AI(r,l)}}async function Oh(s){if(Qr(s))for(const t of s.Ra)await t(!0)}async function eu(s){for(const t of s.Ra)await t(!1)}function IT(s,t){const n=Et(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Wm(n)?Zm(n):uo(n).O_()&&$m(n,t))}function Jm(s,t){const n=Et(s),r=uo(n);n.Ia.delete(t),r.O_()&&xT(n,t),n.Ia.size===0&&(r.O_()?r.L_():Qr(n)&&n.Va.set("Unknown"))}function $m(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uo(s).Z_(t)}function xT(s,t){s.da.$e(t),uo(s).X_(t)}function Zm(s){s.da=new p2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),uo(s).start(),s.Va.ua()}function Wm(s){return Qr(s)&&!uo(s).x_()&&s.Ia.size>0}function Qr(s){return Et(s).Ea.size===0}function NT(s){s.da=void 0}async function bI(s){s.Va.set("Online")}async function wI(s){s.Ia.forEach(((t,n)=>{$m(s,t)}))}async function RI(s,t){NT(s),Wm(s)?(s.Va.ha(t),Zm(s)):s.Va.set("Unknown")}async function CI(s,t,n){if(s.Va.set("Online"),t instanceof dT&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(r){it(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dh(s,r)}else if(t instanceof Yc?s.da.Xe(t):t instanceof fT?s.da.st(t):s.da.tt(t),!n.isEqual(_t.min()))try{const r=await wT(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const g=u.da.Tt(f);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=u.Ia.get(_);S&&u.Ia.set(_,S.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,_)=>{const S=u.Ia.get(y);if(!S)return;u.Ia.set(y,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),xT(u,y);const b=new Hs(S.target,y,_,S.sequenceNumber);$m(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){it(Hr,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,t,n){if(!lo(t))throw t;s.Ea.add(1),await eu(s),s.Va.set("Offline"),n||(n=()=>wT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Hr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Oh(s)}))}function OT(s,t){return t().catch((n=>dh(s,n,t)))}async function Dh(s){const t=Et(s),n=Ws(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:km;for(;II(t);)try{const l=await lI(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,xI(t,l)}catch(l){await dh(t,l)}DT(t)&&MT(t)}function II(s){return Qr(s)&&s.Ta.length<10}function xI(s,t){s.Ta.push(t);const n=Ws(s);n.O_()&&n.Y_&&n.ea(t.mutations)}function DT(s){return Qr(s)&&!Ws(s).x_()&&s.Ta.length>0}function MT(s){Ws(s).start()}async function NI(s){Ws(s).ra()}async function OI(s){const t=Ws(s);for(const n of s.Ta)t.ea(n.mutations)}async function DI(s,t,n){const r=s.Ta.shift(),l=qm.from(r,t,n);await OT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Dh(s)}async function MI(s,t){t&&Ws(s).Y_&&await(async function(r,l){if((function(f){return d2(f)&&f!==J.ABORTED})(l.code)){const u=r.Ta.shift();Ws(r).B_(),await OT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Dh(r)}})(s,t),DT(s)&&MT(s)}async function Zv(s,t){const n=Et(s);n.asyncQueue.verifyOperationInProgress(),it(Hr,"RemoteStore received new credentials");const r=Qr(n);n.Ea.add(3),await eu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Oh(n)}async function VI(s,t){const n=Et(s);t?(n.Ea.delete(2),await Oh(n)):t||(n.Ea.add(2),await eu(n),n.Va.set("Unknown"))}function uo(s){return s.ma||(s.ma=(function(n,r,l){const u=Et(n);return u.sa(),new yI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:bI.bind(null,s),Yo:wI.bind(null,s),t_:RI.bind(null,s),J_:CI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Wm(s)?Zm(s):s.Va.set("Unknown")):(await s.ma.stop(),NT(s))}))),s.ma}function Ws(s){return s.fa||(s.fa=(function(n,r,l){const u=Et(n);return u.sa(),new _I(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:NI.bind(null,s),t_:MI.bind(null,s),ta:OI.bind(null,s),na:DI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Dh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Hr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const f=Date.now()+r,g=new tg(t,n,f,l,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(s,t){if(ts("AsyncQueue",`${t}: ${s}`),lo(s))return new ot(J.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=Al(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Xa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.ga=new ue(ht.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class no{constructor(t,n,r,l,u,f,g,y,_){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,r,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new no(t,n,Xa.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class kI{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Et(n),u=l.queries;l.queries=t0(),u.forEach(((f,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function t0(){return new Kr((s=>ZE(s)),wh)}async function UI(s,t){const n=Et(s);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(r=2):(u=new LI,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=eg(f,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ng(n)}async function PI(s,t){const n=Et(s),r=t.query;let l=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jI(s,t){const n=Et(s);let r=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.ba)g.Fa(l)&&(r=!0);f.wa=l}}r&&ng(n)}function zI(s,t,n){const r=Et(s),l=r.queries.get(t);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(t)}function ng(s){s.Ca.forEach((t=>{t.next()}))}var _m,e0;(e0=_m||(_m={})).Ma="default",e0.Cache="cache";class BI{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new no(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t){this.key=t}}class LT{constructor(t){this.key=t}}class HI{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.eu=WE(t),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new Wv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const N=l.get(S),H=Rh(this.query,b)?b:null,$=!!N&&this.mutatedKeys.has(N.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;N&&H?N.data.isEqual(H.data)?$!==tt&&(r.track({type:3,doc:H}),Z=!0):this.su(N,H)||(r.track({type:2,doc:H}),Z=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(g=!0)):!N&&H?(r.track({type:0,doc:H}),Z=!0):N&&!H&&(r.track({type:1,doc:N}),Z=!0,(y||_)&&(g=!0)),Z&&(H?(f=f.add(H),u=tt?u.add(S):u.delete(S)):(f=f.delete(S),u=u.delete(S)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{tu:f,iu:r,Ss:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((S,b)=>(function(H,$){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:Z})}};return tt(H)-tt($)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,f.length!==0||_?{snapshot:new no(this.query,t.tu,u,f,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new LT(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new VT(r))})),n}cu(t){this.Za=t.ks,this.Ya=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ig="SyncEngine";class qI{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class GI{constructor(t){this.key=t,this.hu=!1}}class FI{constructor(t,n,r,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Kr((g=>ZE(g)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(ht.comparator),this.Au=new Map,this.Vu=new Km,this.du={},this.mu=new Map,this.fu=eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KI(s,t,n=!0){const r=BT(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await kT(r,t,n,!0),l}async function YI(s,t){const n=BT(s);await kT(n,t,!0,!1)}async function kT(s,t,n,r){const l=await uI(s.localStore,bi(t)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await QI(s,t,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&IT(s.remoteStore,l),g}async function QI(s,t,n,r,l){s.pu=(b,N,H)=>(async function(tt,Z,lt,ft){let mt=Z.view.ru(lt);mt.Ss&&(mt=await Yv(tt.localStore,Z.query,!1).then((({documents:x})=>Z.view.ru(x,mt))));const Ht=ft&&ft.targetChanges.get(Z.targetId),te=ft&&ft.targetMismatches.get(Z.targetId)!=null,Lt=Z.view.applyChanges(mt,tt.isPrimaryClient,Ht,te);return i0(tt,Z.targetId,Lt.au),Lt.snapshot})(s,b,N,H);const u=await Yv(s.localStore,t,!0),f=new HI(t,u.ks),g=f.ru(u.documents),y=tu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),_=f.applyChanges(g,s.isPrimaryClient,y);i0(s,n,_.au);const S=new qI(t,n,f);return s.Tu.set(t,S),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),_.snapshot}async function XI(s,t,n){const r=Et(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!wh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Jm(r.remoteStore,l.targetId),vm(r,l.targetId)})).catch(oo)):(vm(r,l.targetId),await pm(r.localStore,l.targetId,!0))}async function JI(s,t){const n=Et(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jm(n.remoteStore,r.targetId))}async function $I(s,t,n){const r=sx(s);try{const l=await(function(f,g){const y=Et(f),_=ie.now(),S=g.reduce(((H,$)=>H.add($.key)),Ot());let b,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let $=es(),tt=Ot();return y.xs.getEntries(H,S).next((Z=>{$=Z,$.forEach(((lt,ft)=>{ft.isValidDocument()||(tt=tt.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,$))).next((Z=>{b=Z;const lt=[];for(const ft of g){const mt=l2(ft,b.get(ft.key).overlayedDocument);mt!=null&&lt.push(new Yr(ft.key,mt,FE(mt.value.mapValue),$i.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,lt,g)})).next((Z=>{N=Z;const lt=Z.applyToLocalDocumentSet(b,tt);return y.documentOverlayCache.saveOverlays(H,Z.batchId,lt)}))})).then((()=>({batchId:N.batchId,changes:eT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(f,g,y){let _=f.du[f.currentUser.toKey()];_||(_=new ue(Nt)),_=_.insert(g,y),f.du[f.currentUser.toKey()]=_})(r,l.batchId,n),await nu(r,l.changes),await Dh(r.remoteStore)}catch(l){const u=eg(l,"Failed to persist write");n.reject(u)}}async function UT(s,t){const n=Et(s);try{const r=await aI(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?qt(f.hu,14607):l.removedDocuments.size>0&&(qt(f.hu,42227),f.hu=!1))})),await nu(n,r,t)}catch(r){await oo(r)}}function n0(s,t,n){const r=Et(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const y=Et(f);y.onlineState=g;let _=!1;y.queries.forEach(((S,b)=>{for(const N of b.ba)N.va(g)&&(_=!0)})),_&&ng(y)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ZI(s,t,n){const r=Et(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let f=new ue(ht.comparator);f=f.insert(u,Je.newNoDocument(u,_t.min()));const g=Ot().add(u),y=new xh(_t.min(),new Map,new ue(Nt),f,g);await UT(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(t),sg(r)}else await pm(r.localStore,t,!1).then((()=>vm(r,t,n))).catch(oo)}async function WI(s,t){const n=Et(s),r=t.batch.batchId;try{const l=await rI(n.localStore,t);jT(n,r,null),PT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nu(n,l)}catch(l){await oo(l)}}async function tx(s,t,n){const r=Et(s);try{const l=await(function(f,g){const y=Et(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next((b=>(qt(b!==null,37113),S=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(r.localStore,t);jT(r,t,n),PT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nu(r,l)}catch(l){await oo(l)}}function PT(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function jT(s,t,n){const r=Et(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function vm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||zT(s,r)}))}function zT(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(Jm(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),sg(s))}function i0(s,t,n){for(const r of n)r instanceof VT?(s.Vu.addReference(r.key,t),ex(s,r)):r instanceof LT?(it(ig,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||zT(s,r.key)):pt(19791,{wu:r})}function ex(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(it(ig,"New document in limbo: "+n),s.Eu.add(r),sg(s))}function sg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ht(le.fromString(t)),r=s.fu.next();s.Au.set(r,new GI(n)),s.Ru=s.Ru.insert(n,r),IT(s.remoteStore,new Hs(bi(Bm(n.path)),r,"TargetPurposeLimboResolution",Th.ce))}}async function nu(s,t,n){const r=Et(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{f.push(r.pu(y,t,n).then((_=>{var S;if((_||n)&&r.isPrimaryClient){const b=_?!_.fromCache:(S=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Qm.Es(y.targetId,_);u.push(b)}})))})),await Promise.all(f),r.Pu.J_(l),await(async function(y,_){const S=Et(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(_,(N=>X.forEach(N.Ts,(H=>S.persistence.referenceDelegate.addReference(b,N.targetId,H))).next((()=>X.forEach(N.Is,(H=>S.persistence.referenceDelegate.removeReference(b,N.targetId,H)))))))))}catch(b){if(!lo(b))throw b;it(Xm,"Failed to update sequence numbers: "+b)}for(const b of _){const N=b.targetId;if(!b.fromCache){const H=S.vs.get(N),$=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion($);S.vs=S.vs.insert(N,tt)}}})(r.localStore,u))}async function nx(s,t){const n=Et(s);if(!n.currentUser.isEqual(t)){it(ig,"User change. New user:",t.toKey());const r=await bT(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new ot(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await nu(n,r.Ns)}}function ix(s,t){const n=Et(s),r=n.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let l=Ot();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function BT(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ix.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZI.bind(null,t),t.Pu.J_=jI.bind(null,t.eventManager),t.Pu.yu=zI.bind(null,t.eventManager),t}function sx(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tx.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return sI(this.persistence,new eI,t.initialUser,this.serializer)}Cu(t){return new ST(Ym.Vi,this.serializer)}Du(t){return new hI}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class rx extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new z2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ST((r=>fh.Vi(r,n)),this.serializer)}}class Em{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nx.bind(null,this.syncEngine),await VI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kI})()}createDatastore(t){const n=Nh(t.databaseInfo.databaseId),r=pI(t.databaseInfo);return TI(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,f,g){return new SI(r,l,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>n0(this.syncEngine,n,0)),(function(){return Jv.v()?new Jv:new fI})())}createSyncEngine(t,n){return(function(l,u,f,g,y,_,S){const b=new FI(l,u,f,g,y,_);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(l){const u=Et(l);it(Hr,"RemoteStore shutting down."),u.Ea.add(5),await eu(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="FirestoreClient";class ox{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{it(tr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(it(tr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=eg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Xd(s,t){s.asyncQueue.verifyOperationInProgress(),it(tr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await bT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function s0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await lx(s);it(tr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Zv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Zv(t.remoteStore,l))),s._onlineComponents=t}async function lx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(tr,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await Xd(s,new mh)}}else it(tr,"Using default OfflineComponentProvider"),await Xd(s,new rx(void 0));return s._offlineComponents}async function HT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(tr,"Using user provided OnlineComponentProvider"),await s0(s,s._uninitializedComponentsProvider._online)):(it(tr,"Using default OnlineComponentProvider"),await s0(s,new Em))),s._onlineComponents}function ux(s){return HT(s).then((t=>t.syncEngine))}async function cx(s){const t=await HT(s),n=t.eventManager;return n.onListen=KI.bind(null,t.syncEngine),n.onUnlisten=XI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=YI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=JI.bind(null,t.syncEngine),n}function hx(s,t,n={}){const r=new Ys;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,y,_){const S=new ax({next:N=>{S.Nu(),f.enqueueAndForget((()=>PI(u,b)));const H=N.docs.has(g);!H&&N.fromCache?_.reject(new ot(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&y&&y.source==="server"?_.reject(new ot(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),b=new BI(Bm(g.path),S,{includeMetadataChanges:!0,Ka:!0});return UI(u,b)})(await cx(s),s.asyncQueue,t,n,r))),r.promise}function fx(s,t){const n=new Ys;return s.asyncQueue.enqueueAndForget((async()=>$I(await ux(s),t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="ComponentProvider",r0=new Map;function mx(s,t,n,r,l){return new NC(s,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,qT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firestore.googleapis.com",a0=!0;class o0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=a0}else this.host=t.host,this.ssl=t.ssl??a0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<P2)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rg{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lC;switch(r.type){case"firstParty":return new fC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=r0.get(n);r&&(it(dx,"Removing Datastore"),r0.delete(n),r.terminate())})(this),Promise.resolve()}}function gx(s,t,n,r={}){var _;s=kl(s,rg);const l=io(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(j0(`https://${g}`),z0("Firestore",!0)),u.host!==GT&&u.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!Ur(y,f)&&(s._setSettings(y),r.mockUserToken)){let S,b;if(typeof r.mockUserToken=="string")S=r.mockUserToken,b=Xe.MOCK_USER;else{S=y1(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xe(N)}s._authCredentials=new uC(new VE(S,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ag(this.firestore,t,this._query)}}class Ue{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Zl(n,Ue._jsonSchema))return new Ue(t,r||null,new ht(le.fromString(n.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ce("string",Ue._jsonSchemaVersion),referencePath:Ce("string")};class ql extends ag{constructor(t,n,r){super(t,n,Bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new ht(t))}withConverter(t){return new ql(this.firestore,t,this._path)}}function FT(s,t,...n){if(s=En(s),arguments.length===1&&(t=Vm.newId()),_C("doc","path",t),s instanceof rg){const r=le.fromString(t,...n);return Tv(r),new Ue(s,null,new ht(r))}{if(!(s instanceof Ue||s instanceof ql))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(t,...n));return Tv(r),new Ue(s.firestore,s instanceof ql?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="AsyncQueue";class u0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RT(this,"async_queue_retry"),this._c=()=>{const r=Qd();r&&it(l0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!lo(t))throw t;it(l0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",c0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=tg.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function c0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class og extends rg{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new u0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new u0(t),this._firestoreClient=void 0,await t}}}function px(s,t){const n=typeof s=="object"?s:G0(),r=typeof s=="string"?s:rh,l=bm(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=g1("firestore");u&&gx(l,...u)}return l}function KT(s){if(s._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||yx(s),s._firestoreClient}function yx(s){var r,l,u,f;const t=s._freezeSettings(),n=mx(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(l=s._app)==null?void 0:l.options.apiKey,t);s._componentsProvider||(u=t.localCache)!=null&&u._offlineComponentProvider&&((f=t.localCache)!=null&&f._onlineComponentProvider)&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new ox(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ke.fromBase64String(t))}catch(n){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new kn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ce("string",kn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,$n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new $n(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Ce("string",$n._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=/^__.*__$/;class vx{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Yr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(t,this.data,n,this.fieldTransforms)}}function XT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:s})}}class lg{constructor(t,n,r,l,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new lg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var l;const n=(l=this.path)==null?void 0:l.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var l;const n=(l=this.path)==null?void 0:l.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return gh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(XT(this.dataSource)&&_x.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Ex{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Nh(t)}createContext(t,n,r,l=!1){return new lg({dataSource:t,methodName:n,targetDoc:r,path:Fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tx(s){const t=s._freezeSettings(),n=Nh(s._databaseId);return new Ex(s._databaseId,!!t.ignoreUndefinedProperties,n)}function Ax(s,t,n,r,l,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,t,n,l);WT("Data must be an object, but it was:",f,r);const g=$T(r,f);let y,_;if(u.merge)y=new Jn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const S=[];for(const b of u.mergeFields){const N=ug(t,b,n);if(!f.contains(N))throw new ot(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);wx(S,N)||S.push(N)}y=new Jn(S),_=f.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=f.fieldTransforms;return new vx(new Ln(g),y,_)}function JT(s,t){if(ZT(s=En(s)))return WT("Unsupported field value:",t,s),$T(s,t);if(s instanceof QT)return(function(r,l){if(!XT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const g of r){let y=JT(g,l.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ie.fromDate(r);return{timestampValue:hh(l.serializer,u)}}if(r instanceof ie){const u=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(l.serializer,u)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:mT(l.serializer,r._byteString)};if(r instanceof Ue){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof $n)return(function(f,g){const y=f instanceof $n?f.toArray():f;return{mapValue:{fields:{[qE]:{stringValue:GE},[ah]:{arrayValue:{values:y.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Hm(g.serializer,S)}))}}}}}})(r,l);if(TT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Lm(r)}`)})(s,t)}function $T(s,t){const n={};return UE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(s,((r,l)=>{const u=JT(l,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function ZT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ri||s instanceof kn||s instanceof Ue||s instanceof QT||s instanceof $n||TT(s))}function WT(s,t,n){if(!ZT(n)||!LE(n)){const r=Lm(n);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function ug(s,t,n){if((t=En(t))instanceof YT)return t._internalPath;if(typeof t=="string")return bx(s,t);throw gh("Field path arguments must be of type string or ",s,!1,void 0,n)}const Sx=new RegExp("[~\\*/\\[\\]]");function bx(s,t,n){if(t.search(Sx)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new YT(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function gh(s,t,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${l}`),y+=")"),new ot(J.INVALID_ARGUMENT,g+s+y)}function wx(s,t){return s.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{convertValue(t,n="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Fr(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){var r,l,u;const n=(u=(l=(r=t.fields)==null?void 0:r[ah].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>pe(f.doubleValue)));return new $n(n)}convertGeoPoint(t){return new Ri(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Sh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const n=Js(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=le.fromString(t);qt(ET(r),9688,{name:t});const l=new jl(r.get(1),r.get(3)),u=new ht(r.popFirst(5));return l.isEqual(n)||ts(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends Rx{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}const h0="@firebase/firestore",f0="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ix extends tA{data(){return super.data()}}function xx(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class bl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kr extends tA{constructor(t,n,r,l,u,f){super(t,n,r,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ug("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=kr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:Ce("string",kr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Qc extends kr{data(t={}){return super.data(t)}}class Ol{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Qc(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const y=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),S=f.indexOf(g.doc.key)),{type:Nx(g.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ol._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Nx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ol._jsonSchemaVersion="firestore/querySnapshot/1.0",Ol._jsonSchema={type:Ce("string",Ol._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(s){s=kl(s,Ue);const t=kl(s.firestore,og),n=KT(t);return hx(n,s._key).then((r=>Vx(t,s,r)))}function Dx(s,t,n){s=kl(s,Ue);const r=kl(s.firestore,og),l=xx(s.converter,t),u=Tx(r);return Mx(r,[Ax(u,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,$i.none())])}function Mx(s,t){const n=KT(s);return fx(n,t)}function Vx(s,t,n){const r=n.docs.get(t._key),l=new Cx(s);return new kr(s,l,t._key,r,new bl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){oC(so),Ja(new Pr("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new og(new cC(r.getProvider("auth-internal")),new dC(f,r.getProvider("app-check-internal")),OC(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Fs(h0,f0,t),Fs(h0,f0,"esm2020")})();const Lx={apiKey:"AIzaSyBWVBGdXWIXaT14ZS5A3LWJjg44Kt6h-V4",authDomain:"classiflick.firebaseapp.com",projectId:"classiflick",storageBucket:"classiflick.firebasestorage.app",messagingSenderId:"149833014196",appId:"1:149833014196:web:fd693a0c07e3c977b970e1"},eA=q0(Lx),ph=iC(eA),nA=px(eA),iA=Bt.createContext(void 0);function kx({children:s}){const[t,n]=Bt.useState(null),[r,l]=Bt.useState(null),[u,f]=Bt.useState(!0);Bt.useEffect(()=>{const y=Fw(ph,async _=>{if(n(_),_){const S=await Ox(FT(nA,"dusers",_.uid));l(S.exists()?S.data():null)}else l(null);f(!1)});return()=>y()},[]);const g=async()=>{await Kw(ph)};return A.jsx(iA.Provider,{value:{user:t,userData:r,logout:g},children:!u&&s})}function sA(){const s=Bt.useContext(iA);if(!s)throw new Error("useAuth must be used inside AuthProvider");return s}function Ux({switchMode:s}){const[t,n]=Bt.useState(""),[r,l]=Bt.useState(""),[u,f]=Bt.useState(""),[g,y]=Bt.useState(!1),_=async()=>{if(f(""),!t||!r){f("Enter email and password");return}try{y(!0),await Hw(ph,t,r)}catch(S){S.code==="auth/user-not-found"?f("User not found"):S.code==="auth/wrong-password"?f("Wrong password"):f("Invalid credentials")}finally{y(!1)}};return A.jsxs("div",{className:"space-y-4",children:[A.jsx("h2",{className:"text-xl font-bold text-white",children:"Sign In"}),A.jsx("input",{type:"email",placeholder:"Email",onChange:S=>n(S.target.value),className:"auth-input"}),A.jsx("input",{type:"password",placeholder:"Password",onChange:S=>l(S.target.value),className:"auth-input"}),u&&A.jsx("p",{className:"text-red-400 text-sm",children:u}),A.jsx("button",{onClick:_,disabled:g,className:"w-full bg-indigo-600 py-2 rounded-lg text-white font-semibold disabled:opacity-50",children:g?"Signing in...":"Sign In"}),A.jsxs("p",{className:"text-sm text-gray-400",children:["Dont have an account?"," ",A.jsx("span",{onClick:s,className:"text-indigo-400 cursor-pointer hover:underline",children:"Sign up"})]})]})}function Px({switchMode:s}){const[t,n]=Bt.useState({name:"",age:"",gender:"",email:"",password:"",confirmPassword:""}),[r,l]=Bt.useState(""),[u,f]=Bt.useState(!1),g=_=>{n(S=>({...S,[_.target.name]:_.target.value}))},y=async()=>{if(l(""),!t.email||!t.password){l("Missing fields");return}if(t.password!==t.confirmPassword){l("Passwords do not match");return}try{f(!0);const S=(await Bw(ph,t.email,t.password)).user.uid;await Dx(FT(nA,"dusers",S),{name:t.name,age:Number(t.age),gender:t.gender,email:t.email,createdAt:new Date})}catch(_){l(_.message)}finally{f(!1)}};return A.jsxs("div",{className:"space-y-4",children:[A.jsx("h2",{className:"text-xl font-bold text-white",children:"Create Account"}),A.jsx("input",{name:"name",placeholder:"Name",onChange:g,className:"auth-input"}),A.jsx("input",{name:"age",type:"number",placeholder:"Age",onChange:g,className:"auth-input"}),A.jsxs("select",{name:"gender",onChange:g,className:"auth-input bg-[#0b0f14] text-white",children:[A.jsx("option",{value:"",children:"Select gender"}),A.jsx("option",{value:"Male",children:"Male"}),A.jsx("option",{value:"Female",children:"Female"}),A.jsx("option",{value:"Other",children:"Other"})]}),A.jsx("input",{name:"email",placeholder:"Email",onChange:g,className:"auth-input"}),A.jsx("input",{name:"password",type:"password",placeholder:"Password",onChange:g,className:"auth-input"}),A.jsx("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:g,className:"auth-input"}),r&&A.jsx("p",{className:"text-red-400 text-sm",children:r}),A.jsx("button",{onClick:y,disabled:u,className:"w-full bg-indigo-600 py-2 rounded-lg text-white font-semibold",children:u?"Creating...":"Sign Up"}),A.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",A.jsx("span",{onClick:s,className:"text-indigo-400 cursor-pointer",children:"Sign In"})]})]})}function jx({onClose:s}){const[t,n]=Bt.useState("signin"),{user:r}=sA();return Bt.useEffect(()=>{r&&s()},[r]),A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:A.jsxs("div",{className:"glass w-full max-w-md p-6 rounded-xl relative",children:[A.jsx("button",{onClick:s,className:"absolute top-3 right-3 text-gray-400 hover:text-white",children:""}),t==="signin"?A.jsx(Ux,{switchMode:()=>n("signup")}):A.jsx(Px,{switchMode:()=>n("signin")})]})})}const zx=({scrolled:s,onGetStarted:t})=>{const{user:n,userData:r,logout:l}=sA(),[u,f]=Bt.useState(!1);return A.jsxs(A.Fragment,{children:[A.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${s?"py-4 bg-[#0b0f14]/80 backdrop-blur-md border-b border-white/5":"py-6 bg-transparent"}`,children:A.jsxs("div",{className:"container mx-auto px-6 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[A.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center shadow-lg shadow-indigo-600/20",children:A.jsx("span",{className:"font-bold text-white",children:"C"})}),A.jsx("span",{className:"text-xl font-bold tracking-tight text-white",children:"Classiflick"})]}),A.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-gray-400",children:[A.jsx("a",{href:"#features",className:"hover:text-white",children:"Features"}),A.jsx("a",{href:"#how-it-works",className:"hover:text-white",children:"How it works"}),A.jsx("a",{href:"#pricing",className:"hover:text-white",children:"Pricing"}),A.jsx("a",{href:"#about",className:"hover:text-white",children:"About"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[n?A.jsxs(A.Fragment,{children:[r?A.jsxs("span",{className:"hidden sm:block text-sm text-gray-300",children:["Welcome ",r.name||"User"," "]}):A.jsx("span",{className:"hidden sm:block text-sm text-gray-300",children:"Loading..."}),A.jsx("button",{onClick:l,className:"text-sm text-red-400 hover:text-red-300",children:"Logout"})]}):A.jsx("button",{onClick:()=>f(!0),className:"hidden sm:block text-sm font-medium text-white hover:text-indigo-400 transition-colors",children:"Sign In"}),A.jsx("button",{onClick:t,className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-semibold rounded-full transition-all shadow-lg shadow-indigo-600/20 active:scale-95",children:"Get Started"})]})]})}),u&&A.jsx(jx,{onClose:()=>f(!1)})]})};var d0;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(d0||(d0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m0;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(m0||(m0={}));var g0;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(g0||(g0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=["user","model","function","system"];var y0;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(y0||(y0={}));var _0;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(_0||(_0={}));var v0;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(v0||(v0={}));var E0;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(E0||(E0={}));var Dl;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(Dl||(Dl={}));var T0;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(T0||(T0={}));var A0;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(A0||(A0={}));var S0;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(S0||(S0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class ja extends $e{constructor(t,n){super(t),this.response=n}}class rA extends $e{constructor(t,n,r,l){super(t),this.status=n,this.statusText=r,this.errorDetails=l}}class Qs extends $e{}class aA extends $e{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="https://generativelanguage.googleapis.com",Hx="v1beta",qx="0.24.1",Gx="genai-js";var qr;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(qr||(qr={}));class Fx{constructor(t,n,r,l,u){this.model=t,this.task=n,this.apiKey=r,this.stream=l,this.requestOptions=u}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Hx;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Bx}/${r}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function Kx(s){const t=[];return s!=null&&s.apiClient&&t.push(s.apiClient),t.push(`${Gx}/${qx}`),t.join(" ")}async function Yx(s){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Kx(s.requestOptions)),n.append("x-goog-api-key",s.apiKey);let r=(t=s.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(l){throw new Qs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${l.message}`)}for(const[l,u]of r.entries()){if(l==="x-goog-api-key")throw new Qs(`Cannot set reserved header name ${l}`);if(l==="x-goog-api-client")throw new Qs(`Header name ${l} can only be set using the apiClient field`);n.append(l,u)}}return n}async function Qx(s,t,n,r,l,u){const f=new Fx(s,t,n,r,u);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},Zx(u)),{method:"POST",headers:await Yx(f),body:l})}}async function iu(s,t,n,r,l,u={},f=fetch){const{url:g,fetchOptions:y}=await Qx(s,t,n,r,l,u);return Xx(g,y,f)}async function Xx(s,t,n=fetch){let r;try{r=await n(s,t)}catch(l){Jx(l,s)}return r.ok||await $x(r,s),r}function Jx(s,t){let n=s;throw n.name==="AbortError"?(n=new aA(`Request aborted when fetching ${t.toString()}: ${s.message}`),n.stack=s.stack):s instanceof rA||s instanceof Qs||(n=new $e(`Error fetching from ${t.toString()}: ${s.message}`),n.stack=s.stack),n}async function $x(s,t){let n="",r;try{const l=await s.json();n=l.error.message,l.error.details&&(n+=` ${JSON.stringify(l.error.details)}`,r=l.error.details)}catch{}throw new rA(`Error fetching from ${t.toString()}: [${s.status} ${s.statusText}] ${n}`,s.status,s.statusText,r)}function Zx(s){const t={};if((s==null?void 0:s.signal)!==void 0||(s==null?void 0:s.timeout)>=0){const n=new AbortController;(s==null?void 0:s.timeout)>=0&&setTimeout(()=>n.abort(),s.timeout),s!=null&&s.signal&&s.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Xc(s.candidates[0]))throw new ja(`${Us(s)}`,s);return Wx(s)}else if(s.promptFeedback)throw new ja(`Text not available. ${Us(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Xc(s.candidates[0]))throw new ja(`${Us(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),b0(s)[0]}else if(s.promptFeedback)throw new ja(`Function call not available. ${Us(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Xc(s.candidates[0]))throw new ja(`${Us(s)}`,s);return b0(s)}else if(s.promptFeedback)throw new ja(`Function call not available. ${Us(s)}`,s)},s}function Wx(s){var t,n,r,l;const u=[];if(!((n=(t=s.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const f of(l=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||l===void 0?void 0:l.parts)f.text&&u.push(f.text),f.executableCode&&u.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&u.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function b0(s){var t,n,r,l;const u=[];if(!((n=(t=s.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const f of(l=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||l===void 0?void 0:l.parts)f.functionCall&&u.push(f.functionCall);if(u.length>0)return u}const tN=[Dl.RECITATION,Dl.SAFETY,Dl.LANGUAGE];function Xc(s){return!!s.finishReason&&tN.includes(s.finishReason)}function Us(s){var t,n,r;let l="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)l+="Response was blocked",!((t=s.promptFeedback)===null||t===void 0)&&t.blockReason&&(l+=` due to ${s.promptFeedback.blockReason}`),!((n=s.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(l+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((r=s.candidates)===null||r===void 0)&&r[0]){const u=s.candidates[0];Xc(u)&&(l+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(l+=`: ${u.finishMessage}`))}return l}function Gl(s){return this instanceof Gl?(this.v=s,this):new Gl(s)}function eN(s,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(s,t||[]),l,u=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(N){r[N]&&(l[N]=function(H){return new Promise(function($,tt){u.push([N,H,$,tt])>1||g(N,H)})})}function g(N,H){try{y(r[N](H))}catch($){b(u[0][3],$)}}function y(N){N.value instanceof Gl?Promise.resolve(N.value.v).then(_,S):b(u[0][2],N)}function _(N){g("next",N)}function S(N){g("throw",N)}function b(N,H){N(H),u.shift(),u.length&&g(u[0][0],u[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function nN(s){const t=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=rN(t),[r,l]=n.tee();return{stream:sN(r),response:iN(l)}}async function iN(s){const t=[],n=s.getReader();for(;;){const{done:r,value:l}=await n.read();if(r)return cg(aN(t));t.push(l)}}function sN(s){return eN(this,arguments,function*(){const n=s.getReader();for(;;){const{value:r,done:l}=yield Gl(n.read());if(l)break;yield yield Gl(cg(r))}})}function rN(s){const t=s.getReader();return new ReadableStream({start(r){let l="";return u();function u(){return t.read().then(({value:f,done:g})=>{if(g){if(l.trim()){r.error(new $e("Failed to parse stream"));return}r.close();return}l+=f;let y=l.match(w0),_;for(;y;){try{_=JSON.parse(y[1])}catch{r.error(new $e(`Error parsing JSON response: "${y[1]}"`));return}r.enqueue(_),l=l.substring(y[0].length),y=l.match(w0)}return u()}).catch(f=>{let g=f;throw g.stack=f.stack,g.name==="AbortError"?g=new aA("Request aborted when reading from the stream"):g=new $e("Error reading from the stream"),g})}}})}function aN(s){const t=s[s.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of s){if(r.candidates){let l=0;for(const u of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[l]||(n.candidates[l]={index:l}),n.candidates[l].citationMetadata=u.citationMetadata,n.candidates[l].groundingMetadata=u.groundingMetadata,n.candidates[l].finishReason=u.finishReason,n.candidates[l].finishMessage=u.finishMessage,n.candidates[l].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[l].content||(n.candidates[l].content={role:u.content.role||"user",parts:[]});const f={};for(const g of u.content.parts)g.text&&(f.text=g.text),g.functionCall&&(f.functionCall=g.functionCall),g.executableCode&&(f.executableCode=g.executableCode),g.codeExecutionResult&&(f.codeExecutionResult=g.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),n.candidates[l].content.parts.push(f)}l++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(s,t,n,r){const l=await iu(t,qr.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(n),r);return nN(l)}async function lA(s,t,n,r){const u=await(await iu(t,qr.GENERATE_CONTENT,s,!1,JSON.stringify(n),r)).json();return{response:cg(u)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function Fl(s){let t=[];if(typeof s=="string")t=[{text:s}];else for(const n of s)typeof n=="string"?t.push({text:n}):t.push(n);return oN(t)}function oN(s){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,l=!1;for(const u of s)"functionResponse"in u?(n.parts.push(u),l=!0):(t.parts.push(u),r=!0);if(r&&l)throw new $e("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!l)throw new $e("No content is provided for sending chat message.");return r?t:n}function lN(s,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const l=s.generateContentRequest!=null;if(s.contents){if(l)throw new Qs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=s.contents}else if(l)r=Object.assign(Object.assign({},r),s.generateContentRequest);else{const u=Fl(s);r.contents=[u]}return{generateContentRequest:r}}function R0(s){let t;return s.contents?t=s:t={contents:[Fl(s)]},s.systemInstruction&&(t.systemInstruction=uA(s.systemInstruction)),t}function uN(s){return typeof s=="string"||Array.isArray(s)?{content:Fl(s)}:s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],cN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function hN(s){let t=!1;for(const n of s){const{role:r,parts:l}=n;if(!t&&r!=="user")throw new $e(`First content should be with role 'user', got ${r}`);if(!p0.includes(r))throw new $e(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(p0)}`);if(!Array.isArray(l))throw new $e("Content should have 'parts' property with an array of Parts");if(l.length===0)throw new $e("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const g of l)for(const y of C0)y in g&&(u[y]+=1);const f=cN[r];for(const g of C0)if(!f.includes(g)&&u[g]>0)throw new $e(`Content with role '${r}' can't contain '${g}' part`);t=!0}}function I0(s){var t;if(s.candidates===void 0||s.candidates.length===0)return!1;const n=(t=s.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="SILENT_ERROR";class fN{constructor(t,n,r,l={}){this.model=n,this.params=r,this._requestOptions=l,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(hN(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,l,u,f,g,y;await this._sendPromise;const _=Fl(t),S={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(y=this.params)===null||y===void 0?void 0:y.cachedContent,contents:[...this._history,_]},b=Object.assign(Object.assign({},this._requestOptions),n);let N;return this._sendPromise=this._sendPromise.then(()=>lA(this._apiKey,this.model,S,b)).then(H=>{var $;if(I0(H.response)){this._history.push(_);const tt=Object.assign({parts:[],role:"model"},($=H.response.candidates)===null||$===void 0?void 0:$[0].content);this._history.push(tt)}else{const tt=Us(H.response);tt&&console.warn(`sendMessage() was unsuccessful. ${tt}. Inspect response object for details.`)}N=H}).catch(H=>{throw this._sendPromise=Promise.resolve(),H}),await this._sendPromise,N}async sendMessageStream(t,n={}){var r,l,u,f,g,y;await this._sendPromise;const _=Fl(t),S={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(y=this.params)===null||y===void 0?void 0:y.cachedContent,contents:[...this._history,_]},b=Object.assign(Object.assign({},this._requestOptions),n),N=oA(this._apiKey,this.model,S,b);return this._sendPromise=this._sendPromise.then(()=>N).catch(H=>{throw new Error(x0)}).then(H=>H.response).then(H=>{if(I0(H)){this._history.push(_);const $=Object.assign({},H.candidates[0].content);$.role||($.role="model"),this._history.push($)}else{const $=Us(H);$&&console.warn(`sendMessageStream() was unsuccessful. ${$}. Inspect response object for details.`)}}).catch(H=>{H.message!==x0&&console.error(H)}),N}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(s,t,n,r){return(await iu(t,qr.COUNT_TOKENS,s,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(s,t,n,r){return(await iu(t,qr.EMBED_CONTENT,s,!1,JSON.stringify(n),r)).json()}async function gN(s,t,n,r){const l=n.requests.map(f=>Object.assign(Object.assign({},f),{model:t}));return(await iu(t,qr.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:l}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=uA(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const l=R0(t),u=Object.assign(Object.assign({},this._requestOptions),n);return lA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},l),u)}async generateContentStream(t,n={}){var r;const l=R0(t),u=Object.assign(Object.assign({},this._requestOptions),n);return oA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},l),u)}startChat(t){var n;return new fN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=lN(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),l=Object.assign(Object.assign({},this._requestOptions),n);return dN(this.apiKey,this.model,r,l)}async embedContent(t,n={}){const r=uN(t),l=Object.assign(Object.assign({},this._requestOptions),n);return mN(this.apiKey,this.model,r,l)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return gN(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new $e("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new N0(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Qs("Cached content must contain a `name` field.");if(!t.model)throw new Qs("Cached content must contain a `model` field.");const l=["model","systemInstruction"];for(const f of l)if(n!=null&&n[f]&&t[f]&&(n==null?void 0:n[f])!==t[f]){if(f==="model"){const g=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,y=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(g===y)continue}throw new Qs(`Different value for "${f}" specified in modelParams (${n[f]}) and cachedContent (${t[f]})`)}const u=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new N0(this.apiKey,u,r)}}const O0=["Auto (Detect Automatically)","English","Tamil","Hindi","Malayalam","Telugu"],yN=({onClose:s})=>{const[t,n]=Bt.useState(!1),[r,l]=Bt.useState(O0[0]),[u,f]=Bt.useState(null),[g,y]=Bt.useState(!1),[_,S]=Bt.useState(null),b=Bt.useRef(null),N=Bt.useRef([]),H=async()=>{try{const Z=await navigator.mediaDevices.getUserMedia({audio:!0}),lt=new MediaRecorder(Z);b.current=lt,N.current=[],lt.ondataavailable=ft=>{ft.data.size>0&&N.current.push(ft.data)},lt.onstop=async()=>{const ft=new Blob(N.current,{type:"audio/webm"});await tt(ft)},lt.start(),n(!0),S(null),f(null)}catch(Z){S(Z.message||"Microphone access denied.")}},$=()=>{b.current&&t&&(b.current.stop(),n(!1),b.current.stream.getTracks().forEach(Z=>Z.stop()))},tt=async Z=>{var lt,ft;y(!0),S(null);try{const mt=await new Promise((R,Wt)=>{const se=new FileReader;se.onloadend=()=>{const G=se.result.split(",")[1];R(G)},se.onerror=Wt,se.readAsDataURL(Z)}),Ht="AIzaSyAKejOZF3h_qL3R5GaC_42XNZ9veXaPmUA",Lt=new pN(Ht).getGenerativeModel({model:"gemini-2.5-flash"},{apiVersion:"v1"}),w=`Analyze this audio recording to determine if it's from a real human voice or AI-generated (text-to-speech, deepfake, etc.).

${r==="Auto (Detect Automatically)"?"Detect the language automatically.":`The expected language is ${r}.`}

Focus on:
1. Vocal authenticity - natural breath sounds, micro-variations in pitch
2. Prosody patterns - human-like rhythm and intonation changes
3. Spectral characteristics - frequency distributions typical of human vs synthetic voices
4. Artifacts - digital artifacts common in TTS/AI voices
5. Emotional authenticity - genuine emotional expression in voice

Respond ONLY in valid JSON format (no markdown):
{
  "classification": "Human-generated" or "AI-generated",
  "confidence": <number 0.0 to 1.0>,
  "language": "English" or "Tamil" or "Hindi" or "Malayalam" or "Telugu" or "Unknown",
  "explanation": "Brief explanation of acoustic features that led to this classification"
}`,k=(await(await Lt.generateContent([{inlineData:{mimeType:"audio/webm",data:mt}},{text:w}])).response).text().replace(/```json|```/g,"").trim();f(JSON.parse(k))}catch(mt){console.error("Analysis Error:",mt),(lt=mt.message)!=null&&lt.includes("not found")||(ft=mt.message)!=null&&ft.includes("404")?S("Audio analysis not supported with current API. The model may not support audio input yet."):S(`Error: ${mt.message||"Analysis failed"}`)}finally{y(!1)}};return A.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:[A.jsxs("div",{className:"bg-gray-900 w-full max-w-lg rounded-3xl p-8 relative border border-white/10 shadow-2xl",children:[A.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:""}),A.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Voice Authenticity Analyzer"}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white/5 p-4 rounded-xl",children:[A.jsx("label",{className:"block text-xs font-bold text-indigo-400 uppercase mb-2",children:"Detection Mode"}),A.jsx("select",{value:r,onChange:Z=>l(Z.target.value),className:"w-full bg-black border border-white/10 rounded-lg px-4 py-2 text-white outline-none focus:border-indigo-500",disabled:t,children:O0.map(Z=>A.jsx("option",{value:Z,children:Z},Z))}),A.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Analyzes actual audio waveforms, not just text."})]}),A.jsx("div",{className:"flex flex-col items-center justify-center p-8 border-2 border-dashed border-white/10 rounded-2xl bg-black/20",children:t?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/20 flex items-center justify-center mb-4 animate-pulse",children:A.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500 flex items-center justify-center",children:A.jsx("div",{className:"w-4 h-4 bg-white rounded-sm"})})}),A.jsx("button",{onClick:$,className:"bg-red-500 hover:bg-red-600 text-white px-8 py-3 rounded-full font-bold transition-all",children:"Stop Recording"}),A.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Recording... Speak for 3-5 seconds"})]}):g?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin mb-4"}),A.jsx("p",{className:"text-gray-300 font-medium",children:"Analyzing audio waveforms..."}),A.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"This may take 10-15 seconds"})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-600/20 flex items-center justify-center mb-4",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[A.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),A.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),A.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})}),A.jsx("button",{onClick:H,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-full font-bold transition-all",children:"Start Voice Analysis"}),A.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Click to analyze your voice"})]})}),_&&A.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/50 rounded-xl text-red-500 text-sm",children:[A.jsx("strong",{children:"Error:"})," ",_]}),u&&A.jsxs("div",{className:"space-y-3 animate-fade-in",children:[A.jsxs("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/50 rounded-xl",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-[10px] text-gray-400 uppercase mb-0.5",children:"Classification"}),A.jsx("div",{className:`text-base font-bold shine-text ${u.classification==="Human-generated"?"text-green-400":"text-red-400"}`,children:u.classification})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("h3",{className:"font-bold text-[10px] text-gray-400 uppercase mb-0.5",children:"Confidence"}),A.jsxs("div",{className:"text-base font-bold text-white shine-text",children:[(u.confidence*100).toFixed(1),"%"]})]})]}),A.jsxs("div",{className:"mb-2 pb-2 border-b border-white/10",children:[A.jsx("h3",{className:"font-bold text-[10px] text-gray-400 uppercase mb-0.5",children:"Language"}),A.jsx("div",{className:"text-sm text-indigo-400 font-medium",children:u.language})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-[10px] text-gray-400 uppercase mb-0.5",children:"Explanation"}),A.jsx("p",{className:"text-[11px] text-gray-300 leading-relaxed",children:u.explanation})]})]}),A.jsx("button",{onClick:()=>f(null),className:"w-full py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold rounded-xl transition-all",children:"Analyze Another Voice"})]})]})]}),A.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
        
        @keyframes shine {
          0% { filter: brightness(1); }
          50% { filter: brightness(1.3) drop-shadow(0 0 8px currentColor); }
          100% { filter: brightness(1); }
        }
        .shine-text {
          animation: shine 2s ease-in-out infinite;
        }
      `})]})},_l=["Initializing Secure Channel...","Capturing Spectral Density...","Analyzing Harmonic Distortions...","Comparing Neural Fingerprints...","Scanning for Synthetic Artifacts...","Calculating Confidence Vector..."],_N=({onClose:s})=>{const[t,n]=Bt.useState(0),[r,l]=Bt.useState(!1);return Bt.useEffect(()=>{if(t<_l.length){const u=setTimeout(()=>{n(f=>f+1)},800);return()=>clearTimeout(u)}else l(!0)},[t]),A.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/90 backdrop-blur-md",children:A.jsxs("div",{className:"w-full max-w-4xl rounded-3xl overflow-hidden border border-white/10 bg-[#0b0f14] shadow-2xl relative",children:[A.jsx("button",{onClick:s,className:"absolute top-6 right-6 z-10 text-gray-500 hover:text-white transition-colors",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 min-h-[500px]",children:[A.jsxs("div",{className:"relative bg-[#0d1218] p-12 flex flex-col justify-center items-center overflow-hidden border-r border-white/5",children:[A.jsx("div",{className:"absolute inset-0 opacity-20",children:A.jsx("div",{className:"w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-from)_0%,_transparent_70%)] from-indigo-500/20"})}),r?A.jsxs("div",{className:"text-center animate-fade-in",children:[A.jsx("div",{className:"w-24 h-24 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-emerald-500/30",children:A.jsx("svg",{className:"w-12 h-12 text-emerald-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:A.jsx("polyline",{points:"20 6 9 17 4 12"})})}),A.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"Verified Human"}),A.jsx("p",{className:"text-emerald-400/80 font-medium",children:"Identity Confirmed"})]}):A.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[A.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500/10 rounded-full"}),A.jsx("div",{className:"absolute inset-0 border-4 border-t-indigo-500 rounded-full animate-spin"}),A.jsxs("div",{className:"text-indigo-400 font-mono text-2xl animate-pulse",children:[Math.floor(t/_l.length*100),"%"]})]})]}),A.jsxs("div",{className:"bg-black p-12 font-mono text-sm overflow-y-auto",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-8 border-b border-white/10 pb-4",children:[A.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),A.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),A.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),A.jsx("span",{className:"text-gray-500 ml-4",children:"classification_engine_v4.2.0"})]}),A.jsxs("div",{className:"space-y-4",children:[_l.slice(0,t).map((u,f)=>A.jsxs("div",{className:"flex gap-4 animate-fade-in",children:[A.jsxs("span",{className:"text-indigo-500",children:["[",new Date().toLocaleTimeString([],{hour12:!1,second:"2-digit",minute:"2-digit"}),"]"]}),A.jsx("span",{className:"text-emerald-500",children:"READY"}),A.jsx("span",{className:"text-gray-300",children:u})]},f)),t<_l.length&&A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("span",{className:"text-indigo-500",children:["[",new Date().toLocaleTimeString([],{hour12:!1,second:"2-digit",minute:"2-digit"}),"]"]}),A.jsx("span",{className:"text-indigo-400 animate-pulse",children:"RUNNING"}),A.jsx("span",{className:"text-white",children:_l[t]})]}),r&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex gap-4 animate-fade-in",children:[A.jsxs("span",{className:"text-indigo-500",children:["[",new Date().toLocaleTimeString([],{hour12:!1,second:"2-digit",minute:"2-digit"}),"]"]}),A.jsx("span",{className:"text-cyan-500",children:"INFO"}),A.jsx("span",{className:"text-white font-bold",children:"Detected Language: Auto (Pending)"})]}),A.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-xl border border-white/10 space-y-2 animate-fade-in",children:[A.jsx("div",{className:"text-emerald-400 font-bold",children:"Analysis Complete:"}),A.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[A.jsx("div",{className:"text-gray-500",children:"Score:"}),A.jsx("div",{className:"text-white",children:"0.9982"}),A.jsx("div",{className:"text-gray-500",children:"Type:"}),A.jsx("div",{className:"text-white",children:"NATURAL_HUMAN"}),A.jsx("div",{className:"text-gray-500",children:"Latency:"}),A.jsx("div",{className:"text-white",children:"184ms"}),A.jsx("div",{className:"text-gray-500",children:"Language:"}),A.jsx("div",{className:"text-indigo-400 italic",children:"Auto (Pending)"})]})]})]})]})]})]})]})})},vN=()=>{const[s,t]=Bt.useState(!1),[n,r]=Bt.useState(!1),[l,u]=Bt.useState(!1);return Bt.useEffect(()=>{const f=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),A.jsxs("div",{className:"min-h-screen bg-[#0b0f14] selection:bg-indigo-500/30 overflow-x-hidden",children:[A.jsx("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 w-full max-w-6xl h-[500px] bg-indigo-900/10 blur-[120px] rounded-full -z-10 pointer-events-none"}),A.jsx("div",{className:"fixed bottom-0 right-0 w-96 h-96 bg-cyan-900/10 blur-[100px] rounded-full -z-10 pointer-events-none"}),A.jsx(zx,{scrolled:s,onGetStarted:()=>r(!0)}),A.jsxs("main",{children:[A.jsx(t1,{onAnalyzeClick:()=>r(!0),onDemoClick:()=>u(!0)}),A.jsx(n1,{}),A.jsx(i1,{}),A.jsx(s1,{}),A.jsx(r1,{onStartTrial:()=>r(!0)})]}),A.jsx(a1,{}),n&&A.jsx(yN,{onClose:()=>r(!1)}),l&&A.jsx(_N,{onClose:()=>u(!1)})]})},cA=document.getElementById("root");if(!cA)throw new Error("Could not find root element to mount to");const EN=ZS.createRoot(cA);EN.render(A.jsx(GS.StrictMode,{children:A.jsx(kx,{children:A.jsx(vN,{})})}));
